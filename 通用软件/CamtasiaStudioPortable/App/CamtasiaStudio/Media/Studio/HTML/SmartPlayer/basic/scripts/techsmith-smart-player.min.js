/*! TechSmith Smart Player v4.13.0 */

!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=!!a&&"length"in a&&a.length,c=na.type(a);return"function"!==c&&!na.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a,b,c){if(na.isFunction(b))return na.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return na.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(xa.test(b))return na.filter(b,a,c);b=na.filter(b,a)}return na.grep(a,function(a){return na.inArray(a,b)>-1!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b={};return na.each(a.match(Da)||[],function(a,c){b[c]=!0}),b}function g(){da.addEventListener?(da.removeEventListener("DOMContentLoaded",h),a.removeEventListener("load",h)):(da.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(da.addEventListener||"load"===a.event.type||"complete"===da.readyState)&&(g(),na.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(Ia,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:Ha.test(c)?na.parseJSON(c):c)}catch(a){}na.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!na.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(Ga(a)){var e,f,g=na.expando,h=a.nodeType,i=h?na.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=ca.pop()||na.guid++:g),i[j]||(i[j]=h?{}:{toJSON:na.noop}),"object"!=typeof b&&"function"!=typeof b||(d?i[j]=na.extend(i[j],b):i[j].data=na.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[na.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[na.camelCase(b)])):e=f,e}}function l(a,b,c){if(Ga(a)){var d,e,f=a.nodeType,g=f?na.cache:a,h=f?a[na.expando]:na.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){na.isArray(b)?b=b.concat(na.map(b,na.camelCase)):b in d?b=[b]:(b=na.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!na.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?na.cleanData([a],!0):la.deleteExpando||g!=g.window?delete g[h]:g[h]=void 0)}}}function m(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return na.css(a,b,"")},i=h(),j=c&&c[3]||(na.cssNumber[b]?"":"px"),k=(na.cssNumber[b]||"px"!==j&&+i)&&Ka.exec(na.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,na.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function n(a){var b=Sa.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){var c,d,e=0,f="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||na.nodeName(d,b)?f.push(d):na.merge(f,o(d,b));return void 0===b||b&&na.nodeName(a,b)?na.merge([a],f):f}function p(a,b){for(var c,d=0;null!=(c=a[d]);d++)na._data(c,"globalEval",!b||na._data(b[d],"globalEval"))}function q(a){Oa.test(a.type)&&(a.defaultChecked=a.checked)}function r(a,b,c,d,e){for(var f,g,h,i,j,k,l,m=a.length,r=n(b),s=[],t=0;t<m;t++)if(g=a[t],g||0===g)if("object"===na.type(g))na.merge(s,g.nodeType?[g]:g);else if(Ua.test(g)){for(i=i||r.appendChild(b.createElement("div")),j=(Pa.exec(g)||["",""])[1].toLowerCase(),l=Ta[j]||Ta._default,i.innerHTML=l[1]+na.htmlPrefilter(g)+l[2],f=l[0];f--;)i=i.lastChild;if(!la.leadingWhitespace&&Ra.test(g)&&s.push(b.createTextNode(Ra.exec(g)[0])),!la.tbody)for(g="table"!==j||Va.test(g)?"<table>"!==l[1]||Va.test(g)?0:i:i.firstChild,f=g&&g.childNodes.length;f--;)na.nodeName(k=g.childNodes[f],"tbody")&&!k.childNodes.length&&g.removeChild(k);for(na.merge(s,i.childNodes),i.textContent="";i.firstChild;)i.removeChild(i.firstChild);i=r.lastChild}else s.push(b.createTextNode(g));for(i&&r.removeChild(i),la.appendChecked||na.grep(o(s,"input"),q),t=0;g=s[t++];)if(d&&na.inArray(g,d)>-1)e&&e.push(g);else if(h=na.contains(g.ownerDocument,g),i=o(r.appendChild(g),"script"),h&&p(i),c)for(f=0;g=i[f++];)Qa.test(g.type||"")&&c.push(g);return i=null,r}function s(){return!0}function t(){return!1}function u(){try{return da.activeElement}catch(a){}}function v(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)v(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=t;else if(!e)return a;return 1===f&&(g=e,e=function(a){return na().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=na.guid++)),a.each(function(){na.event.add(this,b,e,d,c)})}function w(a,b){return na.nodeName(a,"table")&&na.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function x(a){return a.type=(null!==na.find.attr(a,"type"))+"/"+a.type,a}function y(a){var b=eb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function z(a,b){if(1===b.nodeType&&na.hasData(a)){var c,d,e,f=na._data(a),g=na._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)na.event.add(b,c,h[c][d])}g.data&&(g.data=na.extend({},g.data))}}function A(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!la.noCloneEvent&&b[na.expando]){e=na._data(b);for(d in e.events)na.removeEvent(b,d,e.handle);b.removeAttribute(na.expando)}"script"===c&&b.text!==a.text?(x(b).text=a.text,y(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),la.html5Clone&&a.innerHTML&&!na.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Oa.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function B(a,b,c,d){b=fa.apply([],b);var e,f,g,h,i,j,k=0,l=a.length,m=l-1,n=b[0],p=na.isFunction(n);if(p||l>1&&"string"==typeof n&&!la.checkClone&&db.test(n))return a.each(function(e){var f=a.eq(e);p&&(b[0]=n.call(this,e,f.html())),B(f,b,c,d)});if(l&&(j=r(b,a[0].ownerDocument,!1,a,d),e=j.firstChild,1===j.childNodes.length&&(j=e),e||d)){for(h=na.map(o(j,"script"),x),g=h.length;k<l;k++)f=j,k!==m&&(f=na.clone(f,!0,!0),g&&na.merge(h,o(f,"script"))),c.call(a[k],f,k);if(g)for(i=h[h.length-1].ownerDocument,na.map(h,y),k=0;k<g;k++)f=h[k],Qa.test(f.type||"")&&!na._data(f,"globalEval")&&na.contains(i,f)&&(f.src?na._evalUrl&&na._evalUrl(f.src):na.globalEval((f.text||f.textContent||f.innerHTML||"").replace(fb,"")));j=e=null}return a}function C(a,b,c){for(var d,e=b?na.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||na.cleanData(o(d)),d.parentNode&&(c&&na.contains(d.ownerDocument,d)&&p(o(d,"script")),d.parentNode.removeChild(d));return a}function D(a,b){var c=na(b.createElement(a)).appendTo(b.body),d=na.css(c[0],"display");return c.detach(),d}function E(a){var b=da,c=jb[a];return c||(c=D(a,b),"none"!==c&&c||(ib=(ib||na("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(ib[0].contentWindow||ib[0].contentDocument).document,b.write(),b.close(),c=D(a,b),ib.detach()),jb[a]=c),c}function F(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function G(a){if(a in yb)return a;for(var b=a.charAt(0).toUpperCase()+a.slice(1),c=xb.length;c--;)if(a=xb[c]+b,a in yb)return a}function H(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=na._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ma(d)&&(f[g]=na._data(d,"olddisplay",E(d.nodeName)))):(e=Ma(d),(c&&"none"!==c||!e)&&na._data(d,"olddisplay",e?c:na.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function I(a,b,c){var d=ub.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function J(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=na.css(a,c+La[f],!0,e)),d?("content"===c&&(g-=na.css(a,"padding"+La[f],!0,e)),"margin"!==c&&(g-=na.css(a,"border"+La[f]+"Width",!0,e))):(g+=na.css(a,"padding"+La[f],!0,e),"padding"!==c&&(g+=na.css(a,"border"+La[f]+"Width",!0,e)));return g}function K(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=ob(a),g=la.boxSizing&&"border-box"===na.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=pb(a,b,f),(e<0||null==e)&&(e=a.style[b]),lb.test(e))return e;d=g&&(la.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+J(a,b,c||(g?"border":"content"),d,f)+"px"}function L(a,b,c,d,e){return new L.prototype.init(a,b,c,d,e)}function M(){return a.setTimeout(function(){zb=void 0}),zb=na.now()}function N(a,b){var c,d={height:a},e=0;for(b=b?1:0;e<4;e+=2-b)c=La[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function O(a,b,c){for(var d,e=(R.tweeners[b]||[]).concat(R.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function P(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Ma(a),p=na._data(a,"fxshow");c.queue||(h=na._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,na.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=na.css(a,"display"),k="none"===j?na._data(a,"olddisplay")||E(a.nodeName):j,"inline"===k&&"none"===na.css(a,"float")&&(la.inlineBlockNeedsLayout&&"inline"!==E(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",la.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Bb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||na.style(a,d)}else j=void 0;if(na.isEmptyObject(m))"inline"===("none"===j?E(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=na._data(a,"fxshow",{}),f&&(p.hidden=!o),o?na(a).show():l.done(function(){na(a).hide()}),l.done(function(){var b;na._removeData(a,"fxshow");for(b in m)na.style(a,b,m[b])});for(d in m)g=O(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Q(a,b){var c,d,e,f,g;for(c in a)if(d=na.camelCase(c),e=b[d],f=a[c],na.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=na.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function R(a,b,c){var d,e,f=0,g=R.prefilters.length,h=na.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=zb||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:na.extend({},b),opts:na.extend(!0,{specialEasing:{},easing:na.easing._default},c),originalProperties:b,originalOptions:c,startTime:zb||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=na.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Q(k,j.opts.specialEasing);f<g;f++)if(d=R.prefilters[f].call(j,a,k,j.opts))return na.isFunction(d.stop)&&(na._queueHooks(j.elem,j.opts.queue).stop=na.proxy(d.stop,d)),d;return na.map(k,O,j),na.isFunction(j.opts.start)&&j.opts.start.call(a,j),na.fx.timer(na.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function S(a){return na.attr(a,"class")||""}function T(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Da)||[];if(na.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function U(a,b,c,d){function e(h){var i;return f[h]=!0,na.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===$b;return e(b.dataTypes[0])||!f["*"]&&e("*")}function V(a,b){var c,d,e=na.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&na.extend(!0,a,c),a}function W(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}if(f)return f!==i[0]&&i.unshift(f),c[f]}function X(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Y(a){return a.style&&a.style.display||na.css(a,"display")}function Z(a){if(!na.contains(a.ownerDocument||da,a))return!0;for(;a&&1===a.nodeType;){if("none"===Y(a)||"hidden"===a.type)return!0;a=a.parentNode}return!1}function $(a,b,c,d){var e;if(na.isArray(b))na.each(b,function(b,e){c||dc.test(a)?d(a,e):$(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==na.type(b))d(a,b);else for(e in b)$(a+"["+e+"]",b[e],c,d)}function _(){try{return new a.XMLHttpRequest}catch(a){}}function aa(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function ba(a){return na.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var ca=[],da=a.document,ea=ca.slice,fa=ca.concat,ga=ca.push,ha=ca.indexOf,ia={},ja=ia.toString,ka=ia.hasOwnProperty,la={},ma="1.12.4",na=function(a,b){return new na.fn.init(a,b)},oa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pa=/^-ms-/,qa=/-([\da-z])/gi,ra=function(a,b){return b.toUpperCase()};na.fn=na.prototype={jquery:ma,constructor:na,selector:"",length:0,toArray:function(){return ea.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:ea.call(this)},pushStack:function(a){var b=na.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return na.each(this,a)},map:function(a){return this.pushStack(na.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ga,sort:ca.sort,splice:ca.splice},na.extend=na.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||na.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(na.isPlainObject(c)||(b=na.isArray(c)))?(b?(b=!1,f=a&&na.isArray(a)?a:[]):f=a&&na.isPlainObject(a)?a:{},g[d]=na.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},na.extend({expando:"jQuery"+(ma+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===na.type(a)},isArray:Array.isArray||function(a){return"array"===na.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!na.isArray(a)&&b-parseFloat(b)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==na.type(a)||a.nodeType||na.isWindow(a))return!1;try{if(a.constructor&&!ka.call(a,"constructor")&&!ka.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}if(!la.ownFirst)for(b in a)return ka.call(a,b);for(b in a);return void 0===b||ka.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ia[ja.call(a)]||"object":typeof a},globalEval:function(b){b&&na.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(pa,"ms-").replace(qa,ra)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,e=0;if(c(a))for(d=a.length;e<d&&b.call(a[e],e,a[e])!==!1;e++);else for(e in a)if(b.call(a[e],e,a[e])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(oa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?na.merge(d,"string"==typeof a?[a]:a):ga.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(ha)return ha.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f,g=0,h=[];if(c(a))for(e=a.length;g<e;g++)f=b(a[g],g,d),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,d),null!=f&&h.push(f);return fa.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(e=a[b],b=a,a=e),na.isFunction(a))return c=ea.call(arguments,2),d=function(){return a.apply(b||this,c.concat(ea.call(arguments)))},d.guid=a.guid=a.guid||na.guid++,d},now:function(){return+new Date},support:la}),"function"==typeof Symbol&&(na.fn[Symbol.iterator]=ca[Symbol.iterator]),na.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ia["[object "+b+"]"]=b.toLowerCase()});var sa=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o=b&&b.ownerDocument,p=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==p&&9!==p&&11!==p)return c;if(!d&&((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,I)){if(11!==p&&(j=ra.exec(a)))if(e=j[1]){if(9===p){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(o&&(g=o.getElementById(e))&&M(b,g)&&g.id===e)return c.push(g),c}else{if(j[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=j[3])&&v.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(v.qsa&&!T[a+" "]&&(!J||!J.test(a))){if(1!==p)o=b,n=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,"\\$&"):b.setAttribute("id",h=N),l=z(a),f=l.length,i=ma.test(h)?"#"+h:"[id='"+h+"']";f--;)l[f]=i+" "+m(l[f]);n=l.join(","),o=sa.test(a)&&k(b.parentNode)||b}if(n)try{return $.apply(c,o.querySelectorAll(n)),c}catch(a){}finally{h===N&&b.removeAttribute("id")}}}return B(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[N]||(b[N]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===P&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g===G||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===G||(F(k),h=!I);m=a[l++];)if(m(k,g||G,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=/'|\\/g,ua=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),va=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},wa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(a){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=G.documentElement,I=!y(G),(c=G.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",wa,!1):c.attachEvent&&c.attachEvent("onunload",wa)),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(G.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=qa.test(G.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!G.getElementsByName||!G.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c?[c]:[]}},w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&I)return b.getElementsByClassName(a)},K=[],J=[],(v.qsa=qa.test(G.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=G.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=qa.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",fa)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=qa.test(H.compareDocumentPosition),M=b||qa.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===G||a.ownerDocument===O&&M(O,a)?-1:b===G||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===G?-1:b===G?1:e?-1:f?1:D?aa(D,a)-aa(D,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===O?-1:i[d]===O?1:0},G):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(ka,"='$1']"),v.matchesSelector&&I&&!T[c+" "]&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[3]||a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ua,va).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){
k[a]=[P,n,t];break}}else if(s&&(m=b,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[P,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ha,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ua,va),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[c<0?c+b:c]}),even:j(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){d&&!(e=ia.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in w.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(ua,va),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(ua,va),sa.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,!b||sa.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);na.find=sa,na.expr=sa.selectors,na.expr[":"]=na.expr.pseudos,na.uniqueSort=na.unique=sa.uniqueSort,na.text=sa.getText,na.isXMLDoc=sa.isXML,na.contains=sa.contains;var ta=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&na(a).is(c))break;d.push(a)}return d},ua=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},va=na.expr.match.needsContext,wa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,xa=/^.[^:#\[\.,]*$/;na.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?na.find.matchesSelector(d,a)?[d]:[]:na.find.matches(a,na.grep(b,function(a){return 1===a.nodeType}))},na.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(na(a).filter(function(){for(b=0;b<e;b++)if(na.contains(d[b],this))return!0}));for(b=0;b<e;b++)na.find(a,d[b],c);return c=this.pushStack(e>1?na.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&va.test(a)?na(a):a||[],!1).length}});var ya,za=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Aa=na.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||ya,"string"==typeof a){if(d="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:za.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof na?b[0]:b,na.merge(this,na.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:da,!0)),wa.test(d[1])&&na.isPlainObject(b))for(d in b)na.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}if(e=da.getElementById(d[2]),e&&e.parentNode){if(e.id!==d[2])return ya.find(a);this.length=1,this[0]=e}return this.context=da,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):na.isFunction(a)?"undefined"!=typeof c.ready?c.ready(a):a(na):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),na.makeArray(a,this))};Aa.prototype=na.fn,ya=na(da);var Ba=/^(?:parents|prev(?:Until|All))/,Ca={children:!0,contents:!0,next:!0,prev:!0};na.fn.extend({has:function(a){var b,c=na(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(na.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=va.test(a)||"string"!=typeof a?na(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&na.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?na.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?na.inArray(this[0],na(a)):na.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(na.uniqueSort(na.merge(this.get(),na(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),na.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ta(a,"parentNode")},parentsUntil:function(a,b,c){return ta(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return ta(a,"nextSibling")},prevAll:function(a){return ta(a,"previousSibling")},nextUntil:function(a,b,c){return ta(a,"nextSibling",c)},prevUntil:function(a,b,c){return ta(a,"previousSibling",c)},siblings:function(a){return ua((a.parentNode||{}).firstChild,a)},children:function(a){return ua(a.firstChild)},contents:function(a){return na.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:na.merge([],a.childNodes)}},function(a,b){na.fn[a]=function(c,d){var e=na.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=na.filter(d,e)),this.length>1&&(Ca[a]||(e=na.uniqueSort(e)),Ba.test(a)&&(e=e.reverse())),this.pushStack(e)}});var Da=/\S+/g;na.Callbacks=function(a){a="string"==typeof a?f(a):na.extend({},a);var b,c,d,e,g=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<g.length;)g[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=g.length,c=!1);a.memory||(c=!1),b=!1,e&&(g=c?[]:"")},k={add:function(){return g&&(c&&!b&&(i=g.length-1,h.push(c)),function b(c){na.each(c,function(c,d){na.isFunction(d)?a.unique&&k.has(d)||g.push(d):d&&d.length&&"string"!==na.type(d)&&b(d)})}(arguments),c&&!b&&j()),this},remove:function(){return na.each(arguments,function(a,b){for(var c;(c=na.inArray(b,g,c))>-1;)g.splice(c,1),c<=i&&i--}),this},has:function(a){return a?na.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return e=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return e=!0,c||k.disable(),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},na.extend({Deferred:function(a){var b=[["resolve","done",na.Callbacks("once memory"),"resolved"],["reject","fail",na.Callbacks("once memory"),"rejected"],["notify","progress",na.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return na.Deferred(function(c){na.each(b,function(b,f){var g=na.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&na.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?na.extend(a,d):d}},e={};return d.pipe=d.then,na.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=ea.call(arguments),g=f.length,h=1!==g||a&&na.isFunction(a.promise)?g:0,i=1===h?a:na.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?ea.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&na.isFunction(f[e].promise)?f[e].promise().progress(j(e,c,b)).done(j(e,d,f)).fail(i.reject):--h;return h||i.resolveWith(d,f),i.promise()}});var Ea;na.fn.ready=function(a){return na.ready.promise().done(a),this},na.extend({isReady:!1,readyWait:1,holdReady:function(a){a?na.readyWait++:na.ready(!0)},ready:function(a){(a===!0?--na.readyWait:na.isReady)||(na.isReady=!0,a!==!0&&--na.readyWait>0||(Ea.resolveWith(da,[na]),na.fn.triggerHandler&&(na(da).triggerHandler("ready"),na(da).off("ready"))))}}),na.ready.promise=function(b){if(!Ea)if(Ea=na.Deferred(),"complete"===da.readyState||"loading"!==da.readyState&&!da.documentElement.doScroll)a.setTimeout(na.ready);else if(da.addEventListener)da.addEventListener("DOMContentLoaded",h),a.addEventListener("load",h);else{da.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&da.documentElement}catch(a){}c&&c.doScroll&&!function b(){if(!na.isReady){try{c.doScroll("left")}catch(c){return a.setTimeout(b,50)}g(),na.ready()}}()}return Ea.promise(b)},na.ready.promise();var Fa;for(Fa in na(la))break;la.ownFirst="0"===Fa,la.inlineBlockNeedsLayout=!1,na(function(){var a,b,c,d;c=da.getElementsByTagName("body")[0],c&&c.style&&(b=da.createElement("div"),d=da.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",la.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=da.createElement("div");la.deleteExpando=!0;try{delete a.test}catch(a){la.deleteExpando=!1}a=null}();var Ga=function(a){var b=na.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||b!==!0&&a.getAttribute("classid")===b)},Ha=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ia=/([A-Z])/g;na.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?na.cache[a[na.expando]]:a[na.expando],!!a&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),na.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=na.data(f),1===f.nodeType&&!na._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=na.camelCase(d.slice(5)),i(f,d,e[d])));na._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){na.data(this,a)}):arguments.length>1?this.each(function(){na.data(this,a,b)}):f?i(f,a,na.data(f,a)):void 0},removeData:function(a){return this.each(function(){na.removeData(this,a)})}}),na.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=na._data(a,b),c&&(!d||na.isArray(c)?d=na._data(a,b,na.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=na.queue(a,b),d=c.length,e=c.shift(),f=na._queueHooks(a,b),g=function(){na.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return na._data(a,c)||na._data(a,c,{empty:na.Callbacks("once memory").add(function(){na._removeData(a,b+"queue"),na._removeData(a,c)})})}}),na.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?na.queue(this[0],a):void 0===b?this:this.each(function(){var c=na.queue(this,a,b);na._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&na.dequeue(this,a)})},dequeue:function(a){return this.each(function(){na.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=na.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=na._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}}),function(){var a;la.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=da.getElementsByTagName("body")[0],c&&c.style?(b=da.createElement("div"),d=da.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(da.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ja=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ka=new RegExp("^(?:([+-])=|)("+Ja+")([a-z%]*)$","i"),La=["Top","Right","Bottom","Left"],Ma=function(a,b){return a=b||a,"none"===na.css(a,"display")||!na.contains(a.ownerDocument,a)},Na=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===na.type(c)){e=!0;for(h in c)Na(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,na.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(na(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Oa=/^(?:checkbox|radio)$/i,Pa=/<([\w:-]+)/,Qa=/^$|\/(?:java|ecma)script/i,Ra=/^\s+/,Sa="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var a=da.createElement("div"),b=da.createDocumentFragment(),c=da.createElement("input");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",la.leadingWhitespace=3===a.firstChild.nodeType,la.tbody=!a.getElementsByTagName("tbody").length,la.htmlSerialize=!!a.getElementsByTagName("link").length,la.html5Clone="<:nav></:nav>"!==da.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,b.appendChild(c),la.appendChecked=c.checked,a.innerHTML="<textarea>x</textarea>",la.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,b.appendChild(a),c=da.createElement("input"),c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),a.appendChild(c),la.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,la.noCloneEvent=!!a.addEventListener,a[na.expando]=1,la.attributes=!a.getAttribute(na.expando)}();var Ta={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:la.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ta.optgroup=Ta.option,Ta.tbody=Ta.tfoot=Ta.colgroup=Ta.caption=Ta.thead,Ta.th=Ta.td;var Ua=/<|&#?\w+;/,Va=/<tbody/i;!function(){var b,c,d=da.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(la[b]=c in a)||(d.setAttribute(c,"t"),la[b]=d.attributes[c].expando===!1);d=null}();var Wa=/^(?:input|select|textarea)$/i,Xa=/^key/,Ya=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Za=/^(?:focusinfocus|focusoutblur)$/,$a=/^([^.]*)(?:\.(.+)|)/;na.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=na._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=na.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return"undefined"==typeof na||a&&na.event.triggered===a.type?void 0:na.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(Da)||[""],h=b.length;h--;)f=$a.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=na.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=na.event.special[n]||{},l=na.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&na.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),na.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=na.hasData(a)&&na._data(a);if(q&&(k=q.events)){for(b=(b||"").match(Da)||[""],j=b.length;j--;)if(h=$a.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=na.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||na.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)na.event.remove(a,n+b[j],c,d,!0);na.isEmptyObject(k)&&(delete q.handle,na._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||da],n=ka.call(b,"type")?b.type:b,o=ka.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||da,3!==d.nodeType&&8!==d.nodeType&&!Za.test(n+na.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[na.expando]?b:new na.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:na.makeArray(c,[b]),j=na.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!na.isWindow(d)){for(i=j.delegateType||n,Za.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||da)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(na._data(h,"events")||{})[b.type]&&na._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&Ga(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&Ga(d)&&g&&d[n]&&!na.isWindow(d)){k=d[g],k&&(d[g]=null),na.event.triggered=n;try{d[n]()}catch(a){}na.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=na.event.fix(a);var b,c,d,e,f,g=[],h=ea.call(arguments),i=(na._data(this,"events")||{})[a.type]||[],j=na.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=na.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(f.namespace)||(a.handleObj=f,a.data=f.data,d=((na.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?na(e,this).index(i)>-1:na.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[na.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ya.test(e)?this.mouseHooks:Xa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new na.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||da),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||da,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===u()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(na.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return na.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){var d=na.extend(new na.Event,c,{type:a,isSimulated:!0});na.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}},na.removeEvent=da.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},na.Event=function(a,b){return this instanceof na.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?s:t):this.type=a,b&&na.extend(this,b),this.timeStamp=a&&a.timeStamp||na.now(),void(this[na.expando]=!0)):new na.Event(a,b)},na.Event.prototype={constructor:na.Event,isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=s,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=s,a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=s,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},na.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){na.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||na.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),la.submit||(na.event.special.submit={setup:function(){return!na.nodeName(this,"form")&&void na.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=na.nodeName(b,"input")||na.nodeName(b,"button")?na.prop(b,"form"):void 0;c&&!na._data(c,"submit")&&(na.event.add(c,"submit._submit",function(a){a._submitBubble=!0}),na._data(c,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&na.event.simulate("submit",this.parentNode,a))},teardown:function(){return!na.nodeName(this,"form")&&void na.event.remove(this,"._submit")}}),la.change||(na.event.special.change={setup:function(){return Wa.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(na.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),na.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1),na.event.simulate("change",this,a)})),!1):void na.event.add(this,"beforeactivate._change",function(a){var b=a.target;Wa.test(b.nodeName)&&!na._data(b,"change")&&(na.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||na.event.simulate("change",this.parentNode,a)}),na._data(b,"change",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return na.event.remove(this,"._change"),!Wa.test(this.nodeName)}}),la.focusin||na.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){na.event.simulate(b,a.target,na.event.fix(a))};na.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=na._data(d,b);e||d.addEventListener(a,c,!0),na._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=na._data(d,b)-1;e?na._data(d,b,e):(d.removeEventListener(a,c,!0),na._removeData(d,b))}}}),na.fn.extend({on:function(a,b,c,d){return v(this,a,b,c,d)},one:function(a,b,c,d){return v(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,na(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=t),this.each(function(){na.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){na.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return na.event.trigger(a,b,c,!0)}});var _a=/ jQuery\d+="(?:null|\d+)"/g,ab=new RegExp("<(?:"+Sa+")[\\s/>]","i"),bb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,cb=/<script|<style|<link/i,db=/checked\s*(?:[^=]|=\s*.checked.)/i,eb=/^true\/(.*)/,fb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gb=n(da),hb=gb.appendChild(da.createElement("div"));na.extend({htmlPrefilter:function(a){return a.replace(bb,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h,i=na.contains(a.ownerDocument,a);if(la.html5Clone||na.isXMLDoc(a)||!ab.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(hb.innerHTML=a.outerHTML,hb.removeChild(f=hb.firstChild)),!(la.noCloneEvent&&la.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||na.isXMLDoc(a)))for(d=o(f),h=o(a),g=0;null!=(e=h[g]);++g)d[g]&&A(e,d[g]);if(b)if(c)for(h=h||o(a),d=d||o(f),g=0;null!=(e=h[g]);g++)z(e,d[g]);else z(a,f);return d=o(f,"script"),d.length>0&&p(d,!i&&o(a,"script")),d=h=e=null,f},cleanData:function(a,b){for(var c,d,e,f,g=0,h=na.expando,i=na.cache,j=la.attributes,k=na.event.special;null!=(c=a[g]);g++)if((b||Ga(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?na.event.remove(c,d):na.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j||"undefined"==typeof c.removeAttribute?c[h]=void 0:c.removeAttribute(h),ca.push(e))}}}),na.fn.extend({domManip:B,detach:function(a){return C(this,a,!0)},remove:function(a){return C(this,a)},text:function(a){return Na(this,function(a){return void 0===a?na.text(this):this.empty().append((this[0]&&this[0].ownerDocument||da).createTextNode(a))},null,a,arguments.length)},append:function(){return B(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=w(this,a);b.appendChild(a)}})},prepend:function(){return B(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=w(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return B(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return B(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&na.cleanData(o(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&na.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return na.clone(this,a,b)})},html:function(a){return Na(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(_a,""):void 0;if("string"==typeof a&&!cb.test(a)&&(la.htmlSerialize||!ab.test(a))&&(la.leadingWhitespace||!Ra.test(a))&&!Ta[(Pa.exec(a)||["",""])[1].toLowerCase()]){a=na.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(na.cleanData(o(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return B(this,arguments,function(b){var c=this.parentNode;na.inArray(this,a)<0&&(na.cleanData(o(this)),c&&c.replaceChild(b,this))},a)}}),na.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(a,b){na.fn[a]=function(a){for(var c,d=0,e=[],f=na(a),g=f.length-1;d<=g;d++)c=d===g?this:this.clone(!0),na(f[d])[b](c),ga.apply(e,c.get());return this.pushStack(e)}});var ib,jb={HTML:"block",BODY:"block"},kb=/^margin/,lb=new RegExp("^("+Ja+")(?!px)[a-z%]+$","i"),mb=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},nb=da.documentElement;!function(){function b(){var b,k,l=da.documentElement;l.appendChild(i),j.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",c=e=h=!1,d=g=!0,a.getComputedStyle&&(k=a.getComputedStyle(j),c="1%"!==(k||{}).top,h="2px"===(k||{}).marginLeft,e="4px"===(k||{width:"4px"}).width,j.style.marginRight="50%",d="4px"===(k||{marginRight:"4px"}).marginRight,b=j.appendChild(da.createElement("div")),b.style.cssText=j.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",b.style.marginRight=b.style.width="0",j.style.width="1px",g=!parseFloat((a.getComputedStyle(b)||{}).marginRight),j.removeChild(b)),j.style.display="none",f=0===j.getClientRects().length,f&&(j.style.display="",j.innerHTML="<table><tr><td></td><td>t</td></tr></table>",j.childNodes[0].style.borderCollapse="separate",b=j.getElementsByTagName("td"),b[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===b[0].offsetHeight,f&&(b[0].style.display="",b[1].style.display="none",f=0===b[0].offsetHeight)),l.removeChild(i)}var c,d,e,f,g,h,i=da.createElement("div"),j=da.createElement("div");j.style&&(j.style.cssText="float:left;opacity:.5",la.opacity="0.5"===j.style.opacity,la.cssFloat=!!j.style.cssFloat,j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",la.clearCloneStyle="content-box"===j.style.backgroundClip,i=da.createElement("div"),i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",j.innerHTML="",i.appendChild(j),la.boxSizing=""===j.style.boxSizing||""===j.style.MozBoxSizing||""===j.style.WebkitBoxSizing,na.extend(la,{reliableHiddenOffsets:function(){return null==c&&b(),f},boxSizingReliable:function(){return null==c&&b(),e},pixelMarginRight:function(){return null==c&&b(),d},pixelPosition:function(){return null==c&&b(),c},reliableMarginRight:function(){return null==c&&b(),g},reliableMarginLeft:function(){return null==c&&b(),h}}))}();var ob,pb,qb=/^(top|right|bottom|left)$/;a.getComputedStyle?(ob=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},pb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ob(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||na.contains(a.ownerDocument,a)||(g=na.style(a,b)),c&&!la.pixelMarginRight()&&lb.test(g)&&kb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0===g?g:g+""}):nb.currentStyle&&(ob=function(a){return a.currentStyle},pb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ob(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),lb.test(g)&&!qb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});var rb=/alpha\([^)]*\)/i,sb=/opacity\s*=\s*([^)]*)/i,tb=/^(none|table(?!-c[ea]).+)/,ub=new RegExp("^("+Ja+")(.*)$","i"),vb={position:"absolute",visibility:"hidden",display:"block"},wb={letterSpacing:"0",fontWeight:"400"},xb=["Webkit","O","Moz","ms"],yb=da.createElement("div").style;na.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=pb(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:la.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=na.camelCase(b),i=a.style;if(b=na.cssProps[h]||(na.cssProps[h]=G(h)||h),g=na.cssHooks[b]||na.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Ka.exec(c))&&e[1]&&(c=m(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(na.cssNumber[h]?"":"px")),la.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(a){}}},css:function(a,b,c,d){var e,f,g,h=na.camelCase(b);return b=na.cssProps[h]||(na.cssProps[h]=G(h)||h),g=na.cssHooks[b]||na.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=pb(a,b,d)),"normal"===f&&b in wb&&(f=wb[b]),""===c||c?(e=parseFloat(f),c===!0||isFinite(e)?e||0:f):f}}),na.each(["height","width"],function(a,b){na.cssHooks[b]={get:function(a,c,d){if(c)return tb.test(na.css(a,"display"))&&0===a.offsetWidth?mb(a,vb,function(){return K(a,b,d)}):K(a,b,d)},set:function(a,c,d){var e=d&&ob(a);return I(a,c,d?J(a,b,d,la.boxSizing&&"border-box"===na.css(a,"boxSizing",!1,e),e):0)}}}),la.opacity||(na.cssHooks.opacity={get:function(a,b){return sb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=na.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===na.trim(f.replace(rb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=rb.test(f)?f.replace(rb,e):f+" "+e)}}),na.cssHooks.marginRight=F(la.reliableMarginRight,function(a,b){if(b)return mb(a,{display:"inline-block"},pb,[a,"marginRight"])}),na.cssHooks.marginLeft=F(la.reliableMarginLeft,function(a,b){if(b)return(parseFloat(pb(a,"marginLeft"))||(na.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-mb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px"}),na.each({margin:"",padding:"",border:"Width"},function(a,b){na.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+La[d]+b]=f[d]||f[d-2]||f[0];return e}},kb.test(a)||(na.cssHooks[a+b].set=I)}),na.fn.extend({css:function(a,b){return Na(this,function(a,b,c){var d,e,f={},g=0;if(na.isArray(b)){for(d=ob(a),e=b.length;g<e;g++)f[b[g]]=na.css(a,b[g],!1,d);return f}return void 0!==c?na.style(a,b,c):na.css(a,b)},a,b,arguments.length>1)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ma(this)?na(this).show():na(this).hide()})}}),na.Tween=L,L.prototype={constructor:L,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||na.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(na.cssNumber[c]?"":"px")},cur:function(){var a=L.propHooks[this.prop];return a&&a.get?a.get(this):L.propHooks._default.get(this)},run:function(a){var b,c=L.propHooks[this.prop];return this.options.duration?this.pos=b=na.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=na.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){na.fx.step[a.prop]?na.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[na.cssProps[a.prop]]&&!na.cssHooks[a.prop]?a.elem[a.prop]=a.now:na.style(a.elem,a.prop,a.now+a.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},na.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},na.fx=L.prototype.init,na.fx.step={};var zb,Ab,Bb=/^(?:toggle|show|hide)$/,Cb=/queueHooks$/;na.Animation=na.extend(R,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return m(c.elem,a,Ka.exec(b),c),c}]},tweener:function(a,b){na.isFunction(a)?(b=a,a=["*"]):a=a.match(Da);for(var c,d=0,e=a.length;d<e;d++)c=a[d],R.tweeners[c]=R.tweeners[c]||[],R.tweeners[c].unshift(b)},prefilters:[P],prefilter:function(a,b){b?R.prefilters.unshift(a):R.prefilters.push(a)}}),na.speed=function(a,b,c){var d=a&&"object"==typeof a?na.extend({},a):{complete:c||!c&&b||na.isFunction(a)&&a,duration:a,easing:c&&b||b&&!na.isFunction(b)&&b};return d.duration=na.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in na.fx.speeds?na.fx.speeds[d.duration]:na.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){na.isFunction(d.old)&&d.old.call(this),d.queue&&na.dequeue(this,d.queue)},d},na.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ma).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=na.isEmptyObject(a),f=na.speed(b,c,d),g=function(){var b=R(this,na.extend({},a),f);(e||na._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=na.timers,g=na._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||na.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=na._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=na.timers,g=d?d.length:0;for(c.finish=!0,na.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),na.each(["toggle","show","hide"],function(a,b){var c=na.fn[b];na.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(N(b,!0),a,d,e)}}),na.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){na.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),na.timers=[],na.fx.tick=function(){var a,b=na.timers,c=0;for(zb=na.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||na.fx.stop(),zb=void 0},na.fx.timer=function(a){na.timers.push(a),a()?na.fx.start():na.timers.pop()},na.fx.interval=13,na.fx.start=function(){Ab||(Ab=a.setInterval(na.fx.tick,na.fx.interval))},na.fx.stop=function(){a.clearInterval(Ab),Ab=null},na.fx.speeds={slow:600,fast:200,_default:400},na.fn.delay=function(b,c){return b=na.fx?na.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a,b=da.createElement("input"),c=da.createElement("div"),d=da.createElement("select"),e=d.appendChild(da.createElement("option"));c=da.createElement("div"),c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],b.setAttribute("type","checkbox"),c.appendChild(b),a=c.getElementsByTagName("a")[0],a.style.cssText="top:1px",la.getSetAttribute="t"!==c.className,la.style=/top/.test(a.getAttribute("style")),la.hrefNormalized="/a"===a.getAttribute("href"),la.checkOn=!!b.value,la.optSelected=e.selected,la.enctype=!!da.createElement("form").enctype,d.disabled=!0,la.optDisabled=!e.disabled,b=da.createElement("input"),b.setAttribute("value",""),la.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),la.radioValue="t"===b.value}();var Db=/\r/g,Eb=/[\x20\t\r\n\f]+/g;na.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=na.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,na(this).val()):a,null==e?e="":"number"==typeof e?e+="":na.isArray(e)&&(e=na.map(e,function(a){return null==a?"":a+""})),b=na.valHooks[this.type]||na.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=na.valHooks[e.type]||na.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(Db,""):null==c?"":c)}}}),na.extend({valHooks:{option:{get:function(a){var b=na.find.attr(a,"value");return null!=b?b:na.trim(na.text(a)).replace(Eb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(la.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!na.nodeName(c.parentNode,"optgroup"))){if(b=na(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=na.makeArray(b),g=e.length;g--;)if(d=e[g],na.inArray(na.valHooks.option.get(d),f)>-1)try{d.selected=c=!0}catch(a){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),na.each(["radio","checkbox"],function(){na.valHooks[this]={set:function(a,b){if(na.isArray(b))return a.checked=na.inArray(na(a).val(),b)>-1}},la.checkOn||(na.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Fb,Gb,Hb=na.expr.attrHandle,Ib=/^(?:checked|selected)$/i,Jb=la.getSetAttribute,Kb=la.input;na.fn.extend({attr:function(a,b){return Na(this,na.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){na.removeAttr(this,a)})}}),na.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?na.prop(a,b,c):(1===f&&na.isXMLDoc(a)||(b=b.toLowerCase(),e=na.attrHooks[b]||(na.expr.match.bool.test(b)?Gb:Fb)),void 0!==c?null===c?void na.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=na.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!la.radioValue&&"radio"===b&&na.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(Da);if(f&&1===a.nodeType)for(;c=f[e++];)d=na.propFix[c]||c,na.expr.match.bool.test(c)?Kb&&Jb||!Ib.test(c)?a[d]=!1:a[na.camelCase("default-"+c)]=a[d]=!1:na.attr(a,c,""),a.removeAttribute(Jb?c:d)}}),Gb={set:function(a,b,c){return b===!1?na.removeAttr(a,c):Kb&&Jb||!Ib.test(c)?a.setAttribute(!Jb&&na.propFix[c]||c,c):a[na.camelCase("default-"+c)]=a[c]=!0,c}},na.each(na.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Hb[b]||na.find.attr;Kb&&Jb||!Ib.test(b)?Hb[b]=function(a,b,d){var e,f;return d||(f=Hb[b],Hb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,Hb[b]=f),e}:Hb[b]=function(a,b,c){if(!c)return a[na.camelCase("default-"+b)]?b.toLowerCase():null}}),Kb&&Jb||(na.attrHooks.value={set:function(a,b,c){return na.nodeName(a,"input")?void(a.defaultValue=b):Fb&&Fb.set(a,b,c)}}),Jb||(Fb={set:function(a,b,c){var d=a.getAttributeNode(c);if(d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c))return b}},Hb.id=Hb.name=Hb.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},na.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified)return c.value},set:Fb.set},na.attrHooks.contenteditable={set:function(a,b,c){Fb.set(a,""!==b&&b,c)}},na.each(["width","height"],function(a,b){na.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}})),la.style||(na.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Lb=/^(?:input|select|textarea|button|object)$/i,Mb=/^(?:a|area)$/i;na.fn.extend({prop:function(a,b){return Na(this,na.prop,a,b,arguments.length>1)},removeProp:function(a){return a=na.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(a){}})}}),na.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&na.isXMLDoc(a)||(b=na.propFix[b]||b,e=na.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=na.find.attr(a,"tabindex");return b?parseInt(b,10):Lb.test(a.nodeName)||Mb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),la.hrefNormalized||na.each(["href","src"],function(a,b){na.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),la.optSelected||(na.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),na.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){na.propFix[this.toLowerCase()]=this}),la.enctype||(na.propFix.enctype="encoding");var Nb=/[\t\r\n\f]/g;na.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(na.isFunction(a))return this.each(function(b){na(this).addClass(a.call(this,b,S(this)))});if("string"==typeof a&&a)for(b=a.match(Da)||[];c=this[i++];)if(e=S(c),d=1===c.nodeType&&(" "+e+" ").replace(Nb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=na.trim(d),e!==h&&na.attr(c,"class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(na.isFunction(a))return this.each(function(b){na(this).removeClass(a.call(this,b,S(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(Da)||[];c=this[i++];)if(e=S(c),d=1===c.nodeType&&(" "+e+" ").replace(Nb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=na.trim(d),e!==h&&na.attr(c,"class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):na.isFunction(a)?this.each(function(c){na(this).toggleClass(a.call(this,c,S(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=na(this),f=a.match(Da)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=S(this),b&&na._data(this,"__className__",b),na.attr(this,"class",b||a===!1?"":na._data(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+S(c)+" ").replace(Nb," ").indexOf(b)>-1)return!0;return!1}}),na.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){na.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),na.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Ob=a.location,Pb=na.now(),Qb=/\?/,Rb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;na.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=na.trim(b+"");return e&&!na.trim(e.replace(Rb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():na.error("Invalid JSON: "+b)},na.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new a.DOMParser,c=d.parseFromString(b,"text/xml")):(c=new a.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(a){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||na.error("Invalid XML: "+b),c};var Sb=/#.*$/,Tb=/([?&])_=[^&]*/,Ub=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Vb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Wb=/^(?:GET|HEAD)$/,Xb=/^\/\//,Yb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Zb={},$b={},_b="*/".concat("*"),ac=Ob.href,bc=Yb.exec(ac.toLowerCase())||[];na.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ac,type:"GET",isLocal:Vb.test(bc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_b,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":na.parseJSON,"text xml":na.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?V(V(a,na.ajaxSettings),b):V(na.ajaxSettings,a)},ajaxPrefilter:T(Zb),ajaxTransport:T($b),ajax:function(b,c){function d(b,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&a.clearTimeout(i),k=void 0,h=e||"",w.readyState=b>0?4:0,f=b>=200&&b<300||304===b,d&&(t=W(m,w,d)),t=X(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(na.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(na.etag[g]=v)),204===b||"HEAD"===m.type?x="nocontent":304===b?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,!b&&x||(x="error",b<0&&(b=0))),w.status=b,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=void 0,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--na.active||na.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=na.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?na(n):na.event,p=na.Deferred(),q=na.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Ub.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(u<2)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((b||m.url||ac)+"").replace(Sb,"").replace(Xb,bc[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=na.trim(m.dataType||"*").toLowerCase().match(Da)||[""],null==m.crossDomain&&(e=Yb.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===bc[1]&&e[2]===bc[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(bc[3]||("http:"===bc[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=na.param(m.data,m.traditional)),U(Zb,m,c,w),2===u)return w;j=na.event&&m.global,j&&0===na.active++&&na.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Wb.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Qb.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Tb.test(g)?g.replace(Tb,"$1_="+Pb++):g+(Qb.test(g)?"&":"?")+"_="+Pb++)),m.ifModified&&(na.lastModified[g]&&w.setRequestHeader("If-Modified-Since",na.lastModified[g]),na.etag[g]&&w.setRequestHeader("If-None-Match",na.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+_b+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=U($b,m,c,w)){if(w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),2===u)return w;m.async&&m.timeout>0&&(i=a.setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(a){if(!(u<2))throw a;d(-1,a)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return na.get(a,b,c,"json")},getScript:function(a,b){return na.get(a,void 0,b,"script")}}),na.each(["get","post"],function(a,b){na[b]=function(a,c,d,e){return na.isFunction(c)&&(e=e||d,d=c,c=void 0),na.ajax(na.extend({url:a,type:b,dataType:e,data:c,success:d},na.isPlainObject(a)&&a))}}),na._evalUrl=function(a){return na.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},na.fn.extend({wrapAll:function(a){if(na.isFunction(a))return this.each(function(b){na(this).wrapAll(a.call(this,b))});if(this[0]){var b=na(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return na.isFunction(a)?this.each(function(b){na(this).wrapInner(a.call(this,b))}):this.each(function(){var b=na(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=na.isFunction(a);return this.each(function(c){na(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){na.nodeName(this,"body")||na(this).replaceWith(this.childNodes)}).end()}}),na.expr.filters.hidden=function(a){return la.reliableHiddenOffsets()?a.offsetWidth<=0&&a.offsetHeight<=0&&!a.getClientRects().length:Z(a)},na.expr.filters.visible=function(a){return!na.expr.filters.hidden(a)};var cc=/%20/g,dc=/\[\]$/,ec=/\r?\n/g,fc=/^(?:submit|button|image|reset|file)$/i,gc=/^(?:input|select|textarea|keygen)/i;na.param=function(a,b){var c,d=[],e=function(a,b){b=na.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=na.ajaxSettings&&na.ajaxSettings.traditional),na.isArray(a)||a.jquery&&!na.isPlainObject(a))na.each(a,function(){e(this.name,this.value)});else for(c in a)$(c,a[c],b,e);return d.join("&").replace(cc,"+")},na.fn.extend({serialize:function(){return na.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=na.prop(this,"elements");return a?na.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!na(this).is(":disabled")&&gc.test(this.nodeName)&&!fc.test(a)&&(this.checked||!Oa.test(a))}).map(function(a,b){var c=na(this).val();return null==c?null:na.isArray(c)?na.map(c,function(a){return{name:b.name,value:a.replace(ec,"\r\n")}}):{name:b.name,value:c.replace(ec,"\r\n")}}).get()}}),na.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return this.isLocal?aa():da.documentMode>8?_():/^(get|post|head|put|delete|options)$/i.test(this.type)&&_()||aa()}:_;var hc=0,ic={},jc=na.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in ic)ic[a](void 0,!0)}),la.cors=!!jc&&"withCredentials"in jc,jc=la.ajax=!!jc,jc&&na.ajaxTransport(function(b){if(!b.crossDomain||la.cors){var c;return{send:function(d,e){var f,g=b.xhr(),h=++hc;if(g.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)g[f]=b.xhrFields[f];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(b.hasContent&&b.data||null),c=function(a,d){var f,i,j;if(c&&(d||4===g.readyState))if(delete ic[h],c=void 0,g.onreadystatechange=na.noop,d)4!==g.readyState&&g.abort();else{j={},f=g.status,"string"==typeof g.responseText&&(j.text=g.responseText);try{i=g.statusText}catch(a){i=""}f||!b.isLocal||b.crossDomain?1223===f&&(f=204):f=j.text?200:404}j&&e(f,i,j,g.getAllResponseHeaders())},b.async?4===g.readyState?a.setTimeout(c):g.onreadystatechange=ic[h]=c:c()},abort:function(){c&&c(void 0,!0)}}}}),na.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return na.globalEval(a),a}}}),na.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),na.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=da.head||na("head")[0]||da.documentElement;return{send:function(d,e){b=da.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var kc=[],lc=/(=)\?(?=&|$)|\?\?/;na.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=kc.pop()||na.expando+"_"+Pb++;return this[a]=!0,a}}),na.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(lc.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&lc.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=na.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(lc,"$1"+e):b.jsonp!==!1&&(b.url+=(Qb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||na.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?na(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,kc.push(e)),g&&na.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),na.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||da;var d=wa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=r([a],b,e),e&&e.length&&na(e).remove(),na.merge([],d.childNodes))};var mc=na.fn.load;na.fn.load=function(a,b,c){if("string"!=typeof a&&mc)return mc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=na.trim(a.slice(h,a.length)),a=a.slice(0,h)),na.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&na.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?na("<div>").append(na.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},na.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){na.fn[b]=function(a){return this.on(b,a)}}),na.expr.filters.animated=function(a){return na.grep(na.timers,function(b){return a===b.elem}).length},na.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=na.css(a,"position"),l=na(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=na.css(a,"top"),i=na.css(a,"left"),j=("absolute"===k||"fixed"===k)&&na.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),na.isFunction(b)&&(b=b.call(a,c,na.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},na.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){na.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,na.contains(b,e)?("undefined"!=typeof e.getBoundingClientRect&&(d=e.getBoundingClientRect()),c=ba(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===na.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),na.nodeName(a[0],"html")||(c=a.offset()),c.top+=na.css(a[0],"borderTopWidth",!0),c.left+=na.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-na.css(d,"marginTop",!0),left:b.left-c.left-na.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!na.nodeName(a,"html")&&"static"===na.css(a,"position");)a=a.offsetParent;
return a||nb})}}),na.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);na.fn[a]=function(d){return Na(this,function(a,d,e){var f=ba(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?na(f).scrollLeft():e,c?e:na(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),na.each(["top","left"],function(a,b){na.cssHooks[b]=F(la.pixelPosition,function(a,c){if(c)return c=pb(a,b),lb.test(c)?na(a).position()[b]+"px":c})}),na.each({Height:"height",Width:"width"},function(a,b){na.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){na.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Na(this,function(b,c,d){var e;return na.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?na.css(b,c,g):na.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),na.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),na.fn.size=function(){return this.length},na.fn.andSelf=na.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return na});var nc=a.jQuery,oc=a.$;return na.noConflict=function(b){return a.$===na&&(a.$=oc),b&&a.jQuery===na&&(a.jQuery=nc),na},b||(a.jQuery=a.$=na),na}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,d){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,!(!b.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap='#"+f+"']")[0],!!g&&c(g))):(/^(input|select|textarea|button|object)$/.test(h)?!b.disabled:"a"===h?b.href||d:d)&&c(b)}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}a.ui=a.ui||{},a.extend(a.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({scrollParent:function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return(!d||"static"!==b.css("position"))&&e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length)for(var c,d,e=a(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b=0,c=Array.prototype.slice;return a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(a){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(b){for(var d,e,f=c.call(arguments,1),g=0,h=f.length;g<h;g++)for(d in f[g])e=f[g][d],f[g].hasOwnProperty(d)&&void 0!==e&&(a.isPlainObject(e)?b[d]=a.isPlainObject(b[d])?a.widget.extend({},b[d],e):a.widget.extend({},e):b[d]=e);return b},a.widget.bridge=function(b,d){var e=d.prototype.widgetFullName||b;a.fn[b]=function(f){var g="string"==typeof f,h=c.call(arguments,1),i=this;return g?this.each(function(){var c,d=a.data(this,e);return"instance"===f?(i=d,!1):d?a.isFunction(d[f])&&"_"!==f.charAt(0)?(c=d[f].apply(d,h),c!==d&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+f+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}):(h.length&&(f=a.widget.extend.apply(null,[f].concat(h))),this.each(function(){var b=a.data(this,e);b?(b.option(f||{}),b._init&&b._init()):a.data(this,e,new d(f,this))})),i}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(c,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),c),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){if(b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof g?f[g]:g).apply(f,arguments)}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.unbind(c).undelegate(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.widget}),function(a){"function"==typeof define&&define.amd?define(["jquery","./widget"],a):a(jQuery)}(function(a){var b=!1;return a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f=!("string"!=typeof this.options.cancel||!c.target.nodeName)&&a(c.target).closest(this.options.cancel).length;return!(e&&!f&&this._mouseCapture(c))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0))}},_mouseMove:function(b){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button)return this._mouseUp(b);if(!b.which)return this._mouseUp(b)}return(b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(c){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),b=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],a):a(jQuery)}(function(a){return a.widget("ui.slider",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;b<c;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h!==!1&&(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),"disabled"===b&&this.element.toggleClass("ui-state-disabled",!!c),this._super(b,c),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===c?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,b=this._valueMin(),c=this.options.step,d=Math.floor(+(a-b).toFixed(this._precision())/c)*c;a=d+b,this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return c===-1?0:b.length-c-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=!this._animateOff&&h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(b){var c,d,e,f,g=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(b.target).addClass("ui-state-active"),c=this._start(b,g),c===!1))return}switch(f=this.options.step,d=e=this.options.values&&this.options.values.length?this.values(g):this.value(),b.keyCode){case a.ui.keyCode.HOME:e=this._valueMin();break;case a.ui.keyCode.END:e=this._valueMax();break;case a.ui.keyCode.PAGE_UP:e=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(d===this._valueMax())return;e=this._trimAlignValue(d+f);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d===this._valueMin())return;e=this._trimAlignValue(d-f)}this._slide(b,g,e)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})});var Handlebars={};!function(a,b){a.VERSION="1.0.0",a.COMPILER_REVISION=4,a.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},a.helpers={},a.partials={};var c=Object.prototype.toString,d="[object Function]",e="[object Object]";a.registerHelper=function(b,d,f){if(c.call(b)===e){if(f||d)throw new a.Exception("Arg not supported with multiple helpers");a.Utils.extend(this.helpers,b)}else f&&(d.not=f),this.helpers[b]=d},a.registerPartial=function(b,d){c.call(b)===e?a.Utils.extend(this.partials,b):this.partials[b]=d},a.registerHelper("helperMissing",function(a){if(2===arguments.length)return b;throw new Error("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,e){var f=e.inverse||function(){},g=e.fn,h=c.call(b);return h===d&&(b=b.call(this)),b===!0?g(this):b===!1||null==b?f(this):"[object Array]"===h?b.length>0?a.helpers.each(b,e):f(this):g(b)}),a.K=function(){},a.createFrame=Object.create||function(b){a.K.prototype=b;var c=new a.K;return a.K.prototype=null,c},a.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(b,c){if(a.logger.level<=b){var d=a.logger.methodMap[b];"undefined"!=typeof console&&console[d]&&console[d].call(console,c)}}},a.log=function(b,c){a.logger.log(b,c)},a.registerHelper("each",function(b,e){var f,g=e.fn,h=e.inverse,i=0,j="",k=c.call(b);if(k===d&&(b=b.call(this)),e.data&&(f=a.createFrame(e.data)),b&&"object"==typeof b)if(b instanceof Array)for(var l=b.length;i<l;i++)f&&(f.index=i),j+=g(b[i],{data:f});else for(var m in b)b.hasOwnProperty(m)&&(f&&(f.key=m),j+=g(b[m],{data:f}),i++);return 0===i&&(j=h(this)),j}),a.registerHelper("if",function(b,e){var f=c.call(b);return f===d&&(b=b.call(this)),!b||a.Utils.isEmpty(b)?e.inverse(this):e.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers.if.call(this,b,{fn:c.inverse,inverse:c.fn})}),a.registerHelper("with",function(b,e){var f=c.call(b);if(f===d&&(b=b.call(this)),!a.Utils.isEmpty(b))return e.fn(b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)});var f=["description","fileName","lineNumber","message","name","number","stack"];a.Exception=function(a){for(var b=Error.prototype.constructor.apply(this,arguments),c=0;c<f.length;c++)this[f[c]]=b[f[c]]},a.Exception.prototype=new Error,a.SafeString=function(a){this.string=a},a.SafeString.prototype.toString=function(){return this.string.toString()};var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},h=/[&<>"'`]/g,i=/[&<>"'`]/,j=function(a){return g[a]||"&amp;"};a.Utils={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},escapeExpression:function(b){return b instanceof a.SafeString?b.toString():null==b||b===!1?"":(b=b.toString(),i.test(b)?b.replace(h,j):b)},isEmpty:function(a){return!a&&0!==a||"[object Array]"===c.call(a)&&0===a.length}},a.VM={template:function(b){var c={escapeExpression:a.Utils.escapeExpression,invokePartial:a.VM.invokePartial,programs:[],program:function(b,c,d){var e=this.programs[b];return d?e=a.VM.program(b,c,d):e||(e=this.programs[b]=a.VM.program(b,c)),e},merge:function(b,c){var d=b||c;return b&&c&&(d={},a.Utils.extend(d,c),a.Utils.extend(d,b)),d},programWithDepth:a.VM.programWithDepth,noop:a.VM.noop,compilerInfo:null};return function(d,e){e=e||{};var f=b.call(c,a,d,e.helpers,e.partials,e.data),g=c.compilerInfo||[],h=g[0]||1,i=a.COMPILER_REVISION;if(h!==i){if(h<i){var j=a.REVISION_CHANGES[i],k=a.REVISION_CHANGES[h];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+j+") or downgrade your runtime to an older version ("+k+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+g[1]+")."}return f}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e},program:function(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d},noop:function(){return""},invokePartial:function(c,d,e,f,g,h){var i={helpers:f,partials:g,data:h};if(c===b)throw new a.Exception("The partial "+d+" could not be found");if(c instanceof Function)return c(e,i);if(a.compile)return g[d]=a.compile(c,{data:h!==b}),g[d](e,i);throw new a.Exception("The partial "+d+" could not be compiled when running in runtime-only mode")}},a.template=a.VM.template}(Handlebars),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(a,c)}):"object"==typeof exports?b(a,require("jquery")):b(a,a.jQuery)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a,b){for(var c=a.length;--c;){var d=Math.abs(a[c]-b[c]);if(d>10)return!1}return!0}function d(a){var c={range:!0,animate:!0};return"boolean"==typeof a?c.animate=a:b.extend(c,a),c}function e(a,c,d,e,f,g,h,i,j){"array"===b.type(a)?this.elements=[+a[0],+a[2],+a[4],+a[1],+a[3],+a[5],0,0,1]:this.elements=[a,c,d,e,f,g,h||0,i||0,j||1]}function f(a,b,c){this.elements=[a,b,c]}function g(a,c){if(!(this instanceof g))return new g(a,c);1!==a.nodeType&&b.error("Panzoom called on non-Element node"),b.contains(l,a)||b.error("Panzoom element must be attached to the document");var d=b.data(a,m);if(d)return d;this.options=c=b.extend({},g.defaults,c),this.elem=a;var e=this.$elem=b(a);this.$set=c.$set&&c.$set.length?c.$set:e,this.$doc=b(a.ownerDocument||l),this.$parent=e.parent(),this.isSVG=r.test(a.namespaceURI)&&"svg"!==a.nodeName.toLowerCase(),this.panning=!1,this._buildTransform(),this._transform=!this.isSVG&&b.cssProps.transform.replace(q,"-$1").toLowerCase(),this._buildTransition(),this.resetDimensions();var f=b(),h=this;b.each(["$zoomIn","$zoomOut","$zoomRange","$reset"],function(a,b){h[b]=c[b]||f}),this.enable(),b.data(a,m,this)}var h="over out down up move enter leave cancel".split(" "),i=b.extend({},b.event.mouseHooks),j={};if(a.PointerEvent)b.each(h,function(a,c){b.event.fixHooks[j[c]="pointer"+c]=i});else{var k=i.props;i.props=k.concat(["touches","changedTouches","targetTouches","altKey","ctrlKey","metaKey","shiftKey"]),
i.filter=function(a,b){var c,d=k.length;if(!b.pageX&&b.touches&&(c=b.touches[0]))for(;d--;)a[k[d]]=c[k[d]];return a},b.each(h,function(a,c){if(a<2)j[c]="mouse"+c;else{var d="touch"+("down"===c?"start":"up"===c?"end":c);b.event.fixHooks[d]=i,j[c]=d+" mouse"+c}})}b.pointertouch=j;var l=a.document,m="__pz__",n=Array.prototype.slice,o=!!a.PointerEvent,p=function(){var a=l.createElement("input");return a.setAttribute("oninput","return"),"function"==typeof a.oninput}(),q=/([A-Z])/g,r=/^http:[\w\.\/]+svg$/,s=/^inline/,t="(\\-?[\\d\\.e]+)",u="\\,?\\s*",v=new RegExp("^matrix\\("+t+u+t+u+t+u+t+u+t+u+t+"\\)$");return e.prototype={x:function(a){var b=a instanceof f,c=this.elements,d=a.elements;return b&&3===d.length?new f(c[0]*d[0]+c[1]*d[1]+c[2]*d[2],c[3]*d[0]+c[4]*d[1]+c[5]*d[2],c[6]*d[0]+c[7]*d[1]+c[8]*d[2]):d.length===c.length&&new e(c[0]*d[0]+c[1]*d[3]+c[2]*d[6],c[0]*d[1]+c[1]*d[4]+c[2]*d[7],c[0]*d[2]+c[1]*d[5]+c[2]*d[8],c[3]*d[0]+c[4]*d[3]+c[5]*d[6],c[3]*d[1]+c[4]*d[4]+c[5]*d[7],c[3]*d[2]+c[4]*d[5]+c[5]*d[8],c[6]*d[0]+c[7]*d[3]+c[8]*d[6],c[6]*d[1]+c[7]*d[4]+c[8]*d[7],c[6]*d[2]+c[7]*d[5]+c[8]*d[8])},inverse:function(){var a=1/this.determinant(),b=this.elements;return new e(a*(b[8]*b[4]-b[7]*b[5]),a*-(b[8]*b[1]-b[7]*b[2]),a*(b[5]*b[1]-b[4]*b[2]),a*-(b[8]*b[3]-b[6]*b[5]),a*(b[8]*b[0]-b[6]*b[2]),a*-(b[5]*b[0]-b[3]*b[2]),a*(b[7]*b[3]-b[6]*b[4]),a*-(b[7]*b[0]-b[6]*b[1]),a*(b[4]*b[0]-b[3]*b[1]))},determinant:function(){var a=this.elements;return a[0]*(a[8]*a[4]-a[7]*a[5])-a[3]*(a[8]*a[1]-a[7]*a[2])+a[6]*(a[5]*a[1]-a[4]*a[2])}},f.prototype.e=e.prototype.e=function(a){return this.elements[a]},g.rmatrix=v,g.events=b.pointertouch,g.defaults={eventNamespace:".panzoom",transition:!0,cursor:"move",disablePan:!1,disableZoom:!1,increment:.3,minScale:.4,maxScale:5,rotate:0,rangeStep:.05,duration:200,easing:"ease-in-out",contain:!1},g.prototype={constructor:g,instance:function(){return this},enable:function(){this._initStyle(),this._bind(),this.disabled=!1},disable:function(){this.disabled=!0,this._resetStyle(),this._unbind()},isDisabled:function(){return this.disabled},destroy:function(){this.disable(),b.removeData(this.elem,m)},resetDimensions:function(){var a=this.$parent;this.container={width:a.innerWidth(),height:a.innerHeight()};var c,d=a.offset(),e=this.elem,f=this.$elem;this.isSVG?(c=e.getBoundingClientRect(),c={left:c.left-d.left,top:c.top-d.top,width:c.width,height:c.height,margin:{left:0,top:0}}):c={left:b.css(e,"left",!0)||0,top:b.css(e,"top",!0)||0,width:f.innerWidth(),height:f.innerHeight(),margin:{top:b.css(e,"marginTop",!0)||0,left:b.css(e,"marginLeft",!0)||0}},c.widthBorder=b.css(e,"borderLeftWidth",!0)+b.css(e,"borderRightWidth",!0)||0,c.heightBorder=b.css(e,"borderTopWidth",!0)+b.css(e,"borderBottomWidth",!0)||0,this.dimensions=c},reset:function(a){a=d(a);var b=this.setMatrix(this._origTransform,a);a.silent||this._trigger("reset",b)},resetZoom:function(a){a=d(a);var b=this.getMatrix(this._origTransform);a.dValue=b[3],this.zoom(b[0],a)},resetPan:function(a){var b=this.getMatrix(this._origTransform);this.pan(b[4],b[5],d(a))},setTransform:function(a){for(var c=this.isSVG?"attr":"style",d=this.$set,e=d.length;e--;)b[c](d[e],"transform",a+" rotate("+this.options.rotate+"deg)")},getTransform:function(a){var c=this.$set,d=c[0];return a?this.setTransform(a):(a=b[this.isSVG?"attr":"style"](d,"transform"),a=a.split(" rotate")[0]),"none"===a||v.test(a)||this.setTransform(a=b.css(d,"transform")),a||"none"},getMatrix:function(a){var b=v.exec(a||this.getTransform());return b&&b.shift(),b||[1,0,0,1,0,0]},setMatrix:function(a,c){if(!this.disabled){c||(c={}),"string"==typeof a&&(a=this.getMatrix(a));var d,e,f,g,h,i,j,k,l,m,n=+a[0],o=this.$parent,p="undefined"!=typeof c.contain?c.contain:this.options.contain;p&&(d=this._checkDims(),e=this.container,l=d.width+d.widthBorder,m=d.height+d.heightBorder,f=(l*Math.abs(n)-e.width)/2,g=(m*Math.abs(n)-e.height)/2,j=d.left+d.margin.left,k=d.top+d.margin.top,"invert"===p?(h=l>e.width?l-e.width:0,i=m>e.height?m-e.height:0,f+=(e.width-l)/2,g+=(e.height-m)/2,a[4]=Math.max(Math.min(a[4],f-j),-f-j-h),a[5]=Math.max(Math.min(a[5],g-k),-g-k-i+d.heightBorder)):(g+=d.heightBorder/2,h=e.width>l?e.width-l:0,i=e.height>m?e.height-m:0,"center"===o.css("textAlign")&&s.test(b.css(this.elem,"display"))?h=0:f=g=0,a[4]=Math.min(Math.max(a[4],f-j),-f-j+h),a[5]=Math.min(Math.max(a[5],g-k),-g-k+i))),"skip"!==c.animate&&this.transition(!c.animate),c.range&&this.$zoomRange.val(n),e=this.container,d=this._checkDims(),l=d.width+d.widthBorder,m=d.height+d.heightBorder;var q=e.width/2-l/2,r=e.height/2-m/2;return n<=1&&(a[4]=q,a[5]=r),this.setTransform("matrix("+a.join(",")+")"),c.silent||this._trigger("change",a),a}},isPanning:function(){return this.panning},transition:function(a){if(this._transition)for(var c=a||!this.options.transition?"none":this._transition,d=this.$set,e=d.length;e--;)b.style(d[e],"transition")!==c&&b.style(d[e],"transition",c)},pan:function(a,b,c){if(!this.options.disablePan){c||(c={});var d=c.matrix;d||(d=this.getMatrix()),c.relative&&(a+=+d[4],b+=+d[5]),d[4]=a,d[5]=b,this.setMatrix(d,c),c.silent||this._trigger("pan",d[4],d[5])}},zoom:function(a,c){"object"==typeof a?(c=a,a=null):c||(c={});var d=b.extend({},this.options,c);if(!d.disableZoom){var g=!1,h=d.matrix||this.getMatrix();"number"!=typeof a&&(a=+h[0]+d.increment*(a?-1:1),g=!0),a>d.maxScale?a=d.maxScale:a<d.minScale&&(a=d.minScale);var i=d.focal;if(i&&!d.disablePan){var j=this._checkDims(),k=i.clientX,l=i.clientY;this.isSVG||(k-=(j.width+j.widthBorder)/2,l-=(j.height+j.heightBorder)/2);var m=new f(k,l,1),n=new e(h),o=this.parentOffset||this.$parent.offset(),p=new e(1,0,o.left-this.$doc.scrollLeft(),0,1,o.top-this.$doc.scrollTop()),q=n.inverse().x(p.inverse().x(m)),r=a/h[0];n=n.x(new e([r,0,0,r,0,0])),m=p.x(n.x(q)),h[4]=+h[4]+(k-m.e(0)),h[5]=+h[5]+(l-m.e(1))}h[0]=a,h[3]="number"==typeof d.dValue?d.dValue:a,this.setMatrix(h,{animate:"boolean"==typeof d.animate?d.animate:g,range:!d.noSetRange}),d.silent||this._trigger("zoom",h[0],d)}},option:function(a,c){var d;if(!a)return b.extend({},this.options);if("string"==typeof a){if(1===arguments.length)return void 0!==this.options[a]?this.options[a]:null;d={},d[a]=c}else d=a;this._setOptions(d)},_setOptions:function(a){b.each(a,b.proxy(function(a,c){switch(a){case"disablePan":this._resetStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._unbind()}switch(this.options[a]=c,a){case"disablePan":this._initStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":this[a]=c;case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._bind();break;case"cursor":b.style(this.elem,"cursor",c);break;case"minScale":this.$zoomRange.attr("min",c);break;case"maxScale":this.$zoomRange.attr("max",c);break;case"rangeStep":this.$zoomRange.attr("step",c);break;case"startTransform":this._buildTransform();break;case"duration":case"easing":this._buildTransition();case"transition":this.transition();break;case"rotate":this.rotate=c;break;case"$set":c instanceof b&&c.length&&(this.$set=c,this._initStyle(),this._buildTransform())}},this))},_initStyle:function(){var a={"backface-visibility":"hidden","transform-origin":this.isSVG?"0 0":"50% 50%","image-orientation":"0deg"};this.options.disablePan||(a.cursor=this.options.cursor),this.$set.css(a);var c=this.$parent;c.length&&!b.nodeName(c[0],"body")&&(a={overflow:"hidden"},"static"===c.css("position")&&(a.position="relative"),c.css(a))},_resetStyle:function(){this.$elem.css({cursor:"",transition:""}),this.$parent.css({overflow:"",position:""})},_bind:function(){var a=this,c=this.options,d=c.eventNamespace,e=o?"pointerdown"+d:"touchstart"+d+" mousedown"+d,f=o?"pointerup"+d:"touchend"+d+" click"+d,h={},i=this.$reset,j=this.$zoomRange;if(b.each(["Start","Change","Zoom","Pan","End","Reset"],function(){var a=c["on"+this];b.isFunction(a)&&(h["panzoom"+this.toLowerCase()+d]=a)}),c.disablePan&&c.disableZoom||(h[e]=function(b){var d;("touchstart"===b.type?!(d=b.touches)||(1!==d.length||c.disablePan)&&2!==d.length:c.disablePan||1!==b.which)||(b.preventDefault(),b.stopPropagation(),a._startMove(b,d))}),this.$elem.on(h),i.length&&i.on(f,function(b){b.preventDefault(),a.reset()}),j.length&&j.attr({step:c.rangeStep===g.defaults.rangeStep&&j.attr("step")||c.rangeStep,min:c.minScale,max:c.maxScale}).prop({value:this.getMatrix()[0]}),!c.disableZoom){var k=this.$zoomIn,l=this.$zoomOut;k.length&&l.length&&(k.on(f,function(b){b.preventDefault(),a.zoom()}),l.on(f,function(b){b.preventDefault(),a.zoom(!0)})),j.length&&(h={},h[(o?"pointerdown":"mousedown")+d]=function(){a.transition(!0)},h[(p?"input":"change")+d]=function(){a.zoom(+this.value,{noSetRange:!0})},j.on(h))}},_unbind:function(){this.$elem.add(this.$zoomIn).add(this.$zoomOut).add(this.$reset).off(this.options.eventNamespace)},_buildTransform:function(){return this._origTransform=this.getTransform(this.options.startTransform)},_buildTransition:function(){if(this._transform){var a=this.options;this._transition=this._transform+" "+a.duration+"ms "+a.easing}},_checkDims:function(){var a=this.dimensions;return a.width&&a.height||this.resetDimensions(),this.dimensions},_getDistance:function(a){var b=a[0],c=a[1];return Math.sqrt(Math.pow(Math.abs(c.clientX-b.clientX),2)+Math.pow(Math.abs(c.clientY-b.clientY),2))},_getMiddle:function(a){var b=a[0],c=a[1];return{clientX:(c.clientX-b.clientX)/2+b.clientX,clientY:(c.clientY-b.clientY)/2+b.clientY}},_trigger:function(a){"string"==typeof a&&(a="panzoom"+a),this.$elem.triggerHandler(a,[this].concat(n.call(arguments,1)))},_startMove:function(a,d){var e,f,g,h,i,j,k,m,n=this,p=this.options,q=p.eventNamespace,r=this.getMatrix(),s=r.slice(0),t=+s[4],u=+s[5],v={matrix:r,animate:"skip"};o?(f="pointermove",g="pointerup"):"touchstart"===a.type?(f="touchmove",g="touchend"):(f="mousemove",g="mouseup"),f+=q,g+=q,this.transition(!0),this.panning=!0,this._trigger("start",a,d),d&&2===d.length?(h=this._getDistance(d),i=+r[0],j=this._getMiddle(d),e=function(a){a.preventDefault();var b=n._getMiddle(d=a.touches),c=n._getDistance(d)-h;n.zoom(c*(p.increment/100)+i,{focal:b,matrix:r,animate:!1}),n.pan(+r[4]+b.clientX-j.clientX,+r[5]+b.clientY-j.clientY,v),j=b}):(k=a.pageX,m=a.pageY,e=function(a){a.preventDefault(),n.pan(t+a.pageX-k,u+a.pageY-m,v)}),b(l).off(q).on(f,e).on(g,function(a){a.preventDefault(),b(this).off(q),n.panning=!1,a.type="panzoomend",n._trigger(a,r,!c(r,s))})}},b.Panzoom=g,b.fn.panzoom=function(a){var c,d,e,f;return"string"==typeof a?(f=[],d=n.call(arguments,1),this.each(function(){c=b.data(this,m),c?"_"!==a.charAt(0)&&"function"==typeof(e=c[a])&&void 0!==(e=e.apply(c,d))&&f.push(e):f.push(void 0)}),f.length?1===f.length?f[0]:f:this):this.each(function(){new g(this,a)})},g}),function(a){if("function"==typeof bootstrap)bootstrap("promise",a);else if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=a}else Q=a()}(function(){"use strict";function a(a){return function(){return U.apply(a,arguments)}}function b(a){return a===Object(a)}function c(a){return"[object StopIteration]"===aa(a)||a instanceof Q}function d(a,b){if(O&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&a.stack.indexOf(ba)===-1){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var f=c.join("\n"+ba+"\n");a.stack=e(f)}}function e(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];h(e)||f(e)||!e||c.push(e)}return c.join("\n")}function f(a){return a.indexOf("(module.js:")!==-1||a.indexOf("(node.js:")!==-1}function g(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function h(a){var b=g(a);if(!b)return!1;var c=b[0],d=b[1];return c===P&&d>=R&&d<=fa}function i(){if(O)try{throw new Error}catch(d){var a=d.stack.split("\n"),b=a[0].indexOf("@")>0?a[1]:a[2],c=g(b);if(!c)return;return P=c[0],c[1]}}function j(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}function k(a){return r(a)?a:s(a)?B(a):A(a)}function l(){function a(a){b=a,f.source=a,W(c,function(b,c){T(function(){a.promiseDispatch.apply(a,c)})},void 0),c=void 0,d=void 0}var b,c=[],d=[],e=Z(l.prototype),f=Z(o.prototype);if(f.promiseDispatch=function(a,e,f){var g=V(arguments);c?(c.push(g),"when"===e&&f[1]&&d.push(f[1])):T(function(){b.promiseDispatch.apply(b,g)})},f.valueOf=function(){if(c)return f;var a=q(b);return r(a)&&(b=a),a},f.inspect=function(){return b?b.inspect():{state:"pending"}},k.longStackSupport&&O)try{throw new Error}catch(a){f.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return e.promise=f,e.resolve=function(c){b||a(k(c))},e.fulfill=function(c){b||a(A(c))},e.reject=function(c){b||a(z(c))},e.notify=function(a){b||W(d,function(b,c){T(function(){c(a)})},void 0)},e}function m(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=l();try{a(b.resolve,b.reject,b.notify)}catch(a){b.reject(a)}return b.promise}function n(a){return m(function(b,c){for(var d=0,e=a.length;d<e;d++)k(a[d]).then(b,c)})}function o(a,b,c){void 0===b&&(b=function(a){return z(new Error("Promise does not support operation: "+a))}),void 0===c&&(c=function(){return{state:"unknown"}});var d=Z(o.prototype);if(d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(a){g=z(a)}c&&c(g)},d.inspect=c,c){var e=c();"rejected"===e.state&&(d.exception=e.reason),d.valueOf=function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value}}return d}function p(a,b,c,d){return k(a).then(b,c,d)}function q(a){if(r(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function r(a){return b(a)&&"function"==typeof a.promiseDispatch&&"function"==typeof a.inspect}function s(a){return b(a)&&"function"==typeof a.then}function t(a){return r(a)&&"pending"===a.inspect().state}function u(a){return!r(a)||"fulfilled"===a.inspect().state}function v(a){return r(a)&&"rejected"===a.inspect().state}function w(){ca.length=0,da.length=0,ea||(ea=!0)}function x(a,b){ea&&(da.push(a),b&&"undefined"!=typeof b.stack?ca.push(b.stack):ca.push("(no stack) "+b))}function y(a){if(ea){var b=X(da,a);b!==-1&&(da.splice(b,1),ca.splice(b,1))}}function z(a){var b=o({when:function(b){return b&&y(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return x(b,a),b}function A(a){return o({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},delete:function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return _(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function B(a){var b=l();return T(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(a){b.reject(a)}}),b.promise}function C(a){return o({isDef:function(){}},function(b,c){return I(a,b,c)},function(){return k(a).inspect()})}function D(a,b,c){return k(a).spread(b,c)}function E(a){return function(){function b(a,b){var g;if("undefined"==typeof StopIteration){try{g=d[a](b)}catch(a){return z(a)}return g.done?g.value:p(g.value,e,f)}try{g=d[a](b)}catch(a){return c(a)?a.value:z(a)}return p(g,e,f)}var d=a.apply(this,arguments),e=b.bind(b,"next"),f=b.bind(b,"throw");return e()}}function F(a){k.done(k.async(a)())}function G(a){throw new Q(a)}function H(a){return function(){return D([this,J(arguments)],function(b,c){return a.apply(b,c)})}}function I(a,b,c){return k(a).dispatch(b,c)}function J(a){return p(a,function(a){var b=0,c=l();return W(a,function(d,e,f){var g;r(e)&&"fulfilled"===(g=e.inspect()).state?a[f]=g.value:(++b,p(e,function(d){a[f]=d,0===--b&&c.resolve(a)},c.reject,function(a){c.notify({index:f,value:a})}))},void 0),0===b&&c.resolve(a),c.promise})}function K(a){return p(a,function(a){return a=Y(a,k),p(J(Y(a,function(a){return p(a,S,S)})),function(){return a})})}function L(a){return k(a).allSettled()}function M(a,b){return k(a).then(void 0,void 0,b)}function N(a,b){return k(a).nodeify(b)}var O=!1;try{throw new Error}catch(a){O=!!a.stack}var P,Q,R=i(),S=function(){},T=function(){function a(){for(;b.next;){b=b.next;var c=b.task;b.task=void 0;var e=b.domain;e&&(b.domain=void 0,e.enter());try{c()}catch(b){if(f)throw e&&e.exit(),setTimeout(a,0),e&&e.enter(),b;setTimeout(function(){throw b},0)}e&&e.exit()}d=!1}var b={task:void 0,next:null},c=b,d=!1,e=void 0,f=!1;if(T=function(a){c=c.next={task:a,domain:f&&process.domain,next:null},d||(d=!0,e())},"undefined"!=typeof process&&process.nextTick)f=!0,e=function(){process.nextTick(a)};else if("function"==typeof setImmediate)e="undefined"!=typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var g=new MessageChannel;g.port1.onmessage=function(){e=h,g.port1.onmessage=a,a()};var h=function(){g.port2.postMessage(0)};e=function(){setTimeout(a,0),h()}}else e=function(){setTimeout(a,0)};return T}(),U=Function.call,V=a(Array.prototype.slice),W=a(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;c<d;c++)c in this&&(b=a(b,this[c],c));return b}),X=a(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),Y=a(Array.prototype.map||function(a,b){var c=this,d=[];return W(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),Z=Object.create||function(a){function b(){}return b.prototype=a,new b},$=a(Object.prototype.hasOwnProperty),_=Object.keys||function(a){var b=[];for(var c in a)$(a,c)&&b.push(c);return b},aa=a(Object.prototype.toString);Q="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var ba="From previous event:";k.resolve=k,k.nextTick=T,k.longStackSupport=!1,k.defer=l,l.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(V(arguments,1)):a.resolve(c)}},k.Promise=m,k.promise=m,m.race=n,m.all=J,m.reject=z,m.resolve=k,k.passByCopy=function(a){return a},o.prototype.passByCopy=function(){return this},k.join=function(a,b){return k(a).join(b)},o.prototype.join=function(a){return k([this,a]).spread(function(a,b){if(a===b)return a;throw new Error("Can't join: not the same: "+a+" "+b)})},k.race=n,o.prototype.race=function(){return this.then(k.race)},k.makePromise=o,o.prototype.toString=function(){return"[object Promise]"},o.prototype.then=function(a,b,c){function e(b){try{return"function"==typeof a?a(b):b}catch(a){return z(a)}}function f(a){if("function"==typeof b){d(a,h);try{return b(a)}catch(a){return z(a)}}return z(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=l(),j=!1;return T(function(){h.promiseDispatch(function(a){j||(j=!0,i.resolve(e(a)))},"when",[function(a){j||(j=!0,i.resolve(f(a)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(a){if(c=!0,!k.onerror)throw a;k.onerror(a)}c||i.notify(b)}]),i.promise},k.when=p,o.prototype.thenResolve=function(a){return this.then(function(){return a})},k.thenResolve=function(a,b){return k(a).thenResolve(b)},o.prototype.thenReject=function(a){return this.then(function(){throw a})},k.thenReject=function(a,b){return k(a).thenReject(b)},k.nearer=q,k.isPromise=r,k.isPromiseAlike=s,k.isPending=t,o.prototype.isPending=function(){return"pending"===this.inspect().state},k.isFulfilled=u,o.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},k.isRejected=v,o.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ca=[],da=[],ea=!0;k.resetUnhandledRejections=w,k.getUnhandledReasons=function(){return ca.slice()},k.stopUnhandledRejectionTracking=function(){w(),ea=!1},w(),k.reject=z,k.fulfill=A,k.master=C,k.spread=D,o.prototype.spread=function(a,b){return this.all().then(function(b){return a.apply(void 0,b)},b)},k.async=E,k.spawn=F,k.return=G,k.promised=H,k.dispatch=I,o.prototype.dispatch=function(a,b){var c=this,d=l();return T(function(){c.promiseDispatch(d.resolve,a,b)}),d.promise},k.get=function(a,b){return k(a).dispatch("get",[b])},o.prototype.get=function(a){return this.dispatch("get",[a])},k.set=function(a,b,c){return k(a).dispatch("set",[b,c])},o.prototype.set=function(a,b){return this.dispatch("set",[a,b])},k.del=k.delete=function(a,b){return k(a).dispatch("delete",[b])},o.prototype.del=o.prototype.delete=function(a){return this.dispatch("delete",[a])},k.mapply=k.post=function(a,b,c){return k(a).dispatch("post",[b,c])},o.prototype.mapply=o.prototype.post=function(a,b){return this.dispatch("post",[a,b])},k.send=k.mcall=k.invoke=function(a,b){return k(a).dispatch("post",[b,V(arguments,2)])},o.prototype.send=o.prototype.mcall=o.prototype.invoke=function(a){return this.dispatch("post",[a,V(arguments,1)])},k.fapply=function(a,b){return k(a).dispatch("apply",[void 0,b])},o.prototype.fapply=function(a){return this.dispatch("apply",[void 0,a])},k.try=k.fcall=function(a){return k(a).dispatch("apply",[void 0,V(arguments,1)])},o.prototype.fcall=function(){return this.dispatch("apply",[void 0,V(arguments)])},k.fbind=function(a){var b=k(a),c=V(arguments,1);return function(){return b.dispatch("apply",[this,c.concat(V(arguments))])}},o.prototype.fbind=function(){var a=this,b=V(arguments);return function(){return a.dispatch("apply",[this,b.concat(V(arguments))])}},k.keys=function(a){return k(a).dispatch("keys",[])},o.prototype.keys=function(){return this.dispatch("keys",[])},k.all=J,o.prototype.all=function(){return J(this)},k.allResolved=j(K,"allResolved","allSettled"),o.prototype.allResolved=function(){return K(this)},k.allSettled=L,o.prototype.allSettled=function(){return this.then(function(a){return J(Y(a,function(a){function b(){return a.inspect()}return a=k(a),a.then(b,b)}))})},k.fail=k.catch=function(a,b){return k(a).then(void 0,b)},o.prototype.fail=o.prototype.catch=function(a){return this.then(void 0,a)},k.progress=M,o.prototype.progress=function(a){return this.then(void 0,void 0,a)},k.fin=k.finally=function(a,b){return k(a).finally(b)},o.prototype.fin=o.prototype.finally=function(a){return a=k(a),this.then(function(b){return a.fcall().then(function(){return b})},function(b){return a.fcall().then(function(){throw b})})},k.done=function(a,b,c,d){return k(a).done(b,c,d)},o.prototype.done=function(a,b,c){var e=function(a){T(function(){if(d(a,f),!k.onerror)throw a;k.onerror(a)})},f=a||b||c?this.then(a,b,c):this;"object"==typeof process&&process&&process.domain&&(e=process.domain.bind(e)),f.then(void 0,e)},k.timeout=function(a,b,c){return k(a).timeout(b,c)},o.prototype.timeout=function(a,b){var c=l(),d=setTimeout(function(){c.reject(new Error(b||"Timed out after "+a+" ms"))},a);return this.then(function(a){clearTimeout(d),c.resolve(a)},function(a){clearTimeout(d),c.reject(a)},c.notify),c.promise},k.delay=function(a,b){return void 0===b&&(b=a,a=void 0),k(a).delay(b)},o.prototype.delay=function(a){return this.then(function(b){var c=l();return setTimeout(function(){c.resolve(b)},a),c.promise})},k.nfapply=function(a,b){return k(a).nfapply(b)},o.prototype.nfapply=function(a){var b=l(),c=V(a);return c.push(b.makeNodeResolver()),this.fapply(c).fail(b.reject),b.promise},k.nfcall=function(a){var b=V(arguments,1);return k(a).nfapply(b)},o.prototype.nfcall=function(){var a=V(arguments),b=l();return a.push(b.makeNodeResolver()),this.fapply(a).fail(b.reject),b.promise},k.nfbind=k.denodeify=function(a){var b=V(arguments,1);return function(){var c=b.concat(V(arguments)),d=l();return c.push(d.makeNodeResolver()),k(a).fapply(c).fail(d.reject),d.promise}},o.prototype.nfbind=o.prototype.denodeify=function(){var a=V(arguments);return a.unshift(this),k.denodeify.apply(void 0,a)},k.nbind=function(a,b){var c=V(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat(V(arguments)),f=l();return e.push(f.makeNodeResolver()),k(d).fapply(e).fail(f.reject),f.promise}},o.prototype.nbind=function(){var a=V(arguments,0);return a.unshift(this),k.nbind.apply(void 0,a)},k.nmapply=k.npost=function(a,b,c){return k(a).npost(b,c)},o.prototype.nmapply=o.prototype.npost=function(a,b){var c=V(b||[]),d=l();return c.push(d.makeNodeResolver()),this.dispatch("post",[a,c]).fail(d.reject),d.promise},k.nsend=k.nmcall=k.ninvoke=function(a,b){var c=V(arguments,2),d=l();return c.push(d.makeNodeResolver()),k(a).dispatch("post",[b,c]).fail(d.reject),d.promise},o.prototype.nsend=o.prototype.nmcall=o.prototype.ninvoke=function(a){var b=V(arguments,1),c=l();return b.push(c.makeNodeResolver()),this.dispatch("post",[a,b]).fail(c.reject),c.promise},k.nodeify=N,o.prototype.nodeify=function(a){return a?void this.then(function(b){T(function(){a(null,b)})},function(b){T(function(){a(b)})}):this};var fa=i();return k}),function(a){"use strict";"undefined"==typeof exports&&(a.tscml=a.tscml||{})}(this),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.AdditionalPropertyHelper=b(a)}(this,function(a){"use strict";return{parseAdditionalProperties:function(a,b,c){if("object"!=typeof a||"object"!=typeof b||"function"!=typeof c)throw new Error("AdditionalPropertyHelper: expected two object parameters and one function but instead got: "+a+" and "+b+" and "+c);var d={};for(var e in b)b.hasOwnProperty(e)&&a.indexOf(e)===-1&&c(e,b[e]);return d},updatePropertiesOnObject:function(a,b){if("object"!=typeof a||"object"!=typeof b)throw new Error("AdditionalPropertyHelper: expected two object parameters but instead got: "+a+" and "+b);for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.sceneType=b(a)}(this,function(a){"use strict";var b=function(){return Object.defineProperties({},{EMPTY:{value:""},CONTENT:{value:"content"},TITLE:{value:"title"},INTRO:{value:"intro"},OUTRO:{value:"outro"}})};return b()}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.defaultSceneValues=b(a,c.sceneType)}(this,function(a,b){"use strict";return Object.defineProperties({},{TITLE:{value:""},DURATION:{value:2},TYPE:{value:b.EMPTY}})}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.EventDispatcher=b(a)}(this,function(a){"use strict";var b=function(a){var b={},c=function(a,b){a.forEach(function(a){a(b)})},d=function(a,d){return function(){c(b[a],d)}};return{on:function(a,c){if("string"!=typeof a||"function"!=typeof c)throw new Error("EventDispatcher.on expects string for the eventName and a callback function.");b[a]||(b[a]=[]),b[a].push(c)},off:function(a,c){var d=b[a];if(d){for(var e=0;e<d.length;e++)if(d[e]===c){d.splice(e,1);break}0===d.length&&(b[a]=void 0)}},trigger:function(e,f){if(f=f||{},"string"!=typeof e)throw new Error("EventDispatcher.trigger expects string for the eventName.");b[e]&&(f.type=e,a.isActive()?a.queueNotification(d(e,f)):c(b[e],f))}}};return{create:function(a){return new b(a)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.EventNotificationBundler=b(a,c.EventDispatcher)}(this,function(a,b){"use strict";var c=function(){var a,c,d;return a=[],c=!1,d={queueNotification:function(b){a.push(b)},isActive:function(){return c}},{eventDispatcherFactory:function(){return b.create(d)},startBundling:function(){c&&this.flushEvents(),c=!0},reset:function(){a=[],c=!1},flushEvents:function(){a.forEach(function(a){try{a()}catch(a){console.error("tscml.EventNotificationBundler - flushEvents: ",a)}}),this.reset()}}};return{create:function(){return new c}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.idGenerator=b()}(this,function(){"use strict";var a=function(){function a(){function a(a){var b=(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b}return a()+a(!0)+a(!0)+a()}return{registerObject:function(b){return"undefined"!=typeof b?b:a()}}};return a()}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.projectSignatureGenerator=b(a)}(this,function(a){"use strict";var b=function(){return{generate:function(){return Math.floor(1e5*Math.random())}}};return b()}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.Source=b(a,c.idGenerator,c.AdditionalPropertyHelper)}(this,function(a,b,c){"use strict";var d=function(a){var e,f,g,h,i,j,k,l=parseFloat(a.duration);if(isNaN(l))throw new Error("Scene source duration could not be converted to a number.");j=a.projectSignature,e=b.registerObject(a.id),f=a.uri,g=l,h=a.mimeType,k={};var m=function(a,b){k[a]=b},n=function(a){h=a};return i=Object.defineProperties({},{id:{value:e},uri:{value:f},duration:{value:g},mimeType:{get:function(){return h}}}),i.getCommandInterface=function(a){if(j!==a)throw new Error("Tried to get command interface with invalid project signature");return{addAdditionalProperty:m,setMimeType:n}},i.toJSON=function(){var a={id:e,uri:f,mimeType:h};return k&&c.updatePropertiesOnObject(k,a),a},i.clone=function(){var b={uri:a.uri,duration:a.duration,mimeType:a.mimeType};return new d(b)},i};return{create:function(a){return new d(a)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.EmptyScene=b(a,c.AdditionalPropertyHelper)}(this,function(a,b){"use strict";var c=function(a,c){var d,e,f,g;d=c.projectSignature,f=c.eventDispatcher,e={};var h=function(){g=a.getCommandInterface(d),g.addAdditionalProperty=i},i=function(a,b){e[a]=b};return h(),a.getCommandInterface=function(a){if(d!==a)throw new Error("Tried to get command interface with invalid project signature");return g},a.on=f.on,a.off=f.off,a.toJSON=function(){var c={id:a.id,type:a.type,title:a.title,duration:a.duration};return e&&b.updatePropertiesOnObject(e,c),c},a.cloneSceneContent=function(a){return a},a};return{create:function(a,b){return new c(a,b)},destroy:function(a){a.getCommandInterface=void 0,a.on=void 0,a.off=void 0,a.toJSON=void 0,a.cloneSceneContent=void 0}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.ContentScene=b(a,c.AdditionalPropertyHelper)}(this,function(a,b){"use strict";var c=function(a,c){var d,e,f,g,h={};e=[],d=c.projectSignature,f=c.eventDispatcher;var i=function(){g=a.getCommandInterface(d),g.addSource=k,g.removeSource=l,g.addAdditionalProperty=m},j=function(a){for(var b=0;b<e.length;b++)if(e[b].uri===a)return!1;return!0},k=function(a){if(!j(a.uri))throw new Error("Scene already contains a source with uri: "+a.uri);e.push(a),f.trigger("sourceAdded",{source:a})},l=function(a){for(var b=0;b<e.length;b++)if(e[b]===a){var c=e.splice(b,1)[0];return f.trigger("sourceRemoved",{source:c}),c}},m=function(a,b){h[a]=b};return i(),Object.defineProperties(a,{sources:{configurable:!0,get:function(){return[].concat(e)}}}),a.getCommandInterface=function(a){if(d!==a)throw new Error("Tried to get command interface with invalid project signature");return g},a.on=f.on,a.off=f.off,a.getSourceByMimeType=function(a){for(var b=0,c=e.length;b<c;b++)if(e[b].mimeType===a)return e[b]},a.toJSON=function(){var c={id:a.id,type:a.type,title:a.title,duration:a.duration,flattenedSources:e.map(function(a){return a.toJSON()})};return null!==a.audioNarration&&(c.audioNarration={id:a.audioNarration.id,uri:a.audioNarration.uri,mimeType:a.audioNarration.mimeType}),h&&b.updatePropertiesOnObject(h,c),c},a.cloneSceneContent=function(a){var b=a.getCommandInterface(d);return e.forEach(function(a){b.addSource(a.clone())}),a},a};return{create:function(a,b){
return new c(a,b)},destroy:function(a){delete a.sources,a.getCommandInterface=void 0,a.on=void 0,a.off=void 0,a.getSourceByMimeType=void 0,a.toJSON=void 0,a.cloneSceneContent=void 0}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.ThemeableScene=b(a,c.AdditionalPropertyHelper)}(this,function(a,b){"use strict";var c=function(a,c){var d,e,f,g,h,i;d=c.projectSignature,e=c.eventDispatcher,f=c.themeables||[],h={};var j=function(){g={};for(var a=0,b=f.length;a<b;a++)g[f[a].themeTag]=f[a]},k=function(){i=a.getCommandInterface(d),i.setThemeTagDefProperty=n,i.addAdditionalProperty=o},l=function(a,b){return Object.keys(a).forEach(function(c){switch(typeof a[c]){case"object":b[c]=l(a[c],{});break;case"string":case"number":b[c]=a[c]}}),b},m=function(b,c){if(!a.hasThemeTag(b))throw new Error("ThemeableScene: Scene does not have a themeTag("+b+").");if(!a.hasThemeTagDefProperty(b,c))throw new Error("ThemeableScene: Scene does not have a def property("+c+") for themeTag("+b+").");return!0},n=function(a,b,c){m(a,b)&&(g[a].def[b]=c,e.trigger("themeTagDefPropertyChange",{themeTag:a,defProperty:b,value:c}))},o=function(a,b){h[a]=b};return k(),j(),Object.defineProperties(a,{themeables:{configurable:!0,get:function(){return[].concat(f)}}}),a.getCommandInterface=function(a){if(d!==a)throw new Error("Tried to get command interface with invalid project signature");return i},a.on=e.on,a.off=e.off,a.toJSON=function(){var c={id:a.id,type:a.type,title:a.title,duration:a.duration,themeables:f};return null!==a.audioNarration&&(c.audioNarration={id:a.audioNarration.id,uri:a.audioNarration.uri,mimeType:a.audioNarration.mimeType}),h&&b.updatePropertiesOnObject(h,c),c},a.getThemeTagDefPropertyValue=function(a,b){if(m(a,b))return g[a].def[b]},a.hasThemeTag=function(a){return void 0!==g[a]},a.hasThemeTagDefProperty=function(b,c){return a.hasThemeTag(b)&&void 0!==g[b].def&&void 0!==g[b].def[c]},a.copyThemeables=function(a,b){if(d!==a)throw new Error("Tried to copy themeable properties with invalid project signature");f=[],b.forEach(function(a){f.push(l(a,{}))})},a.cloneSceneContent=function(a){return a.copyThemeables(d,f),a},a};return{create:function(a,b){return new c(a,b)},destroy:function(a){delete a.themeables,a.getCommandInterface=void 0,a.on=void 0,a.off=void 0,a.toJSON=void 0,a.getThemeTagDefPropertyValue=void 0,a.hasThemeTag=void 0,a.hasThemeTagDefProperty=void 0,a.copyThemeables=void 0,a.cloneSceneContent=void 0}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.themeablesDictionary=b(a,c.sceneType)}(this,function(a,b){"use strict";var c=function(a){var c;switch(a){case b.TITLE:c=[{themeTag:"titleBackground"},{themeTag:"titleTitle",def:{text:""}},{themeTag:"titleSubtitle",def:{text:""}}];break;case b.INTRO:c=[{themeTag:"introBackground"},{themeTag:"introTitle",def:{text:""}},{themeTag:"introSubtitle",def:{text:""}}];break;case b.OUTRO:c=[{themeTag:"outroBackground"},{themeTag:"outroTitle",def:{text:""}},{themeTag:"outroSubtitle",def:{text:""}}]}return c};return{getThemeables:function(a){return c(a)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.Scene=b(a,c.idGenerator,c.sceneType,c.defaultSceneValues,c.EmptyScene,c.ContentScene,c.ThemeableScene)}(this,function(a,b,c,d,e,f,g){"use strict";var h=function(a){var i,j,k,l,m,n,o,p,q,r;i=b.registerObject(a.id),j=void 0!==a.type?a.type:d.TYPE,k=void 0!==a.title?a.title:d.TITLE,l=void 0!==a.duration?a.duration:0,m=a.sceneTrack,n=null,o=a.projectSignature,q=a.eventDispatcherFactory(),r={};var s=function(b){switch(b){case c.EMPTY:return e.create(r,a);case c.CONTENT:return f.create(r,a);case c.INTRO:case c.TITLE:case c.OUTRO:return g.create(r,a);default:throw new Error("decorateSceneByType - Scene type("+b+") is not supported.")}},t=function(a){switch(a){case c.EMPTY:e.destroy(r);break;case c.CONTENT:f.destroy(r);break;case c.INTRO:case c.TITLE:case c.OUTRO:g.destroy(r);break;default:throw new Error("unDecorateSceneByType - Scene type("+a+") is not supported.")}r.getCommandInterface=u},u=function(a){if(o!==a)throw new Error("Tried to get command interface with invalid project signature");return p},v=function(a){k=a||""},w=function(b,c){t(j),j=b,a.themeables=c.themeables,s(j),q.trigger("sceneTypeChange",{scene:r})},x=function(a){if("number"!=typeof a)throw new Error("Scene duration is expecting a number, but got ("+a+")");l=a},y=function(a){n=Object.defineProperties({},{id:{value:b.registerObject(a.id)},uri:{value:a.uri},mimeType:{value:a.mimeType}}),q.trigger("audioNarrationChange",{scene:r})},z=function(){n=null,q.trigger("audioNarrationRemoved",{scene:r})};return p={setTitle:v,setType:w,setDuration:x,setAudioNarration:y,removeAudioNarration:z},r=Object.defineProperties(r,{id:{value:i},type:{get:function(){return j}},title:{get:function(){return k}},duration:{get:function(){return l}},sceneTrack:{value:m},audioNarration:{get:function(){return n}}}),r.getCommandInterface=u,r.isThemeable=function(){return void 0!==r.themeables},r.clone=function(){var b={title:k,type:j,sceneTrack:m,projectSignature:o,eventDispatcherFactory:a.eventDispatcherFactory},c=new h(b);return r.cloneSceneContent(c)},a.eventDispatcher=q,s(j)};return{create:function(a){return new h(a)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.SceneTrack=b(a,c.AdditionalPropertyHelper)}(this,function(a,b){"use strict";var c=function(a){var c,d,e,f,g,h;c=a.projectSignature,d=[],e=a.timeline,f={},g=a.eventDispatcherFactory();var i=function(a){return a<0||a>=d.length},j=function(a){d.push(a),g.trigger("sceneAdded",{scene:a,index:d.length-1})},k=function(a,b){if(i(b)&&d.length!==b)throw new Error("SceneTrack.insertSceneAtIndex(): index="+b+" is out of range.");d.splice(b,0,a),g.trigger("sceneAdded",{scene:a,index:b})},l=function(a){if(i(a))throw new Error("SceneTrack.removeSceneAtIndex(): index="+a+" is out of range.");var b=d.splice(a,1)[0];return g.trigger("sceneRemoved",{scene:b,index:a}),b},m=function(a){for(var b=0,c=d.length;b<c;b++)if(d[b].id===a.id){var e=d.splice(b,1)[0];return g.trigger("sceneRemoved",{scene:e,index:b}),e}},n=function(a,b){if(i(a))throw new Error("SceneTrack.moveSceneAtIndex(): fromIndex="+a+" is out of range.");if(i(b))throw new Error("SceneTrack.moveSceneAtIndex(): toIndex="+b+" is out of range.");d.splice(b,0,d.splice(a,1)[0]),g.trigger("sceneMoved",{scene:d[b],fromIndex:a,toIndex:b})},o=function(a,b){f[a]=b};return h=Object.defineProperties({},{timeline:{value:e},duration:{get:function(){return 0===d.length?0:d.reduce(function(a,b,c,d){return a+b.duration},0)}},numberScenes:{get:function(){return d&&d.length||0}},scenes:{get:function(){return[].concat(d)}}}),h.getCommandInterface=function(a){if(c!==a)throw new Error("Tried to get command interface with invalid project signature");return{appendScene:j,insertSceneAtIndex:k,removeSceneAtIndex:l,removeScene:m,moveSceneAtIndex:n,addAdditionalProperty:o}},h.on=g.on,h.off=g.off,h.toJSON=function(){var a={scenes:d.map(function(a){return a.toJSON()})};return f&&b.updatePropertiesOnObject(f,a),a},h};return{create:function(a){return new c(a)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.Timeline=b(a,c.SceneTrack,c.AdditionalPropertyHelper)}(this,function(a,b,c){"use strict";var d=function(a){var d,e,f,g,h,i;d=a.project,g={},e=a.projectSignature,h=a.eventDispatcherFactory();var j=function(c){if(f)throw new Error("Timeline can only contain one Scene Track.");if(c)f=c;else{var d={timeline:i,projectSignature:e,eventDispatcherFactory:a.eventDispatcherFactory};f=b.create(d)}},k=function(a,b){g[a]=b};return i=Object.defineProperties({},{project:{value:d},sceneTrack:{get:function(){return f}}}),i.getCommandInterface=function(a){if(e!==a)throw new Error("Tried to get command interface with invalid project signature");return{addSceneTrack:j,addAdditionalProperty:k}},i.on=h.on,i.off=h.off,i.toJSON=function(){var a={sceneTrack:f?f.toJSON():{}};return g&&c.updatePropertiesOnObject(g,a),a},i};return{create:function(a){return new d(a)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.commandNames=b(a)}(this,function(a){"use strict";var b=function(){return Object.defineProperties({},{INSERT_SCENE:{value:"insertScene"},INSERT_TITLE_CARD_SCENE_WITH_TITLES:{value:"insertTitleCardSceneWithTitles"},ADD_SCENE_WITH_SOURCE:{value:"addSceneWithSource"},APPEND_SCENE:{value:"appendScene"},MOVE_SCENE:{value:"moveScene"},REMOVE_SCENE:{value:"removeScene"},ADD_SCENE_SOURCE:{value:"addSceneSource"},REMOVE_SCENE_SOURCE:{value:"removeSceneSource"},SET_PROJECT_METADATA:{value:"setProjectMetadata"},SET_SCENE_TITLE:{value:"setSceneTitle"},SET_SCENE_DURATION:{value:"setSceneDuration"},SET_SCENE_AUDIO_NARRATION_WITH_DURATION:{value:"setSceneAudioNarrationWithDuration"},SET_SCENE_AUDIO_NARRATION:{value:"setSceneAudioNarration"},REMOVE_SCENE_AUDIO_NARRATION:{value:"removeSceneAudioNarration"},SET_THEMEABLE_DEF_PROPERTY:{value:"setThemeableProperty"},SET_THEME_FILE:{value:"setThemeFile"},SET_SCENE_TYPE:{value:"setSceneType"},SET_SOURCE_MIME_TYPE:{value:"setSourceMimeType"}})};return b()}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.CommandHistory=b(a,c)}(this,function(a,b){"use strict";var c=function(a,c,d){var e,f,g,h,i;return e=[],f=[],g={getProjectSignature:function(){return a},getCommandInterface:function(b){return b.getCommandInterface(a)},getStatLoaders:function(){return c},getEventDispatcherFactory:function(){return d.eventDispatcherFactory}},h=b(),i={},i.execute=function(a){var c=b.defer();return h.finally(function(){d.startBundling(),a.execute(g).then(function(b){f.push(a),d.flushEvents(),c.resolve(b)}).catch(function(b){a.unExecute(g).finally(function(){d.reset(),c.reject(b)})})}),h=c.promise,c.promise},i.undo=function(){var a=b.defer();return f.length>0?(d.startBundling(),f[f.length-1].unExecute(g).then(function(b){e.push(f.pop()),d.flushEvents(),a.resolve(b)}).catch(function(b){d.reset(),a.reject(b)})):a.resolve(),a.promise},i.redo=function(){var a=b.defer();return e.length>0?(d.startBundling(),e[e.length-1].execute(g).then(function(b){f.push(e.pop()),d.flushEvents(),a.resolve(b)}).catch(function(b){d.reset(),a.reject(b)})):a.resolve(),a.promise},i};return c}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.MultiCommand=b(a,c)}(this,function(a,b){"use strict";var c=function(c){var d,e,f,g;d=c,e=[],f=this.handleExecute,g=Object.defineProperties({},{commandName:{value:d}}),"TEST"===a.tscml.env&&(g.handleExecute=f);var h=function(a){return function(b){return b.execute(a).then(function(a){return e.push(b),a})}};return g.execute=function(a){if("function"!=typeof f)return b.reject("MultiCommand derived with no handleExecute method.");var c={executeCommand:h(a)},d=function(c){return g.unExecute(a).finally(function(){return b.reject(c)})};try{return f(a,c).catch(d)}catch(a){return d(a)}},g.unExecute=function(a){if(0===e.length)return b();try{var c=b.defer();c.resolve();for(var d=c.promise,f=function(b,c){return b.then(function(){return c.unExecute(a)})},g=e.length-1;g>=0;--g)d=f(d,e[g]);return d}catch(a){return b.reject(a)}},g};return c}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.InsertSceneCommand=b(a,c,d.commandNames,d.defaultSceneValues,d.themeablesDictionary,d.sceneType,d.Scene)}(this,function(a,b,c,d,e,f,g){"use strict";var h=function(a,d,f){var h,i,j;return h=c.INSERT_SCENE,j=Object.defineProperties({},{commandName:{value:h}}),j.execute=function(c){var h=b.defer();try{var j=c.getCommandInterface(a),k=c.getProjectSignature(),l=c.getEventDispatcherFactory(),m={title:f.title,type:f.type,duration:f.duration,sceneTrack:a,projectSignature:k,eventDispatcherFactory:l};f.id&&(m.id=f.id);var n=f.themeables?f.themeables:e.getThemeables(f.type);n&&(m.themeables=n);var o=g.create(m);j.insertSceneAtIndex(o,d),i=o,h.resolve(o)}catch(a){h.reject(a)}return h.promise},j.unExecute=function(c){var d=b.defer();if(i)try{var e=c.getCommandInterface(a);e.removeScene(i),d.resolve()}catch(a){d.reject(a)}else d.resolve();return d.promise},j};return{create:function(a,b,c){return c=c||{},c.title=void 0!==c.title?c.title:d.TITLE,c.type=void 0!==c.type?c.type:d.TYPE,c.duration=void 0!==c.duration?c.duration:d.DURATION,new h(a,b,c)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.InsertTitleCardSceneWithTitlesCommand=b(a,c,d.commandNames,d.defaultSceneValues,d.themeablesDictionary,d.sceneType,d.Scene,d.InsertSceneCommand)}(this,function(a,b,c,d,e,f,g,h){"use strict";var i=function(a,d,e,f,g){var i,j,k;g.type=e,k=h.create(a,d,g),i=c.INSERT_TITLE_CARD_SCENE_WITH_TITLES,j=Object.defineProperties({},{commandName:{value:i}});var l=function(a,b){for(var c=[{themeTag:a+"Background"}],d=0;d<b.length;d++)c.push({themeTag:b[d].propName,def:{text:b[d].value}});return c};return j.execute=function(a){try{return 0===f.length?g.themeables=f:g.themeables=l(e,f),k.execute(a)}catch(a){return b.reject(a)}},j.unExecute=k.unExecute,j};return{create:function(a,b,c,d,e){if(e=e||{},e.type)throw new Error("InsertTitleCardSceneWithTitlesCommand: Cannot set options.type to anything with InsertTitleCardSceneWithTitlesCommand.");return new i(a,b,c,d,e)}}}),function(a,b){"use strict";var c=("undefined"!=typeof exports?require("q"):a.Q,"undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{});c.AppendSceneCommand=b(a,c.InsertSceneCommand)}(this,function(a,b){"use strict";return{create:function(a,c){var d=a.numberScenes;return b.create(a,d,c)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.RemoveSceneCommand=b(a,c,d.commandNames)}(this,function(a,b,c){"use strict";var d=function(a,d){var e,f,g;return e=c.REMOVE_SCENE,g=Object.defineProperties({},{commandName:{value:e}}),g.execute=function(c){var e=b.defer();try{var g=c.getCommandInterface(a);f=g.removeSceneAtIndex(d),e.resolve(f)}catch(a){e.reject(a)}return e.promise},g.unExecute=function(c){var e=b.defer();if(f)try{var g=c.getCommandInterface(a);g.insertSceneAtIndex(f,d),e.resolve()}catch(a){e.reject(a)}else e.resolve();return e.promise},g};return{create:function(a,b){return new d(a,b)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.MoveSceneCommand=b(a,c,d.commandNames)}(this,function(a,b,c){"use strict";var d=function(a,d,e){var f,g,h;return f=c.MOVE_SCENE,g=!1,h=Object.defineProperties({},{commandName:{value:f}}),h.execute=function(c){var f=b.defer();try{var h=c.getCommandInterface(a);h.moveSceneAtIndex(d,e),g=!0,f.resolve()}catch(a){f.reject(a)}return f.promise},h.unExecute=function(c){var f=b.defer();if(g)try{var h=c.getCommandInterface(a);h.moveSceneAtIndex(e,d),f.resolve()}catch(a){f.reject(a)}else f.resolve();return f.promise},h};return{create:function(a,b,c){return new d(a,b,c)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.SetSourceMimeTypeCommand=b(a,c,d.commandNames)}(this,function(a,b,c){"use strict";var d=function(a,d){var e,f,g;return e=c.SET_SOURCE_MIME_TYPE,g=Object.defineProperties({},{commandName:{value:e}}),g.execute=function(c){var e=b.defer();try{var g=c.getCommandInterface(a);f=a.mimeType,g.setMimeType(d),e.resolve()}catch(a){e.reject(a)}return e.promise},g.unExecute=function(c){var d=b.defer();if("undefined"!=typeof f)try{var e=c.getCommandInterface(a);e.setMimeType(f),d.resolve()}catch(a){d.reject(a)}else d.resolve();return d.promise},g};return{create:function(a,b){return new d(a,b)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.SetThemeFileCommand=b(a,c,d.commandNames)}(this,function(a,b,c){"use strict";var d=function(a,d){var e,f,g;return e=c.SET_THEME_FILE,g=Object.defineProperties({},{commandName:{value:e}}),g.execute=function(c){var e=b.defer();try{var g=c.getCommandInterface(a);f=a.themeFile,g.setThemeFile(d),e.resolve()}catch(a){e.reject(a)}return e.promise},g.unExecute=function(c){var d=b.defer();if("undefined"!=typeof f)try{var e=c.getCommandInterface(a);e.setThemeFile(f.uri),d.resolve()}catch(a){d.reject(a)}else d.resolve();return d.promise},g};return{create:function(a,b){return new d(a,b)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.SetProjectMetadataCommand=b(a,c,d.commandNames)}(this,function(a,b,c){"use strict";var d=function(a,d,e){var f,g,h;return f=c.SET_PROJECT_METADATA,h=Object.defineProperties({},{commandName:{value:f}}),h.execute=function(c){var f=b.defer();try{var h=c.getCommandInterface(a);g=a.getMetadataValue(d),h.setMetadataValue(d,e),f.resolve()}catch(a){f.reject(a)}return f.promise},h.unExecute=function(c){var e=b.defer();if(void 0!==g)try{var f=c.getCommandInterface(a);f.setMetadataValue(d,g),e.resolve()}catch(a){e.reject(a)}else e.resolve();return e.promise},h};return{create:function(a,b,c){return new d(a,b,c)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.SetSceneTitleCommand=b(a,c,d.commandNames)}(this,function(a,b,c){"use strict";var d=function(a,d){var e,f,g;return e=c.SET_SCENE_TITLE,g=Object.defineProperties({},{commandName:{value:e}}),g.execute=function(c){var e=b.defer();try{var g=c.getCommandInterface(a);f=a.title,g.setTitle(d),e.resolve()}catch(a){e.reject(a)}return e.promise},g.unExecute=function(c){var d=b.defer();if("undefined"!=typeof f)try{var e=c.getCommandInterface(a);e.setTitle(f),d.resolve()}catch(a){d.reject(a)}else d.resolve();return d.promise},g};return{create:function(a,b){return new d(a,b)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.SetSceneDurationCommand=b(a,c,d.commandNames)}(this,function(a,b,c){"use strict";var d=function(a,d){var e,f,g;return e=c.SET_SCENE_DURATION,g=Object.defineProperties({},{commandName:{value:e}}),g.execute=function(c){var e=b.defer();try{var g=c.getCommandInterface(a);f=a.duration,g.setDuration(d),e.resolve()}catch(a){e.reject(a)}return e.promise},g.unExecute=function(c){var d=b.defer();if("undefined"!=typeof f)try{var e=c.getCommandInterface(a);e.setDuration(f),d.resolve()}catch(a){d.reject(a)}else d.resolve();return d.promise},g};return{create:function(a,b){return new d(a,b)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.SetSceneAudioNarrationCommand=b(a,c,d.commandNames)}(this,function(a,b,c){"use strict";var d=function(a,d,e){var f,g,h;return f=c.SET_SCENE_AUDIO_NARRATION,h=Object.defineProperties({},{commandName:{value:f}}),h.execute=function(c){var f=b.defer();try{var h=c.getCommandInterface(a);g=a.audioNarration,h.setAudioNarration({uri:d,mimeType:e}),f.resolve()}catch(a){f.reject(a)}return f.promise},h.unExecute=function(c){var d=b.defer();if("undefined"!=typeof g)try{var e=c.getCommandInterface(a);e.setAudioNarration(g),d.resolve()}catch(a){d.reject(a)}else d.resolve();return d.promise},h};return{create:function(a,b,c){return new d(a,b,c)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.SetSceneAudioNarrationWithDurationCommand=b(a,c,d.commandNames,d.MultiCommand,d.SetSceneAudioNarrationCommand,d.SetSceneDurationCommand)}(this,function(a,b,c,d,e,f){"use strict";var g=function(a,b,g,h){return this.handleExecute=function(c,d){return d.executeCommand(e.create(a,b,g)).then(function(){return d.executeCommand(f.create(a,h))})},d.call(this,c.SET_SCENE_AUDIO_NARRATION_WITH_DURATION)};return{create:function(a,b,c,d){return new g(a,b,c,d)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.RemoveSceneAudioNarrationCommand=b(a,c,d.commandNames)}(this,function(a,b,c){"use strict";var d=function(a){var d,e,f;return d=c.REMOVE_SCENE_AUDIO_NARRATION,f=Object.defineProperties({},{commandName:{value:d}}),f.execute=function(c){var d=b.defer();try{var f=c.getCommandInterface(a);e=a.audioNarration,f.removeAudioNarration(),d.resolve()}catch(a){d.reject(a)}return d.promise},f.unExecute=function(c){var d=b.defer();if("undefined"!=typeof e&&null!==e)try{var f=c.getCommandInterface(a);f.setAudioNarration(e),d.resolve()}catch(a){d.reject(a)}else d.resolve();return d.promise},f};return{create:function(a){return new d(a)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.SetThemeableDefPropertyCommand=b(a,c,d.commandNames)}(this,function(a,b,c){"use strict";var d=function(a,d,e,f){var g,h,i;return g=c.SET_THEMEABLE_DEF_PROPERTY,i=Object.defineProperties({},{commandName:{value:g}}),i.execute=function(c){var g=b.defer();try{var i=c.getCommandInterface(a);h=a.getThemeTagDefPropertyValue(d,e),i.setThemeTagDefProperty(d,e,f),g.resolve()}catch(a){g.reject(a)}return g.promise},i.unExecute=function(c){var f=b.defer();if("undefined"!=typeof h)try{var g=c.getCommandInterface(a);g.setThemeTagDefProperty(d,e,h),f.resolve()}catch(a){f.reject(a)}else f.resolve();return f.promise},i};return{create:function(a,b,c,e){if(!a.isThemeable())throw new Error("SetThemeableDefPropertyCommand: Scene supplied is not themeable.");if(!a.hasThemeTag(b))throw new Error("SetThemeableDefPropertyCommand: Scene supplied does not have a themeTag("+b+").");if(!a.hasThemeTagDefProperty(b,c))throw new Error("SetThemeableDefPropertyCommand: Scene supplied does not have a def property("+c+") for themeTag("+b+").");return new d(a,b,c,e)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.AddSceneSourceCommand=b(a,c,d.commandNames,d.Source,d.sceneType)}(this,function(a,b,c,d,e){"use strict";var f=function(a,e){var f,g,h,i;f=c.ADD_SCENE_SOURCE,i=Object.defineProperties({},{commandName:{value:f}});var j=function(a,c){var d=b.defer();return a.canHandleUri(c,function(b){d.resolve({canHandle:b,statLoader:a})},function(a){d.reject(a)}),d.promise},k=function(a,c){var d=b.defer(),e=[];return c.forEach(function(b){e.push(j(b,a))}),b.allSettled(e).then(function(b){var c=!1;b.forEach(function(a){"fulfilled"===a.state&&a.value.canHandle&&!c&&(c=!0,d.resolve(a.value.statLoader))}),c||d.reject(new Error("ADD-SCENE-SOURCE-COMMAND: Could not find a Stat Loader that could handle uri: "+a))}),d.promise},l=function(a,c){var d=b.defer();return a.getInformationForUri(c,function(a){a.duration=e.duration?e.duration:a.duration,a.mimeType=e.mimeType?e.mimeType:a.mimeType,d.resolve(a)},d.reject),d.promise},m=function(a,c){if(e.duration&&e.mimeType)return b({duration:e.duration,mimeType:e.mimeType});var d=c.getStatLoaders();return k(a,d).then(function(b){return l(b,a).then(function(a){return a})})};return i.execute=function(c){return m(e.uri,c).then(function(f){try{h=a.duration;var i=c.getCommandInterface(a),j=d.create({uri:e.uri,duration:f.duration,mimeType:f.mimeType,projectSignature:c.getProjectSignature()});return i.addSource(j),f.duration>a.duration&&i.setDuration(f.duration),g=j}catch(a){return b.reject(a)}})},i.unExecute=function(c){var d=b.defer();if(g)try{var e=c.getCommandInterface(a);e.removeSource(g),e.setDuration(h),d.resolve()}catch(a){d.reject(a)}else d.resolve();return d.promise},i};return{create:function(a,b){if(a.type!==e.CONTENT)throw new Error("AddSceneSourceCommand: Scene of type("+a.type+") does not support this command.");return new f(a,b)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.AddSceneWithSourceCommand=b(a,c,d.commandNames,d.MultiCommand,d.AddSceneSourceCommand,d.InsertSceneCommand)}(this,function(a,b,c,d,e,f){"use strict";var g=function(a,b,g,h){var i,j;return this.handleExecute=function(c,d){return d.executeCommand(f.create(a,b,h.sceneInfo)).then(function(a){return i=a,d.executeCommand(e.create(a,g))}).then(function(a){return j=a,{addedScene:i,addedSource:j}})},d.call(this,c.ADD_SCENE_WITH_SOURCE)};return{create:function(a,b,c,d){return d=d||{},new g(a,b,c,d)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.SetSceneTypeCommand=b(a,c,d.commandNames,d.sceneType,d.themeablesDictionary)}(this,function(a,b,c,d,e){"use strict";var f=function(a,f){var g,h,i,j;return g=c.SET_SCENE_TYPE,j=Object.defineProperties({},{commandName:{value:g}}),j.execute=function(c){var g=b.defer();try{var j=c.getCommandInterface(a);h=a.type,i=a.themeables;var k={};f!==d.INTRO&&f!==d.TITLE&&f!==d.OUTRO||(k.themeables=e.getThemeables(f)),j.setType(f,k),g.resolve()}catch(a){g.reject(a)}return g.promise},j.unExecute=function(c){var d=b.defer();if("undefined"!=typeof h)try{var e=c.getCommandInterface(a);e.setType(h,{themeables:i}),d.resolve()}catch(a){d.reject(a)}else d.resolve();return d.promise},j};return{create:function(a,b){return new f(a,b)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?require("q"):a.Q,d="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};d.RemoveSceneSourceCommand=b(a,c,d.commandNames)}(this,function(a,b,c){"use strict";var d=function(a,d){var e,f,g;return e=c.REMOVE_SCENE_SOURCE,g=Object.defineProperties({},{commandName:{value:e}}),g.execute=function(c){var e=b.defer();try{for(var g=c.getCommandInterface(a),h=0;h<a.sources.length;h++)a.sources[h].uri===d&&(f=g.removeSource(a.sources[h]));e.resolve()}catch(a){e.reject(a)}return e.promise},g.unExecute=function(c){var d=b.defer();if(f)try{var e=c.getCommandInterface(a);e.addSource(f),d.resolve()}catch(a){d.reject(a)}else d.resolve();return d.promise},g};return{create:function(a,b){if("content"!==a.type)throw new Error("RemoveSceneSourceCommand: Scene of type("+a.type+") does not support this command.");return new d(a,b)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.FileVersionUpdater=b(a,c.idGenerator,c.sceneType)}(this,function(a,b,c){var d=function(a){a.hasOwnProperty("themeFile")&&"string"==typeof a.themeFile?a.themeFile={uri:a.themeFile,mimeType:"application/json"}:a.hasOwnProperty("themeFile")||(a.themeFile={uri:"",mimeType:"application/json"}),a.themeFile.id=b.registerObject(a.themeFile.id);var d=h(a,"scenes");return 1===d.length&&d[0].forEach(function(a){a.hasOwnProperty("type")||(a.type=c.CONTENT)}),a.version="0.2",!0},e=function(a){return a.version="0.3",!0},f=function(a){return a.version="0.4",!0},g=function(a){return a.version="0.6",!0},h=function(a,b){var c=[];for(var d in a)a.hasOwnProperty(d)&&(d===b?c.push(a[b]):"object"==typeof a[d]&&(c=c.concat(h(a[d],b))));return c};return{updateV01ToV02:function(a){return d(a)},updateV02ToV03:function(a){return e(a)},updateV03ToV04:function(a){return f(a)},updateV04ToV06:function(a){return g(a)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.FileVersioning=b(a,c.FileVersionUpdater)}(this,function(a,b){var c="0.6",d=function(a,b,c){function d(a){return(e?/^\d+[A-Za-z]*$/:/^\d+$/).test(a)}var e=c&&c.lexicographical,f=c&&c.zeroExtend,g=a.split("."),h=b.split(".");if(!g.every(d)||!h.every(d))return NaN;if(f){for(;g.length<h.length;)g.push("0");for(;h.length<g.length;)h.push("0")}e||(g=g.map(Number),h=h.map(Number));for(var i=0;i<g.length;++i){if(h.length==i)return 1;if(g[i]!=h[i])return g[i]>h[i]?1:-1}return g.length!=h.length?-1:0},e=function(a){return a.hasOwnProperty("version")||(a.version="0.1"),0!==d(a.version,c)&&(d(a.version,"0.2")<0&&b.updateV01ToV02(a),d(a.version,"0.3")<0&&b.updateV02ToV03(a),d(a.version,"0.4")<0&&b.updateV03ToV04(a),d(a.version,"0.6")<0&&b.updateV04ToV06(a),!0)},f=Object.defineProperties({},{currentVersion:{value:c}});return f.checkUpdate=function(a){return e(a)},f}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.SourceParser=b(a,c.Source,c.AdditionalPropertyHelper)}(this,function(a,b,c){"use strict";var d=function(a){return{fromJSON:function(d,e){if("object"!=typeof d||"object"!=typeof d||"undefined"==typeof d.uri||"undefined"==typeof d.mimeType)throw new Error("SourceParser: failed to parse source: expected {uri:'', mimeType:''}, but got: ",d);if("undefined"==typeof e)throw new Error("SourceParser: failed to parse source, missing duration.");var f={id:d.id,uri:d.uri,duration:e,mimeType:d.mimeType,projectSignature:a},g=b.create(f),h=g.getCommandInterface(a),i=["id","uri","duration","mimeType"];return c.parseAdditionalProperties(i,d,h.addAdditionalProperty),g}}};return{create:function(a){return new d(a)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.SceneParser=b(a,c.Scene,c.SourceParser,c.AdditionalPropertyHelper)}(this,function(a,b,c,d){"use strict";var e=function(a,e,f){return{fromJSON:function(g){if("object"!=typeof g)throw new Error("SceneParser: failed to parse scene: expected a sceneJson.scene object, but got: ",g);if(!("content"!==g.type||"object"==typeof g.flattenedSources&&g.flattenedSources instanceof Array))throw new Error("SceneParser: failed to parse scene: expected an array of flattenedSources for scene of type 'content'.");if("undefined"==typeof g.duration)throw new Error("SceneParser: failed to parse scene: missing scene duration.");var h={id:g.id,type:g.type,title:g.title,duration:g.duration,sceneTrack:a,projectSignature:e,eventDispatcherFactory:f};g.themeables&&(h.themeables=g.themeables);var i=b.create(h),j=i.getCommandInterface(e);if("content"===i.type){var k=c.create(e);g.flattenedSources.forEach(function(a){var b=k.fromJSON(a,g.duration);j.addSource(b)})}void 0!==g.audioNarration&&j.setAudioNarration(g.audioNarration);var l=["id","type","title","duration","themeables","flattenedSources","audioNarration"];return d.parseAdditionalProperties(l,g,j.addAdditionalProperty),i}}};return{create:function(a,b,c){return new e(a,b,c)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.SceneTrackParser=b(a,c.SceneTrack,c.SceneParser,c.AdditionalPropertyHelper)}(this,function(a,b,c,d){"use strict";var e=function(a,e,f){return{fromJSON:function(g){if("object"!=typeof g)throw new Error("SceneTrackParser: failed to parse sceneTrack: expected {}, but got: ",g);if(!("object"==typeof g.scenes&&g.scenes instanceof Array))throw new Error("SceneTrackParser: failed to parse sceneTrack: expected an array of scenes.");var h={timeline:a,projectSignature:e,eventDispatcherFactory:f},i=b.create(h),j=i.getCommandInterface(e),k=c.create(i,e,f);g.scenes.forEach(function(a){var b=k.fromJSON(a);j.appendScene(b)});var l=["scenes"];return d.parseAdditionalProperties(l,g,j.addAdditionalProperty),i}}};return{create:function(a,b,c){return new e(a,b,c)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.TimelineParser=b(a,c.Timeline,c.SceneTrackParser,c.AdditionalPropertyHelper)}(this,function(a,b,c,d){"use strict";var e=function(a,e,f){return{fromJSON:function(g){if("object"!=typeof g||"object"!=typeof g.sceneTrack)throw new Error("TimelineParser: failed to parse the timeline: expected {sceneTrack:{}}, but got: ",g);
var h={id:g.id,project:a,projectSignature:e,eventDispatcherFactory:f},i=b.create(h),j=i.getCommandInterface(e),k=c.create(i,e,f);j.addSceneTrack(k.fromJSON(g.sceneTrack));var l=["id","sceneTrack"];return d.parseAdditionalProperties(l,g,j.addAdditionalProperty),i}}};return{create:function(a,b,c){return new e(a,b,c)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.ProjectParser=b(a,c.TimelineParser,c.FileVersioning,c.AdditionalPropertyHelper)}(this,function(a,b,c,d){"use strict";var e=function(a,e,f){return{fromJSON:function(g){if("object"!=typeof g||"object"!=typeof g.timeline)throw new Error("ProjectParser: failed to parse project: expected {timeline:{}}, but got: ",g);c.checkUpdate(g),a.title=g.title||"",a.description=g.description||"",a.author=g.author||"",a.width=g.width||"",a.height=g.height||"",a.version=g.version||"0.1";var h=b.create(a,e,f),i=h.fromJSON(g.timeline),j=a.getCommandInterface(e);if(j.addTimeline(i),g.hasOwnProperty("metadata")&&"object"==typeof g.metadata)for(var k in g.metadata)g.metadata.hasOwnProperty(k)&&j.setMetadataValue(k,g.metadata[k]);var l=["title","description","author","width","height","timeline","metadata","themeFile","version"];d.parseAdditionalProperties(l,g,j.addAdditionalProperty),j.setThemeFile(g.themeFile.uri)}}};return{create:function(a,b,c){return new e(a,b,c)}}}),function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscml=a.tscml||{};c.Project=b(a,c.projectSignatureGenerator,c.idGenerator,c.ProjectParser,c.CommandHistory,c.Timeline,c.EventNotificationBundler,c.FileVersioning,c.AdditionalPropertyHelper)}(this,function(a,b,c,d,e,f,g,h,i){"use strict";var j=function(a,b){var d,g,j,k,l,m,n,o,p,q,r,s,t,u;d="",g="",j="",k="100%",l="100%",r={uri:"",mimeType:"application/json"},n={},r.id=c.registerObject(r.id),o=h.currentVersion,s={},p=[],t=b.eventDispatcherFactory(),q=new e(a,p,b);var v=function(c){if(c)m=c;else{var d={project:u,projectSignature:a,eventDispatcherFactory:b.eventDispatcherFactory};m=f.create(d),m.getCommandInterface(a).addSceneTrack()}},w=function(a,b){null===b?delete n[a]:n[a]=b},x=function(a){r.uri=a,t.trigger("themeFileChanged",{themeFile:r})},y=function(a,b){s[a]=b};return u=Object.defineProperties({},{timeline:{get:function(){return m}},title:{get:function(){return d},set:function(a){d=a}},description:{get:function(){return g},set:function(a){g=a}},author:{get:function(){return j},set:function(a){j=a}},width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},themeFile:{get:function(){return r}},version:{get:function(){return o},set:function(a){o=a}}}),u.getCommandInterface=function(b){if(a!==b)throw new Error("Tried to get command interface with invalid project signature");return{addTimeline:v,setMetadataValue:w,setThemeFile:x,addAdditionalProperty:y}},u.on=t.on,u.off=t.off,u.getMetadataValue=function(a){return n.hasOwnProperty(a)?n[a]:null},u.addStatLoader=function(a){if("object"!=typeof a||"function"!=typeof a.canHandleUri||"function"!=typeof a.getInformationForUri)throw new Error("Project.addStatLoader: Supplied state loader is not valid.");p.push(a)},u.removeStatLoader=function(a){for(var b=0,c=p.length;b<c;b++)if(p[b]===a)return p.splice(b,1)[0]},u.executeCommand=function(a){return q.execute(a)},u.undo=function(){return q.undo()},u.redo=function(){return q.redo()},u.toJSON=function(){var a={title:d,description:g,author:j,height:l,width:k,themeFile:r,timeline:m.toJSON(),metadata:n,version:o};return s&&i.updatePropertiesOnObject(s,a),a},u};return{create:function(){var a=b.generate(),c=g.create(),d=new j(a,c),e=d.getCommandInterface(a);return e.addTimeline(),d},createFromJSON:function(a){var c=b.generate(),e=g.create(),f=new j(c,e),h=d.create(f,c,e.eventDispatcherFactory);return h.fromJSON(a),f}}}),function(){function a(a,b){return a.set(b[0],b[1]),a}function b(a,b){return a.add(b),a}function c(a,b,c){var d=c?c.length:0;switch(d){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function d(a,b){for(var c=-1,d=a.length,e=-1,f=b.length,g=Array(d+f);++c<d;)g[c]=a[c];for(;++e<f;)g[c++]=b[e];return g}function e(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function f(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function g(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function h(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function i(a,b){return!!a.length&&s(a,b,0)>-1}function j(a,b,c){for(var d=-1,e=a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function k(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function l(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function m(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function n(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function o(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function p(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===T?g===g:c(g,h)))var h=g,i=f}return i}function q(a,b,c,d){var e;return c(a,function(a,c,f){if(b(a,c,f))return e=d?c:a,!1}),e}function r(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function s(a,b,c){if(b!==b)return I(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function t(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function u(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function v(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==T&&(c=c===T?f:c+f)}return c}function w(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function x(a,b){return k(b,function(b){return[b,a[b]]})}function y(a){return function(b){return a(b)}}function z(a,b){return k(b,function(b){return a[b]})}function A(a,b){for(var c=-1,d=a.length;++c<d&&s(b,a[c],0)>-1;);return c}function B(a,b){for(var c=a.length;c--&&s(b,a[c],0)>-1;);return c}function C(a){return a&&a.Object===Object?a:null}function D(a,b){if(a!==b){var c=null===a,d=a===T,e=a===a,f=null===b,g=b===T,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(a<b&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function E(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=D(e[d],f[d]);if(i){if(d>=h)return i;var j=c[d];return i*("desc"==j?-1:1)}}return a.index-b.index}function F(a){return oc[a]}function G(a){return pc[a]}function H(a){return"\\"+sc[a]}function I(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function J(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(a){}return b}function K(a,b){return a="number"==typeof a||ub.test(a)?+a:-1,b=null==b?qa:b,a>-1&&a%1==0&&a<b}function L(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function M(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function N(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=wa,f[++e]=c);return f}function O(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function P(a){if(!a||!gc.test(a))return a.length;for(var b=fc.lastIndex=0;fc.test(a);)b++;return b}function Q(a){return a.match(fc)}function R(a){return qc[a]}function S(C){function La(a){if(wg(a)&&!_j(a)&&!(a instanceof zb)){if(a instanceof yb)return a;if(yi.call(a,"__wrapped__"))return ue(a)}return new yb(a)}function ub(){}function yb(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=T}function zb(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ta,this.__views__=[]}function Ab(){var a=new zb(this.__wrapped__);return a.__actions__=zd(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=zd(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=zd(this.__views__),a}function Bb(){if(this.__filtered__){var a=new zb(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Cb(){var a=this.__wrapped__.value(),b=this.__dir__,c=_j(a),d=b<0,e=c?a.length:0,f=be(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=Vi(i,this.__takeCount__);if(!c||e<ja||e==i&&n==i)return pd(a,this.__actions__);var o=[];a:for(;i--&&m<n;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==la)q=u;else if(!u){if(t==ka)continue a;break a}}o[m++]=q}return o}function Db(){}function Eb(a,b){return Gb(a,b)&&delete a[b]}function Fb(a,b){if(aj){var c=a[b];return c===oa?T:c}return yi.call(a,b)?a[b]:T}function Gb(a,b){return aj?a[b]!==T:yi.call(a,b)}function Hb(a,b,c){a[b]=aj&&c===T?oa:c}function Ib(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Jb(){this.__data__={hash:new Db,map:Zi?new Zi:[],string:new Db}}function Kb(a){var b=this.__data__;return je(a)?Eb("string"==typeof a?b.string:b.hash,a):Zi?b.map.delete(a):Xb(b.map,a)}function Lb(a){var b=this.__data__;return je(a)?Fb("string"==typeof a?b.string:b.hash,a):Zi?b.map.get(a):Yb(b.map,a)}function Mb(a){var b=this.__data__;return je(a)?Gb("string"==typeof a?b.string:b.hash,a):Zi?b.map.has(a):Zb(b.map,a)}function Nb(a,b){var c=this.__data__;return je(a)?Hb("string"==typeof a?c.string:c.hash,a,b):Zi?c.map.set(a,b):_b(c.map,a,b),this}function Ob(a){var b=-1,c=a?a.length:0;for(this.__data__=new Ib;++b<c;)this.push(a[b])}function Pb(a,b){var c=a.__data__;if(je(b)){var d=c.__data__,e="string"==typeof b?d.string:d.hash;return e[b]===oa}return c.has(b)}function Qb(a){var b=this.__data__;if(je(a)){var c=b.__data__,d="string"==typeof a?c.string:c.hash;d[a]=oa}else b.set(a,oa)}function Rb(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Sb(){this.__data__={array:[],map:null}}function Tb(a){var b=this.__data__,c=b.array;return c?Xb(c,a):b.map.delete(a)}function Ub(a){var b=this.__data__,c=b.array;return c?Yb(c,a):b.map.get(a)}function Vb(a){var b=this.__data__,c=b.array;return c?Zb(c,a):b.map.has(a)}function Wb(a,b){var c=this.__data__,d=c.array;d&&(d.length<ja-1?_b(d,a,b):(c.array=null,c.map=new Ib(d)));var e=c.map;return e&&e.set(a,b),this}function Xb(a,b){var c=$b(a,b);if(c<0)return!1;var d=a.length-1;return c==d?a.pop():Oi.call(a,c,1),!0}function Yb(a,b){var c=$b(a,b);return c<0?T:a[c][1]}function Zb(a,b){return $b(a,b)>-1}function $b(a,b){for(var c=a.length;c--;)if(eg(a[c][0],b))return c;return-1}function _b(a,b,c){var d=$b(a,b);d<0?a.push([b,c]):a[d][1]=c}function ac(a,b,c,d){return a===T||eg(a,wi[c])&&!yi.call(d,c)?b:a}function bc(a,b,c){(c===T||eg(a[b],c))&&("number"!=typeof b||c!==T||b in a)||(a[b]=c)}function cc(a,b,c){var d=a[b];eg(d,c)&&(!eg(d,wi[b])||yi.call(a,b))&&(c!==T||b in a)||(a[b]=c)}function dc(a,b){return a&&Ad(b,fh(b),a)}function fc(a,b){for(var c=-1,d=null==a,e=b.length,f=Array(e);++c<e;)f[c]=d?T:bh(a,b[c]);return f}function oc(a,b,c){return a===a&&(c!==T&&(a=a<=c?a:c),b!==T&&(a=a>=b?a:b)),a}function pc(a,b,c,d,f,g){var h;if(c&&(h=f?c(a,d,f,g):c(a)),h!==T)return h;if(!vg(a))return a;var i=_j(a);if(i){if(h=de(a),!b)return zd(a,h)}else{var j=ae(a),k=j==Ca||j==Da;if(j!=Ga&&j!=xa&&(!k||f))return nc[j]?fe(a,j,b):f?a:{};if(J(a))return f?a:{};if(h=ee(k?{}:a),!b)return Cd(a,dc(h,a))}g||(g=new Rb);var l=g.get(a);return l?l:(g.set(a,h),(i?e:Ac)(a,function(d,e){cc(h,e,pc(d,b,c,e,a,g))}),i?h:Cd(a,h))}function qc(a){var b=fh(a),c=b.length;return function(d){if(null==d)return!c;for(var e=c;e--;){var f=b[e],g=a[f],h=d[f];if(h===T&&!(f in Object(d))||!g(h))return!1}return!0}}function rc(a,b,c){if("function"!=typeof a)throw new ui(na);return Ni(function(){a.apply(T,c)},b)}function sc(a,b,c,d){var e=-1,f=i,g=!0,h=a.length,l=[],m=b.length;if(!h)return l;c&&(b=k(b,y(c))),d?(f=j,g=!1):b.length>=ja&&(f=Pb,g=!1,b=new Ob(b));a:for(;++e<h;){var n=a[e],o=c?c(n):n;if(g&&o===o){for(var p=m;p--;)if(b[p]===o)continue a;l.push(n)}else f(b,o,d)||l.push(n)}return l}function vc(a,b){var c=!0;return jj(a,function(a,d,e){return c=!!b(a,d,e)}),c}function wc(a,b,c,d){var e=a.length;for(c=Og(c),c<0&&(c=-c>e?0:e+c),d=d===T||d>e?e:Og(d),d<0&&(d+=e),d=c>d?0:Pg(d);c<d;)a[c++]=b;return a}function xc(a,b){var c=[];return jj(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function yc(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];jg(g)&&(c||_j(g)||hg(g))?b?yc(g,b,c,d):l(d,g):c||(d[d.length]=g)}return d}function zc(a,b){return null==a?a:lj(a,b,gh)}function Ac(a,b){return a&&lj(a,b,fh)}function Bc(a,b){return a&&mj(a,b,fh)}function Ec(a,b){return h(b,function(b){return sg(a[b])})}function Fc(a,b){b=ie(b,a)?[b+""]:ld(b);for(var c=0,d=b.length;null!=a&&c<d;)a=a[b[c++]];return c&&c==d?a:T}function Gc(a,b){return yi.call(a,b)||"object"==typeof a&&b in a&&null===Ji(a)}function Hc(a,b){return b in Object(a)}function Ic(a,b,c){return a>=Vi(b,c)&&a<Ui(b,c)}function Jc(a,b,c){for(var d=c?j:i,e=a.length,f=e,g=Array(e),h=[];f--;){var l=a[f];f&&b&&(l=k(l,y(b))),g[f]=!c&&(b||l.length>=120)?new Ob(f&&l):T}l=a[0];var m=-1,n=l.length,o=g[0];a:for(;++m<n;){var p=l[m],q=b?b(p):p;if(!(o?Pb(o,q):d(h,q,c))){for(var f=e;--f;){var r=g[f];if(!(r?Pb(r,q):d(a[f],q,c)))continue a}o&&o.push(q),h.push(p)}}return h}function Kc(a,b,d){ie(b,a)||(b=ld(b),a=pe(a,b),b=Me(b));var e=null==a?a:a[b];return null==e?T:c(e,a,d)}function Lc(a,b,c,d,e){return a===b||(null==a||null==b||!vg(a)&&!wg(b)?a!==a&&b!==b:Mc(a,b,Lc,c,d,e))}function Mc(a,b,c,d,e,f){var g=_j(a),h=_j(b),i=ya,j=ya;g||(i=ae(a),i==xa?i=Ga:i!=Ga&&(g=Jg(a))),h||(j=ae(b),j==xa?j=Ga:j!=Ga&&(h=Jg(b)));var k=i==Ga&&!J(a),l=j==Ga&&!J(b),m=i==j;if(m&&!g&&!k)return Wd(a,b,i,c,d,e);var n=e&ea;if(!n){var o=k&&yi.call(a,"__wrapped__"),p=l&&yi.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f)}return!!m&&(f||(f=new Rb),(g?Vd:Xd)(a,b,c,d,e,f))}function Nc(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(j===T&&!(i in a))return!1}else{var l=new Rb,m=d?d(j,k,i,a,b,l):T;if(!(m===T?Lc(k,j,d,da|ea,l):m))return!1}}return!0}function Oc(a){var b=typeof a;return"function"==b?a:null==a?Wh:"object"==b?_j(a)?Tc(a[0],a[1]):Sc(a):ci(a)}function Pc(a){return Ti(Object(a))}function Qc(a){a=null==a?a:Object(a);var b=[];for(var c in a)b.push(c);return b}function Rc(a,b){var c=-1,d=ig(a)?Array(a.length):[];return jj(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Sc(a){var b=$d(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null!=a&&(a[c]===d&&(d!==T||c in Object(a)))}}return function(c){return c===a||Nc(c,a,b)}}function Tc(a,b){return function(c){var d=bh(c,a);return d===T&&d===b?dh(c,a):Lc(b,d,T,da|ea)}}function Uc(a,b,c,d,f){if(a!==b){var g=_j(b)||Jg(b)?T:gh(b);e(g||b,function(e,h){if(g&&(h=e,e=b[h]),vg(e))f||(f=new Rb),Vc(a,b,h,c,Uc,d,f);else{var i=d?d(a[h],e,h+"",a,b,f):T;i===T&&(i=e),bc(a,h,i)}})}}function Vc(a,b,c,d,e,f,g){var h=a[c],i=b[c],j=g.get(i)||g.get(h);if(j)return void bc(a,c,j);var k=f?f(h,i,c+"",a,b,g):T,l=k===T;l&&(k=i,_j(i)||Jg(i)?k=_j(h)?d?zd(h):h:jg(h)?zd(h):pc(i):Eg(i)||hg(i)?k=hg(h)?Rg(h):!vg(h)||d&&sg(h)?pc(i):d?pc(h):h:l=!1),g.set(i,k),l&&e(k,i,d,f,g),bc(a,c,k)}function Wc(a,b,c){var d=-1,e=Zd();b=k(b.length?b:Array(1),function(a){return e(a)});var f=Rc(a,function(a,c,e){var f=k(b,function(b){return b(a)});return{criteria:f,index:++d,value:a}});return u(f,function(a,b){return E(a,b,c)})}function Xc(a,b){return a=Object(a),m(b,function(b,c){return c in a&&(b[c]=a[c]),b},{})}function Yc(a,b){var c={};return zc(a,function(a,d){b(a,d)&&(c[d]=a)}),c}function Zc(a){return function(b){return null==b?T:b[a]}}function $c(a){return function(b){return Fc(b,a)}}function _c(a,b){return ad(a,b)}function ad(a,b,c){var d=-1,e=b.length,f=a;for(c&&(f=k(a,function(a){return c(a)}));++d<e;)for(var g=0,h=b[d],i=c?c(h):h;(g=s(f,i,g))>-1;)f!==a&&Oi.call(f,g,1),Oi.call(a,g,1);return a}function bd(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(d==c||e!=f){var f=e;if(K(e))Oi.call(a,e,1);else if(ie(e,a))delete a[e];else{var g=ld(e),h=pe(a,g);null!=h&&delete h[Me(g)]}}}return a}function cd(a,b){return a+Qi(Xi()*(b-a+1))}function dd(a,b,c,d){for(var e=-1,f=Ui(Pi((b-a)/(c||1)),0),g=Array(f);f--;)g[d?f:++e]=a,a+=c;return g}function ed(a,b,c,d){b=ie(b,a)?[b+""]:ld(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];if(vg(h)){var j=c;if(e!=g){var k=h[i];j=d?d(k,i,h):T,j===T&&(j=null==k?K(b[e+1])?[]:{}:k)}cc(h,i,j)}h=h[i]}return a}function fd(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),c=c>e?e:c,c<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}function gd(a,b){var c;return jj(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function hd(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&e<=va){for(;d<e;){var f=d+e>>>1,g=a[f];(c?g<=b:g<b)&&null!==g?d=f+1:e=f}return e}return id(a,b,Wh,c)}function id(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===T;e<f;){var j=Qi((e+f)/2),k=c(a[j]),l=k!==T,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null!=k&&(d?k<=b:k<b);n?e=j+1:f=j}return Vi(f,ua)}function jd(a){return kd(a)}function kd(a,b){for(var c=0,d=a.length,e=a[0],f=b?b(e):e,g=f,h=0,i=[e];++c<d;)e=a[c],f=b?b(e):e,eg(f,g)||(g=f,i[++h]=e);return i}function ld(a){return _j(a)?a:re(a)}function md(a,b,c){var d=-1,e=i,f=a.length,g=!0,h=[],k=h;if(c)g=!1,e=j;else if(f>=ja){var l=b?null:oj(a);if(l)return O(l);g=!1,e=Pb,k=new Ob}else k=b?[]:h;a:for(;++d<f;){var m=a[d],n=b?b(m):m;if(g&&n===n){for(var o=k.length;o--;)if(k[o]===n)continue a;b&&k.push(n),h.push(m)}else e(k,n,c)||(k!==h&&k.push(n),h.push(m))}return h}function nd(a,b){b=ie(b,a)?[b+""]:ld(b),a=pe(a,b);var c=Me(b);return null==a||!ch(a,c)||delete a[c]}function od(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?fd(a,d?0:f,d?f+1:e):fd(a,d?f+1:0,d?e:f)}function pd(a,b){var c=a;return c instanceof zb&&(c=c.value()),m(b,function(a,b){return b.func.apply(b.thisArg,l([a],b.args))},c)}function qd(a,b,c){for(var d=-1,e=a.length;++d<e;)var f=f?l(sc(f,a[d],b,c),sc(a[d],f,b,c)):a[d];return f&&f.length?md(f,b,c):[]}function rd(a){var b=a.constructor,c=new b(a.byteLength),d=new Gi(c);return d.set(new Gi(a)),c}function sd(b){var c=b.constructor;return m(M(b),a,new c)}function td(a){var b=a.constructor,c=new b(a.source,ob.exec(a));return c.lastIndex=a.lastIndex,c}function ud(a){var c=a.constructor;return m(O(a),b,new c)}function vd(a){return Fi?Object(fj.call(a)):{}}function wd(a,b){var c=a.buffer,d=a.constructor;return new d(b?rd(c):c,a.byteOffset,a.length)}function xd(a,b,c){for(var d=c.length,e=-1,f=Ui(a.length-d,0),g=-1,h=b.length,i=Array(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function yd(a,b,c){for(var d=-1,e=c.length,f=-1,g=Ui(a.length-e,0),h=-1,i=b.length,j=Array(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function zd(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function Ad(a,b,c){return Bd(a,b,c)}function Bd(a,b,c,d){c||(c={});for(var e=-1,f=b.length;++e<f;){var g=b[e],h=d?d(c[g],a[g],g,c,a):a[g];cc(c,g,h)}return c}function Cd(a,b){return Ad(a,rj(a),b)}function Dd(a,b){return function(c,d){var e=b?b():{};if(d=Zd(d),_j(c))for(var f=-1,g=c.length;++f<g;){var h=c[f];a(e,h,d(h),c)}else jj(c,function(b,c,f){a(e,b,d(b),f)});return e}}function Ed(a){return Xf(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:T,g=e>2?c[2]:T;for(f="function"==typeof f?(e--,f):T,g&&he(c[0],c[1],g)&&(f=e<3?T:f,e=1),b=Object(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function Fd(a,b){return function(c,d){if(null==c)return c;if(!ig(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function Gd(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}function Hd(a,b,c){function d(){var b=this&&this!==Cc&&this instanceof d?f:a;return b.apply(e?c:this,arguments)}var e=b&V,f=Kd(a);return d}function Id(a){return function(b){b=Tg(b);var c=gc.test(b)?Q(b):T,d=c?c[0]:b.charAt(0),e=c?c.slice(1).join(""):b.slice(1);return d[a]()+e}}function Jd(a){return function(b){return m(Sh(yh(b)),a,"")}}function Kd(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=ij(a.prototype),d=a.apply(c,b);return vg(d)?d:c}}function Ld(a,b,d){function e(){for(var g=arguments.length,h=g,i=Array(g),j=this&&this!==Cc&&this instanceof e?f:a,k=e.placeholder;h--;)i[h]=arguments[h];var l=g<3&&i[0]!==k&&i[g-1]!==k?[]:N(i,k);return g-=l.length,g<d?Sd(a,b,Nd,k,T,i,l,T,T,d-g):c(j,this,i)}var f=Kd(a);return e}function Md(a){return Xf(function(b){b=yc(b);var c=b.length,d=c,e=yb.prototype.thru;for(a&&b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new ui(na);if(e&&!g&&"wrapper"==Yd(f))var g=new yb([],(!0))}for(d=g?d:c;++d<c;){f=b[d];var h=Yd(f),i="wrapper"==h?pj(f):T;g=i&&ke(i[0])&&i[1]==(aa|Y|$|ba)&&!i[4].length&&1==i[9]?g[Yd(i[0])].apply(g,i[3]):1==f.length&&ke(f)?g[h]():g.thru(f)}return function(){var a=arguments,d=a[0];if(g&&1==a.length&&_j(d)&&d.length>=ja)return g.plant(d).value();for(var e=0,f=c?b[e].apply(this,a):d;++e<c;)f=b[e].call(this,f);return f}})}function Nd(a,b,c,d,e,f,g,h,i,j){function k(){for(var s=arguments.length,t=s,u=Array(s);t--;)u[t]=arguments[t];if(d&&(u=xd(u,d,e)),f&&(u=yd(u,f,g)),o||p){var v=k.placeholder,w=N(u,v);if(s-=w.length,s<j)return Sd(a,b,Nd,v,c,u,w,h,i,j-s)}var x=m?c:this,y=n?x[a]:a;return h?u=qe(u,h):q&&u.length>1&&u.reverse(),l&&i<u.length&&(u.length=i),this&&this!==Cc&&this instanceof k&&(y=r||Kd(y)),y.apply(x,u)}var l=b&aa,m=b&V,n=b&W,o=b&Y,p=b&Z,q=b&ca,r=n?T:Kd(a);return k}function Od(a){return Xf(function(b){return b=k(yc(b),Zd()),Xf(function(d){var e=this;return a(b,function(a){return c(a,e,d)})})})}function Pd(a,b,c){b=Og(b);var d=P(a);if(!b||d>=b)return"";var e=b-d;c=c===T?" ":c+"";var f=Gh(c,Pi(e/P(c)));return gc.test(c)?Q(f).slice(0,e).join(""):f.slice(0,e)}function Qd(a,b,d,e){function f(){for(var b=-1,i=arguments.length,j=-1,k=e.length,l=Array(k+i),m=this&&this!==Cc&&this instanceof f?h:a;++j<k;)l[j]=e[j];for(;i--;)l[j++]=arguments[++b];return c(m,g?d:this,l)}var g=b&V,h=Kd(a);return f}function Rd(a){return function(b,c,d){return d&&"number"!=typeof d&&he(b,c,d)&&(c=d=T),b=Qg(b),b=b===b?b:0,c===T?(c=b,b=0):c=Qg(c)||0,d=d===T?b<c?1:-1:Qg(d)||0,dd(b,c,d,a)}}function Sd(a,b,c,d,e,f,g,h,i,j){var k=b&Y,l=h?zd(h):T,m=k?g:T,n=k?T:g,o=k?f:T,p=k?T:f;b|=k?$:_,b&=~(k?_:$),b&X||(b&=~(V|W));var q=[a,b,e,o,m,p,n,l,i,j],r=c.apply(T,q);return ke(a)&&sj(r,q),r.placeholder=d,r}function Td(a){var b=si[a];return function(a,c){if(a=Qg(a),c=Og(c)){var d=(Tg(a)+"e").split("e"),e=b(d[0]+"e"+(+d[1]+c));return d=(Tg(e)+"e").split("e"),+(d[0]+"e"+(+d[1]-c))}return b(a)}}function Ud(a,b,c,d,e,f,g,h){var i=b&W;if(!i&&"function"!=typeof a)throw new ui(na);var j=d?d.length:0;if(j||(b&=~($|_),d=e=T),g=g===T?g:Ui(Og(g),0),h=h===T?h:Og(h),j-=e?e.length:0,b&_){var k=d,l=e;d=e=T}var m=i?T:pj(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&ne(n,m),a=n[0],b=n[1],c=n[2],d=n[3],e=n[4],h=n[9]=null==n[9]?i?0:a.length:Ui(n[9]-j,0),!h&&b&(Y|Z)&&(b&=~(Y|Z)),b&&b!=V)o=b==Y||b==Z?Ld(a,b,h):b!=$&&b!=(V|$)||e.length?Nd.apply(T,n):Qd(a,b,c,d);else var o=Hd(a,b,c);var p=m?nj:sj;return p(o,n)}function Vd(a,b,c,d,e,f){var g=-1,h=e&ea,i=e&da,j=a.length,k=b.length;if(j!=k&&!(h&&k>j))return!1;var l=f.get(a);if(l)return l==b;var m=!0;for(f.set(a,b);++g<j;){var n=a[g],p=b[g];if(d)var q=h?d(p,n,g,b,a,f):d(n,p,g,a,b,f);if(q!==T){if(q)continue;m=!1;break}if(i){if(!o(b,function(a){return n===a||c(n,a,d,e,f)})){m=!1;break}}else if(n!==p&&!c(n,p,d,e,f)){m=!1;break}}return f.delete(a),m}function Wd(a,b,c,d,e,f){switch(c){case Ma:return!(a.byteLength!=b.byteLength||!d(new Gi(a),new Gi(b)));case za:case Aa:return+a==+b;case Ba:return a.name==b.name&&a.message==b.message;case Fa:return a!=+a?b!=+b:a==+b;case Ha:case Ja:return a==b+"";case Ea:var g=M;case Ia:var h=f&ea;return g||(g=O),(h||a.size==b.size)&&d(g(a),g(b),e,f|da);case Ka:return!!Fi&&fj.call(a)==fj.call(b)}return!1}function Xd(a,b,c,d,e,f){var g=e&ea,h=fh(a),i=h.length,j=fh(b),k=j.length;if(i!=k&&!g)return!1;for(var l=i;l--;){var m=h[l];if(!(g?m in b:Gc(b,m)))return!1}var n=f.get(a);if(n)return n==b;var o=!0;f.set(a,b);for(var p=g;++l<i;){m=h[l];var q=a[m],r=b[m];if(d)var s=g?d(r,q,m,b,a,f):d(q,r,m,a,b,f);if(!(s===T?q===r||c(q,r,d,e,f):s)){o=!1;break}p||(p="constructor"==m)}if(o&&!p){var t=a.constructor,u=b.constructor;t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u)&&(o=!1)}return f.delete(a),o}function Yd(a){for(var b=a.name+"",c=hj[b],d=yi.call(hj,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Zd(){var a=La.iteratee||Xh;return a=a===Xh?Oc:a,arguments.length?a(arguments[0],arguments[1]):a}function $d(a){for(var b=oh(a),c=b.length;c--;)b[c][2]=me(b[c][1]);return b}function _d(a,b){var c=null==a?T:a[b];return Ag(c)?c:T}function ae(a){return Bi.call(a)}function be(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=Vi(b,a+g);break;case"takeRight":a=Ui(a,b-g)}}return{start:a,end:b}}function ce(a,b,c){if(null==a)return!1;var d=c(a,b);return d||ie(b)||(b=ld(b),a=pe(a,b),null!=a&&(b=Me(b),d=c(a,b))),d||ug(a&&a.length)&&K(b,a.length)&&(_j(a)||Hg(a)||hg(a))}function de(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&yi.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function ee(a){var b=a.constructor;return ij(sg(b)?b.prototype:T)}function fe(a,b,c){var d=a.constructor;switch(b){case Ma:return rd(a);case za:case Aa:return new d((+a));case Na:case Oa:case Pa:case Qa:case Ra:case Sa:case Ta:case Ua:case Va:return wd(a,c);case Ea:return sd(a);case Fa:case Ja:return new d(a);case Ha:return td(a);case Ia:return ud(a);case Ka:return vd(a)}}function ge(a){var b=a?a.length:T;return ug(b)&&(_j(a)||Hg(a)||hg(a))?w(b,String):null}function he(a,b,c){if(!vg(c))return!1;var d=typeof b;return!!("number"==d?ig(c)&&K(b,c.length):"string"==d&&b in c)&&eg(c[b],a)}function ie(a,b){return"number"==typeof a||!_j(a)&&(fb.test(a)||!eb.test(a)||null!=b&&a in Object(b))}function je(a){var b=typeof a;return"number"==b||"boolean"==b||"string"==b&&"__proto__"!==a||null==a}function ke(a){var b=Yd(a),c=La[b];if("function"!=typeof c||!(b in zb.prototype))return!1;if(a===c)return!0;var d=pj(c);return!!d&&a===d[0]}function le(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||wi;return a===c}function me(a){return a===a&&!vg(a)}function ne(a,b){var c=a[1],d=b[1],e=c|d,f=e<(V|W|aa),g=d==aa&&c==Y||d==aa&&c==ba&&a[7].length<=b[8]||d==(aa|ba)&&b[7].length<=b[8]&&c==Y;if(!f&&!g)return a;d&V&&(a[2]=b[2],e|=c&V?0:X);var h=b[3];if(h){var i=a[3];a[3]=i?xd(i,h,b[4]):zd(h),a[4]=i?N(a[3],wa):zd(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?yd(i,h,b[6]):zd(h),a[6]=i?N(a[5],wa):zd(b[6])),h=b[7],h&&(a[7]=zd(h)),d&aa&&(a[8]=null==a[8]?b[8]:Vi(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function oe(a,b,c,d,e,f){return vg(a)&&vg(b)&&(f.set(b,a),Uc(a,b,T,oe,f)),a}function pe(a,b){return 1==b.length?a:bh(a,fd(b,0,-1))}function qe(a,b){for(var c=a.length,d=Vi(b.length,c),e=zd(a);d--;){var f=b[d];a[d]=K(f,c)?e[f]:T}return a}function re(a){var b=[];return Tg(a).replace(gb,function(a,c,d,e){b.push(d?e.replace(mb,"$1"):c||a)}),b}function se(a){return jg(a)?a:[]}function te(a){return"function"==typeof a?a:Wh}function ue(a){if(a instanceof zb)return a.clone();var b=new yb(a.__wrapped__,a.__chain__);return b.__actions__=zd(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function ve(a,b){b=Ui(Og(b),0);var c=a?a.length:0;if(!c||b<1)return[];for(var d=0,e=-1,f=Array(Pi(c/b));d<c;)f[++e]=fd(a,d,d+=b);return f}function we(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function xe(a,b,c){var d=a?a.length:0;return d?(b=c||b===T?1:Og(b),fd(a,b<0?0:b,d)):[]}function ye(a,b,c){var d=a?a.length:0;return d?(b=c||b===T?1:Og(b),b=d-b,fd(a,0,b<0?0:b)):[]}function ze(a,b){return a&&a.length?od(a,Zd(b,3),!0,!0):[]}function Ae(a,b){return a&&a.length?od(a,Zd(b,3),!0):[]}function Be(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&he(a,b,c)&&(c=0,d=e),wc(a,b,c,d)):[]}function Ce(a,b){return a&&a.length?r(a,Zd(b,3)):-1}function De(a,b){return a&&a.length?r(a,Zd(b,3),!0):-1}function Ee(a,b){var c=a?a.length:0;return c?yc(k(a,Zd(b,3))):[]}function Fe(a){var b=a?a.length:0;return b?yc(a):[]}function Ge(a){var b=a?a.length:0;return b?yc(a,!0):[]}function He(a){for(var b=-1,c=a?a.length:0,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d}function Ie(a){return a?a[0]:T}function Je(a,b,c){var d=a?a.length:0;return d?(c=Og(c),c<0&&(c=Ui(d+c,0)),s(a,b,c)):-1}function Ke(a){return ye(a,1)}function Le(a,b){return a?Si.call(a,b):""}function Me(a){var b=a?a.length:0;return b?a[b-1]:T}function Ne(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if(c!==T&&(e=Og(c),e=(e<0?Ui(d+e,0):Vi(e,d-1))+1),b!==b)return I(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Oe(a,b){return a&&a.length&&b&&b.length?_c(a,b):a}function Pe(a,b,c){return a&&a.length&&b&&b.length?ad(a,b,Zd(c)):a}function Qe(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=Zd(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return bd(a,e),c}function Re(a){return a?Yi.call(a):a}function Se(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&he(a,b,c)?(b=0,c=d):(b=null==b?0:Og(b),c=c===T?d:Og(c)),fd(a,b,c)):[]}function Te(a,b){return hd(a,b)}function Ue(a,b,c){return id(a,b,Zd(c))}function Ve(a,b){var c=a?a.length:0;if(c){var d=hd(a,b);if(d<c&&eg(a[d],b))return d}return-1}function We(a,b){return hd(a,b,!0)}function Xe(a,b,c){return id(a,b,Zd(c),!0)}function Ye(a,b){var c=a?a.length:0;if(c){var d=hd(a,b,!0)-1;if(eg(a[d],b))return d}return-1}function Ze(a){return a&&a.length?jd(a):[]}function $e(a,b){return a&&a.length?kd(a,Zd(b)):[]}function _e(a){return xe(a,1)}function af(a,b,c){return a&&a.length?(b=c||b===T?1:Og(b),fd(a,0,b<0?0:b)):[]}function bf(a,b,c){var d=a?a.length:0;return d?(b=c||b===T?1:Og(b),b=d-b,fd(a,b<0?0:b,d)):[]}function cf(a,b){return a&&a.length?od(a,Zd(b,3),!1,!0):[]}function df(a,b){return a&&a.length?od(a,Zd(b,3)):[]}function ef(a){return a&&a.length?md(a):[]}function ff(a,b){return a&&a.length?md(a,Zd(b)):[]}function gf(a,b){return a&&a.length?md(a,T,b):[]}function hf(a){if(!a||!a.length)return[];var b=0;return a=h(a,function(a){if(jg(a))return b=Ui(a.length,b),!0}),w(b,function(b){return k(a,Zc(b))})}function jf(a,b){if(!a||!a.length)return[];var d=hf(a);return null==b?d:k(d,function(a){return c(b,T,a)})}function kf(a,b){for(var c=-1,d=a?a.length:0,e=b?b.length:0,f={};++c<d;)ed(f,a[c],c<e?b[c]:T);return f}function lf(a){var b=La(a);return b.__chain__=!0,b}function mf(a,b){return b(a),a}function nf(a,b){return b(a)}function of(){return lf(this)}function pf(){return new yb(this.value(),this.__chain__)}function qf(a){return this.map(a).flatten()}function rf(){this.__values__===T&&(this.__values__=Ng(this.value()));var a=this.__index__>=this.__values__.length,b=a?T:this.__values__[this.__index__++];return{done:a,value:b}}function sf(){return this}function tf(a){for(var b,c=this;c instanceof ub;){var d=ue(c);d.__index__=0,d.__values__=T,b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b}function uf(){var a=this.__wrapped__;if(a instanceof zb){var b=a;return this.__actions__.length&&(b=new zb(this)),
b=b.reverse(),b.__actions__.push({func:nf,args:[Re],thisArg:T}),new yb(b,this.__chain__)}return this.thru(Re)}function vf(){return pd(this.__wrapped__,this.__actions__)}function wf(a,b,c){var d=_j(a)?g:vc;return c&&he(a,b,c)&&(b=T),d(a,Zd(b,3))}function xf(a,b){var c=_j(a)?h:xc;return c(a,Zd(b,3))}function yf(a,b){if(b=Zd(b,3),_j(a)){var c=r(a,b);return c>-1?a[c]:T}return q(a,b,jj)}function zf(a,b){if(b=Zd(b,3),_j(a)){var c=r(a,b,!0);return c>-1?a[c]:T}return q(a,b,kj)}function Af(a,b){return"function"==typeof b&&_j(a)?e(a,b):jj(a,te(b))}function Bf(a,b){return"function"==typeof b&&_j(a)?f(a,b):kj(a,te(b))}function Cf(a,b,c,d){a=ig(a)?a:sh(a),c=c&&!d?Og(c):0;var e=a.length;return c<0&&(c=Ui(e+c,0)),Hg(a)?c<=e&&a.indexOf(b,c)>-1:!!e&&s(a,b,c)>-1}function Df(a,b){var c=_j(a)?k:Rc;return c(a,Zd(b,3))}function Ef(a,b,c,d){return null==a?[]:(_j(b)||(b=null==b?[]:[b]),c=d?T:c,_j(c)||(c=null==c?[]:[c]),Wc(a,b,c))}function Ff(a,b,c){var d=_j(a)?m:t,e=arguments.length<3;return d(a,Zd(b,4),c,e,jj)}function Gf(a,b,c){var d=_j(a)?n:t,e=arguments.length<3;return d(a,Zd(b,4),c,e,kj)}function Hf(a,b){var c=_j(a)?h:xc;return b=Zd(b,3),c(a,function(a,c,d){return!b(a,c,d)})}function If(a){var b=ig(a)?a:sh(a),c=b.length;return c>0?b[cd(0,c-1)]:T}function Jf(a,b){var c=-1,d=Ng(a),e=d.length,f=e-1;for(b=oc(Og(b),0,e);++c<b;){var g=cd(c,f),h=d[g];d[g]=d[c],d[c]=h}return d.length=b,d}function Kf(a){return Jf(a,ta)}function Lf(a){if(null==a)return 0;if(ig(a)){var b=a.length;return b&&Hg(a)?P(a):b}return fh(a).length}function Mf(a,b,c){var d=_j(a)?o:gd;return c&&he(a,b,c)&&(b=T),d(a,Zd(b,3))}function Nf(a,b){if("function"!=typeof b)throw new ui(na);return a=Og(a),function(){if(--a<1)return b.apply(this,arguments)}}function Of(a,b,c){return b=c?T:b,b=a&&null==b?a.length:b,Ud(a,aa,T,T,T,T,b)}function Pf(a,b){var c;if("function"!=typeof b)throw new ui(na);return a=Og(a),function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=T),c}}function Qf(a,b,c){b=c?T:b;var d=Ud(a,Y,T,T,T,T,T,b);return d.placeholder=Qf.placeholder,d}function Rf(a,b,c){b=c?T:b;var d=Ud(a,Z,T,T,T,T,T,b);return d.placeholder=Rf.placeholder,d}function Sf(a,b,c){function d(){o&&Hi(o),k&&Hi(k),q=0,j=k=n=o=p=T}function e(b,c){c&&Hi(c),k=o=p=T,b&&(q=Sj(),l=a.apply(n,j),o||k||(j=n=T))}function f(){var a=b-(Sj()-m);a<=0||a>b?e(p,k):o=Ni(f,a)}function g(){return(o&&p||k&&t)&&(l=a.apply(n,j)),d(),l}function h(){e(t,o)}function i(){if(j=arguments,m=Sj(),n=this,p=t&&(o||!r),s===!1)var c=r&&!o;else{k||r||(q=m);var d=s-(m-q),e=d<=0||d>s;e?(k&&(k=Hi(k)),q=m,l=a.apply(n,j)):k||(k=Ni(h,d))}return e&&o?o=Hi(o):o||b===s||(o=Ni(f,b)),c&&(e=!0,l=a.apply(n,j)),!e||o||k||(j=n=T),l}var j,k,l,m,n,o,p,q=0,r=!1,s=!1,t=!0;if("function"!=typeof a)throw new ui(na);return b=Qg(b)||0,vg(c)&&(r=!!c.leading,s="maxWait"in c&&Ui(Qg(c.maxWait)||0,b),t="trailing"in c?!!c.trailing:t),i.cancel=d,i.flush=g,i}function Tf(a){return Ud(a,ca)}function Uf(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new ui(na);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new Uf.Cache,c}function Vf(a){if("function"!=typeof a)throw new ui(na);return function(){return!a.apply(this,arguments)}}function Wf(a){return Pf(2,a)}function Xf(a,b){if("function"!=typeof a)throw new ui(na);return b=Ui(b===T?a.length-1:Og(b),0),function(){for(var d=arguments,e=-1,f=Ui(d.length-b,0),g=Array(f);++e<f;)g[e]=d[b+e];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,d[0],g);case 2:return a.call(this,d[0],d[1],g)}var h=Array(b+1);for(e=-1;++e<b;)h[e]=d[e];return h[b]=g,c(a,this,h)}}function Yf(a){if("function"!=typeof a)throw new ui(na);return function(b){return c(a,this,b)}}function Zf(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new ui(na);return vg(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Sf(a,b,{leading:d,maxWait:b,trailing:e})}function $f(a){return Of(a,1)}function _f(a,b){return b=null==b?Wh:b,Yj(b,a)}function ag(a){return pc(a)}function bg(a,b){return pc(a,!1,b)}function cg(a){return pc(a,!0)}function dg(a,b){return pc(a,!0,b)}function eg(a,b){return a===b||a!==a&&b!==b}function fg(a,b){return a>b}function gg(a,b){return a>=b}function hg(a){return jg(a)&&yi.call(a,"callee")&&(!Mi.call(a,"callee")||Bi.call(a)==xa)}function ig(a){return null!=a&&!("function"==typeof a&&sg(a))&&ug(qj(a))}function jg(a){return wg(a)&&ig(a)}function kg(a){return a===!0||a===!1||wg(a)&&Bi.call(a)==za}function lg(a){return wg(a)&&Bi.call(a)==Aa}function mg(a){return!!a&&1===a.nodeType&&wg(a)&&!Eg(a)}function ng(a){return!wg(a)||sg(a.splice)?!Lf(a):!fh(a).length}function og(a,b){return Lc(a,b)}function pg(a,b,c){c="function"==typeof c?c:T;var d=c?c(a,b):T;return d===T?Lc(a,b,c):!!d}function qg(a){return wg(a)&&"string"==typeof a.message&&Bi.call(a)==Ba}function rg(a){return"number"==typeof a&&Ri(a)}function sg(a){var b=vg(a)?Bi.call(a):"";return b==Ca||b==Da}function tg(a){return"number"==typeof a&&a==Og(a)}function ug(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=qa}function vg(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function wg(a){return!!a&&"object"==typeof a}function xg(a,b){return a===b||Nc(a,b,$d(b))}function yg(a,b,c){return c="function"==typeof c?c:T,Nc(a,b,$d(b),c)}function zg(a){return Dg(a)&&a!=+a}function Ag(a){return null!=a&&(sg(a)?Di.test(xi.call(a)):wg(a)&&(J(a)?Di:sb).test(a))}function Bg(a){return null===a}function Cg(a){return null==a}function Dg(a){return"number"==typeof a||wg(a)&&Bi.call(a)==Fa}function Eg(a){if(!wg(a)||Bi.call(a)!=Ga||J(a))return!1;var b=wi;if("function"==typeof a.constructor&&(b=Ji(a)),null===b)return!0;var c=b.constructor;return"function"==typeof c&&c instanceof c&&xi.call(c)==Ai}function Fg(a){return vg(a)&&Bi.call(a)==Ha}function Gg(a){return tg(a)&&a>=-qa&&a<=qa}function Hg(a){return"string"==typeof a||!_j(a)&&wg(a)&&Bi.call(a)==Ja}function Ig(a){return"symbol"==typeof a||wg(a)&&Bi.call(a)==Ka}function Jg(a){return wg(a)&&ug(a.length)&&!!mc[Bi.call(a)]}function Kg(a){return a===T}function Lg(a,b){return a<b}function Mg(a,b){return a<=b}function Ng(a){if(!a)return[];if(ig(a))return Hg(a)?Q(a):zd(a);if(Li&&a[Li])return L(a[Li]());var b=ae(a),c=b==Ea?M:b==Ia?O:sh;return c(a)}function Og(a){if(!a)return 0===a?a:0;if(a=Qg(a),a===pa||a===-pa){var b=a<0?-1:1;return b*ra}var c=a%1;return a===a?c?a-c:a:0}function Pg(a){return a?oc(Og(a),0,ta):0}function Qg(a){if(vg(a)){var b=sg(a.valueOf)?a.valueOf():a;a=vg(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(jb,"");var c=rb.test(a);return c||tb.test(a)?uc(a.slice(2),c?2:8):qb.test(a)?sa:+a}function Rg(a){return Ad(a,gh(a))}function Sg(a){return oc(Og(a),-qa,qa)}function Tg(a){if("string"==typeof a)return a;if(null==a)return"";if(Ig(a))return Fi?gj.call(a):"";var b=a+"";return"0"==b&&1/a==-pa?"-0":b}function Ug(a,b){var c=ij(a);return b?dc(c,b):c}function Vg(a,b){return q(a,Zd(b,3),Ac,!0)}function Wg(a,b){return q(a,Zd(b,3),Bc,!0)}function Xg(a,b){return null==a?a:lj(a,te(b),gh)}function Yg(a,b){return null==a?a:mj(a,te(b),gh)}function Zg(a,b){return a&&Ac(a,te(b))}function $g(a,b){return a&&Bc(a,te(b))}function _g(a){return null==a?[]:Ec(a,fh(a))}function ah(a){return null==a?[]:Ec(a,gh(a))}function bh(a,b,c){var d=null==a?T:Fc(a,b);return d===T?c:d}function ch(a,b){return ce(a,b,Gc)}function dh(a,b){return ce(a,b,Hc)}function eh(a,b,c){return m(fh(a),function(d,e){var f=a[e];return b&&!c?yi.call(d,f)?d[f].push(e):d[f]=[e]:d[f]=e,d},{})}function fh(a){var b=le(a);if(!b&&!ig(a))return Pc(a);var c=ge(a),d=!!c,e=c||[],f=e.length;for(var g in a)!Gc(a,g)||d&&("length"==g||K(g,f))||b&&"constructor"==g||e.push(g);return e}function gh(a){for(var b=-1,c=le(a),d=Qc(a),e=d.length,f=ge(a),g=!!f,h=f||[],i=h.length;++b<e;){var j=d[b];g&&("length"==j||K(j,i))||"constructor"==j&&(c||!yi.call(a,j))||h.push(j)}return h}function hh(a,b){var c={};return b=Zd(b,3),Ac(a,function(a,d,e){c[b(a,d,e)]=a}),c}function ih(a,b){var c={};return b=Zd(b,3),Ac(a,function(a,d,e){c[d]=b(a,d,e)}),c}function jh(a,b){return b=Zd(b,2),Yc(a,function(a,c){return!b(a,c)})}function kh(a,b){return null==a?{}:Yc(a,Zd(b,2))}function lh(a,b,c){if(ie(b,a))d=null==a?T:a[b];else{b=ld(b);var d=bh(a,b);a=pe(a,b)}return d===T&&(d=c),sg(d)?d.call(a):d}function mh(a,b,c){return null==a?a:ed(a,b,c)}function nh(a,b,c,d){return d="function"==typeof d?d:T,null==a?a:ed(a,b,c,d)}function oh(a){return x(a,fh(a))}function ph(a){return x(a,gh(a))}function qh(a,b,c){var d=_j(a)||Jg(a);if(b=Zd(b,4),null==c)if(d||vg(a)){var f=a.constructor;c=d?_j(a)?new f:[]:ij(sg(f)?f.prototype:T)}else c={};return(d?e:Ac)(a,function(a,d,e){return b(c,a,d,e)}),c}function rh(a,b){return null==a||nd(a,b)}function sh(a){return a?z(a,fh(a)):[]}function th(a){return null==a?z(a,gh(a)):[]}function uh(a,b,c){return c===T&&(c=b,b=T),c!==T&&(c=Qg(c),c=c===c?c:0),b!==T&&(b=Qg(b),b=b===b?b:0),oc(Qg(a),b,c)}function vh(a,b,c){return b=Qg(b)||0,c===T?(c=b,b=0):c=Qg(c)||0,a=Qg(a),Ic(a,b,c)}function wh(a,b,c){if(c&&"boolean"!=typeof c&&he(a,b,c)&&(b=c=T),c===T&&("boolean"==typeof b?(c=b,b=T):"boolean"==typeof a&&(c=a,a=T)),a===T&&b===T?(a=0,b=1):(a=Qg(a)||0,b===T?(b=a,a=0):b=Qg(b)||0),a>b){var d=a;a=b,b=d}if(c||a%1||b%1){var e=Xi();return Vi(a+e*(b-a+tc("1e-"+((e+"").length-1))),b)}return cd(a,b)}function xh(a){return qk(Tg(a).toLowerCase())}function yh(a){return a=Tg(a),a&&a.replace(vb,F).replace(ec,"")}function zh(a,b,c){a=Tg(a),b="string"==typeof b?b:b+"";var d=a.length;return c=c===T?d:oc(Og(c),0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function Ah(a){return a=Tg(a),a&&ab.test(a)?a.replace($a,G):a}function Bh(a){return a=Tg(a),a&&ib.test(a)?a.replace(hb,"\\$&"):a}function Ch(a,b,c){a=Tg(a),b=Og(b);var d=P(a);if(!b||d>=b)return a;var e=(b-d)/2,f=Qi(e),g=Pi(e);return Pd("",f,c)+a+Pd("",g,c)}function Dh(a,b,c){return a=Tg(a),a+Pd(a,b,c)}function Eh(a,b,c){return a=Tg(a),Pd(a,b,c)+a}function Fh(a,b,c){return c||null==b?b=0:b&&(b=+b),a=Tg(a).replace(jb,""),Wi(a,b||(pb.test(a)?16:10))}function Gh(a,b){a=Tg(a),b=Og(b);var c="";if(!a||b<1||b>qa)return c;do b%2&&(c+=a),b=Qi(b/2),a+=a;while(b);return c}function Hh(){var a=arguments,b=Tg(a[0]);return a.length<3?b:b.replace(a[1],a[2])}function Ih(a,b,c){return Tg(a).split(b,c)}function Jh(a,b,c){return a=Tg(a),c=oc(Og(c),0,a.length),a.lastIndexOf(b,c)==c}function Kh(a,b,c){var d=La.templateSettings;c&&he(a,b,c)&&(b=T),a=Tg(a),b=ck({},b,d,ac);var e,f,g=ck({},b.imports,d.imports,ac),h=fh(g),i=z(g,h),j=0,k=b.interpolate||wb,l="__p += '",m=ti((b.escape||wb).source+"|"+k.source+"|"+(k===db?nb:wb).source+"|"+(b.evaluate||wb).source+"|$","g"),n="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++lc+"]")+"\n";a.replace(m,function(b,c,d,g,h,i){return d||(d=g),l+=a.slice(j,i).replace(xb,H),c&&(e=!0,l+="' +\n__e("+c+") +\n'"),h&&(f=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var o=b.variable;o||(l="with (obj) {\n"+l+"\n}\n"),l=(f?l.replace(Wa,""):l).replace(Xa,"$1").replace(Ya,"$1;"),l="function("+(o||"obj")+") {\n"+(o?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(e?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var p=uk(function(){return Function(h,n+"return "+l).apply(T,i)});if(p.source=l,qg(p))throw p;return p}function Lh(a){return Tg(a).toLowerCase()}function Mh(a){return Tg(a).toUpperCase()}function Nh(a,b,c){if(a=Tg(a),!a)return a;if(c||b===T)return a.replace(jb,"");if(b+="",!b)return a;var d=Q(a),e=Q(b);return d.slice(A(d,e),B(d,e)+1).join("")}function Oh(a,b,c){if(a=Tg(a),!a)return a;if(c||b===T)return a.replace(lb,"");if(b+="",!b)return a;var d=Q(a);return d.slice(0,B(d,Q(b))+1).join("")}function Ph(a,b,c){if(a=Tg(a),!a)return a;if(c||b===T)return a.replace(kb,"");if(b+="",!b)return a;var d=Q(a);return d.slice(A(d,Q(b))).join("")}function Qh(a,b){var c=fa,d=ga;if(vg(b)){var e="separator"in b?b.separator:e;c="length"in b?Og(b.length):c,d="omission"in b?Tg(b.omission):d}a=Tg(a);var f=a.length;if(gc.test(a)){var g=Q(a);f=g.length}if(c>=f)return a;var h=c-P(d);if(h<1)return d;var i=g?g.slice(0,h).join(""):a.slice(0,h);if(e===T)return i+d;if(g&&(h+=i.length-h),Fg(e)){if(a.slice(h).search(e)){var j,k=i;for(e.global||(e=ti(e.source,Tg(ob.exec(e))+"g")),e.lastIndex=0;j=e.exec(k);)var l=j.index;i=i.slice(0,l===T?h:l)}}else if(a.indexOf(e,h)!=h){var m=i.lastIndexOf(e);m>-1&&(i=i.slice(0,m))}return i+d}function Rh(a){return a=Tg(a),a&&_a.test(a)?a.replace(Za,R):a}function Sh(a,b,c){return a=Tg(a),b=c?T:b,b===T&&(b=jc.test(a)?ic:hc),a.match(b)||[]}function Th(a){var b=a?a.length:0,d=Zd();return a=b?k(a,function(a){if("function"!=typeof a[1])throw new ui(na);return[d(a[0]),a[1]]}):[],Xf(function(d){for(var e=-1;++e<b;){var f=a[e];if(c(f[0],this,d))return c(f[1],this,d)}})}function Uh(a){return qc(pc(a,!0))}function Vh(a){return function(){return a}}function Wh(a){return a}function Xh(a){return wg(a)&&!_j(a)?Yh(a):Oc(a)}function Yh(a){return Sc(pc(a,!0))}function Zh(a,b){return Tc(a,pc(b,!0))}function $h(a,b,c){var d=fh(b),f=Ec(b,d);null!=c||vg(b)&&(f.length||!d.length)||(c=b,b=a,a=this,f=Ec(b,fh(b)));var g=!(vg(c)&&"chain"in c)||c.chain,h=sg(a);return e(f,function(c){var d=b[c];a[c]=d,h&&(a.prototype[c]=function(){var b=this.__chain__;if(g||b){var c=a(this.__wrapped__),e=c.__actions__=zd(this.__actions__);return e.push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,l([this.value()],arguments))})}),a}function _h(){return Cc._===this&&(Cc._=Ci),this}function ai(){}function bi(a){return a=Og(a),function(){return arguments[a]}}function ci(a){return ie(a)?Zc(a):$c(a)}function di(a){return function(b){return null==a?T:Fc(a,b)}}function ei(a,b){if(a=Og(a),a<1||a>qa)return[];var c=ta,d=Vi(a,ta);b=te(b),a-=ta;for(var e=w(d,b);++c<a;)b(c);return e}function fi(a){return _j(a)?k(a,String):re(a)}function gi(a){var b=++zi;return Tg(a)+b}function hi(a,b){var c;return a!==T&&(c=a),b!==T&&(c=c===T?b:c+b),c}function ii(a){return a&&a.length?p(a,Wh,fg):T}function ji(a,b){return a&&a.length?p(a,Zd(b),fg):T}function ki(a){return oi(a)/(a?a.length:0)}function li(a){return a&&a.length?p(a,Wh,Lg):T}function mi(a,b){return a&&a.length?p(a,Zd(b),Lg):T}function ni(a,b){var c;return a!==T&&(c=a),b!==T&&(c=c===T?b:c-b),c}function oi(a){return a&&a.length?v(a,Wh):T}function pi(a,b){return a&&a.length?v(a,Zd(b)):T}C=C?Dc.defaults({},C,Dc.pick(Cc,kc)):Cc;var qi=C.Date,ri=C.Error,si=C.Math,ti=C.RegExp,ui=C.TypeError,vi=C.Array.prototype,wi=C.Object.prototype,xi=C.Function.prototype.toString,yi=wi.hasOwnProperty,zi=0,Ai=xi.call(Object),Bi=wi.toString,Ci=Cc._,Di=ti("^"+xi.call(yi).replace(hb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ei=C.Reflect,Fi=C.Symbol,Gi=C.Uint8Array,Hi=C.clearTimeout,Ii=Ei?Ei.enumerate:T,Ji=Object.getPrototypeOf,Ki=Object.getOwnPropertySymbols,Li="symbol"==typeof(Li=Fi&&Fi.iterator)?Li:T,Mi=wi.propertyIsEnumerable,Ni=C.setTimeout,Oi=vi.splice,Pi=si.ceil,Qi=si.floor,Ri=C.isFinite,Si=vi.join,Ti=Object.keys,Ui=si.max,Vi=si.min,Wi=C.parseInt,Xi=si.random,Yi=vi.reverse,Zi=_d(C,"Map"),$i=_d(C,"Set"),_i=_d(C,"WeakMap"),aj=_d(Object,"create"),bj=_i&&new _i,cj=Zi?xi.call(Zi):"",dj=$i?xi.call($i):"",ej=Fi?Fi.prototype:T,fj=Fi?ej.valueOf:T,gj=Fi?ej.toString:T,hj={};La.templateSettings={escape:bb,evaluate:cb,interpolate:db,variable:"",imports:{_:La}};var ij=function(){function a(){}return function(b){if(vg(b)){a.prototype=b;var c=new a;a.prototype=T}return c||{}}}(),jj=Fd(Ac),kj=Fd(Bc,!0),lj=Gd(),mj=Gd(!0);Ii&&!Mi.call({valueOf:1},"valueOf")&&(Qc=function(a){return L(Ii(a))});var nj=bj?function(a,b){return bj.set(a,b),a}:Wh,oj=$i&&2===new $i([1,2]).size?function(a){return new $i(a)}:ai,pj=bj?function(a){return bj.get(a)}:ai,qj=Zc("length"),rj=Ki||function(){return[]};(Zi&&ae(new Zi)!=Ea||$i&&ae(new $i)!=Ia)&&(ae=function(a){var b=Bi.call(a),c=b==Ga?a.constructor:null,d="function"==typeof c?xi.call(c):"";if(d){if(d==cj)return Ea;if(d==dj)return Ia}return b});var sj=function(){var a=0,b=0;return function(c,d){var e=Sj(),f=ia-(e-b);if(b=e,f>0){if(++a>=ha)return c}else a=0;return nj(c,d)}}(),tj=Xf(function(a,b){return _j(a)||(a=null==a?[]:[Object(a)]),b=yc(b),d(a,b)}),uj=Xf(function(a,b){return jg(a)?sc(a,yc(b,!1,!0)):[]}),vj=Xf(function(a,b){var c=Me(b);return jg(c)&&(c=T),jg(a)?sc(a,yc(b,!1,!0),Zd(c)):[]}),wj=Xf(function(a,b){var c=Me(b);return jg(c)&&(c=T),jg(a)?sc(a,yc(b,!1,!0),T,c):[]}),xj=Xf(function(a){var b=k(a,se);return b.length&&b[0]===a[0]?Jc(b):[]}),yj=Xf(function(a){var b=Me(a),c=k(a,se);return b===Me(c)?b=T:c.pop(),c.length&&c[0]===a[0]?Jc(c,Zd(b)):[]}),zj=Xf(function(a){var b=Me(a),c=k(a,se);return b===Me(c)?b=T:c.pop(),c.length&&c[0]===a[0]?Jc(c,T,b):[]}),Aj=Xf(Oe),Bj=Xf(function(a,b){b=k(yc(b),String);var c=fc(a,b);return bd(a,b.sort(D)),c}),Cj=Xf(function(a){return md(yc(a,!1,!0))}),Dj=Xf(function(a){var b=Me(a);return jg(b)&&(b=T),md(yc(a,!1,!0),Zd(b))}),Ej=Xf(function(a){var b=Me(a);return jg(b)&&(b=T),md(yc(a,!1,!0),T,b)}),Fj=Xf(function(a,b){return jg(a)?sc(a,b):[]}),Gj=Xf(function(a){return qd(h(a,jg))}),Hj=Xf(function(a){var b=Me(a);return jg(b)&&(b=T),qd(h(a,jg),Zd(b))}),Ij=Xf(function(a){var b=Me(a);return jg(b)&&(b=T),qd(h(a,jg),T,b)}),Jj=Xf(hf),Kj=Xf(function(a){var b=a.length,c=b>1?a[b-1]:T;return c="function"==typeof c?(a.pop(),c):T,jf(a,c)}),Lj=Xf(function(a){a=yc(a);var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return fc(b,a)};return!(b>1||this.__actions__.length)&&d instanceof zb&&K(c)?(d=d.slice(c,+c+(b?1:0)),d.__actions__.push({func:nf,args:[e],thisArg:T}),new yb(d,this.__chain__).thru(function(a){return b&&!a.length&&a.push(T),a})):this.thru(e)}),Mj=Dd(function(a,b,c){yi.call(a,c)?++a[c]:a[c]=1}),Nj=Dd(function(a,b,c){yi.call(a,c)?a[c].push(b):a[c]=[b]}),Oj=Xf(function(a,b,d){var e=-1,f="function"==typeof b,g=ie(b),h=ig(a)?Array(a.length):[];return jj(a,function(a){var i=f?b:g&&null!=a?a[b]:T;h[++e]=i?c(i,a,d):Kc(a,b,d)}),h}),Pj=Dd(function(a,b,c){a[c]=b}),Qj=Dd(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Rj=Xf(function(a,b){if(null==a)return[];var c=b.length;return c>1&&he(a,b[0],b[1])?b=[]:c>2&&he(b[0],b[1],b[2])&&(b.length=1),Wc(a,yc(b),[])}),Sj=qi.now,Tj=Xf(function(a,b,c){var d=V;if(c.length){var e=N(c,Tj.placeholder);d|=$}return Ud(a,d,b,c,e)}),Uj=Xf(function(a,b,c){var d=V|W;if(c.length){var e=N(c,Uj.placeholder);d|=$}return Ud(b,d,a,c,e)}),Vj=Xf(function(a,b){return rc(a,1,b)}),Wj=Xf(function(a,b,c){return rc(a,Qg(b)||0,c)}),Xj=Xf(function(a,b){b=k(yc(b),Zd());var d=b.length;return Xf(function(e){for(var f=-1,g=Vi(e.length,d);++f<g;)e[f]=b[f].call(this,e[f]);return c(a,this,e)})}),Yj=Xf(function(a,b){var c=N(b,Yj.placeholder);return Ud(a,$,T,b,c)}),Zj=Xf(function(a,b){var c=N(b,Zj.placeholder);return Ud(a,_,T,b,c)}),$j=Xf(function(a,b){return Ud(a,ba,T,T,T,yc(b))}),_j=Array.isArray,ak=Ed(function(a,b){Ad(b,fh(b),a)}),bk=Ed(function(a,b){Ad(b,gh(b),a)}),ck=Ed(function(a,b,c,d){Bd(b,gh(b),a,d)}),dk=Ed(function(a,b,c,d){Bd(b,fh(b),a,d)}),ek=Xf(function(a,b){return fc(a,yc(b))}),fk=Xf(function(a){return a.push(T,ac),c(ck,T,a)}),gk=Xf(function(a){return a.push(T,oe),c(jk,T,a)}),hk=Xf(Kc),ik=Ed(function(a,b,c){Uc(a,b,c)}),jk=Ed(function(a,b,c,d){Uc(a,b,c,d)}),kk=Xf(function(a,b){return null==a?{}:(b=k(yc(b),String),Xc(a,sc(gh(a),b)))}),lk=Xf(function(a,b){return null==a?{}:Xc(a,yc(b))}),mk=Jd(function(a,b,c){return b=b.toLowerCase(),a+(c?xh(b):b)}),nk=Jd(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),ok=Jd(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),pk=Id("toLowerCase"),qk=Id("toUpperCase"),rk=Jd(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),sk=Jd(function(a,b,c){return a+(c?" ":"")+xh(b)}),tk=Jd(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),uk=Xf(function(a,b){try{return c(a,T,b)}catch(a){return qg(a)?a:new ri(a)}}),vk=Xf(function(a,b){return e(yc(b),function(b){a[b]=Tj(a[b],a)}),a}),wk=Md(),xk=Md(!0),yk=Xf(function(a,b){return function(c){return Kc(c,a,b)}}),zk=Xf(function(a,b){return function(c){return Kc(a,c,b)}}),Ak=Od(k),Bk=Od(g),Ck=Od(o),Dk=Rd(),Ek=Rd(!0),Fk=Td("ceil"),Gk=Td("floor"),Hk=Td("round");return La.prototype=ub.prototype,yb.prototype=ij(ub.prototype),yb.prototype.constructor=yb,zb.prototype=ij(ub.prototype),zb.prototype.constructor=zb,Db.prototype=aj?aj(null):wi,Ib.prototype.clear=Jb,Ib.prototype.delete=Kb,Ib.prototype.get=Lb,Ib.prototype.has=Mb,Ib.prototype.set=Nb,Ob.prototype.push=Qb,Rb.prototype.clear=Sb,Rb.prototype.delete=Tb,Rb.prototype.get=Ub,Rb.prototype.has=Vb,Rb.prototype.set=Wb,Uf.Cache=Ib,La.after=Nf,La.ary=Of,La.assign=ak,La.assignIn=bk,La.assignInWith=ck,La.assignWith=dk,La.at=ek,La.before=Pf,La.bind=Tj,La.bindAll=vk,La.bindKey=Uj,La.chain=lf,La.chunk=ve,La.compact=we,La.concat=tj,La.cond=Th,La.conforms=Uh,La.constant=Vh,La.countBy=Mj,La.create=Ug,La.curry=Qf,La.curryRight=Rf,La.debounce=Sf,La.defaults=fk,La.defaultsDeep=gk,La.defer=Vj,La.delay=Wj,La.difference=uj,La.differenceBy=vj,La.differenceWith=wj,La.drop=xe,La.dropRight=ye,La.dropRightWhile=ze,La.dropWhile=Ae,La.fill=Be,La.filter=xf,La.flatMap=Ee,La.flatten=Fe,La.flattenDeep=Ge,La.flip=Tf,La.flow=wk,La.flowRight=xk,La.fromPairs=He,La.functions=_g,La.functionsIn=ah,La.groupBy=Nj,La.initial=Ke,La.intersection=xj,La.intersectionBy=yj,La.intersectionWith=zj,La.invert=eh,La.invokeMap=Oj,La.iteratee=Xh,La.keyBy=Pj,La.keys=fh,La.keysIn=gh,La.map=Df,La.mapKeys=hh,La.mapValues=ih,La.matches=Yh,La.matchesProperty=Zh,La.memoize=Uf,La.merge=ik,La.mergeWith=jk,La.method=yk,La.methodOf=zk,La.mixin=$h,La.negate=Vf,La.nthArg=bi,La.omit=kk,La.omitBy=jh,La.once=Wf,La.orderBy=Ef,La.over=Ak,La.overArgs=Xj,La.overEvery=Bk,La.overSome=Ck,La.partial=Yj,La.partialRight=Zj,La.partition=Qj,La.pick=lk,La.pickBy=kh,La.property=ci,La.propertyOf=di,La.pull=Aj,La.pullAll=Oe,La.pullAllBy=Pe,La.pullAt=Bj,La.range=Dk,La.rangeRight=Ek,La.rearg=$j,La.reject=Hf,La.remove=Qe,La.rest=Xf,La.reverse=Re,La.sampleSize=Jf,La.set=mh,La.setWith=nh,La.shuffle=Kf,La.slice=Se,La.sortBy=Rj,La.sortedUniq=Ze,La.sortedUniqBy=$e,La.split=Ih,La.spread=Yf,La.tail=_e,La.take=af,La.takeRight=bf,La.takeRightWhile=cf,La.takeWhile=df,La.tap=mf,La.throttle=Zf,La.thru=nf,La.toArray=Ng,La.toPairs=oh,La.toPairsIn=ph,La.toPath=fi,La.toPlainObject=Rg,La.transform=qh,La.unary=$f,La.union=Cj,La.unionBy=Dj,La.unionWith=Ej,La.uniq=ef,La.uniqBy=ff,La.uniqWith=gf,La.unset=rh,La.unzip=hf,La.unzipWith=jf,La.values=sh,La.valuesIn=th,La.without=Fj,La.words=Sh,La.wrap=_f,La.xor=Gj,La.xorBy=Hj,La.xorWith=Ij,La.zip=Jj,La.zipObject=kf,La.zipWith=Kj,La.extend=bk,La.extendWith=ck,$h(La,La),La.add=hi,La.attempt=uk,La.camelCase=mk,La.capitalize=xh,La.ceil=Fk,La.clamp=uh,La.clone=ag,La.cloneDeep=cg,La.cloneDeepWith=dg,La.cloneWith=bg,La.deburr=yh,La.endsWith=zh,La.eq=eg,La.escape=Ah,La.escapeRegExp=Bh,La.every=wf,La.find=yf,La.findIndex=Ce,La.findKey=Vg,La.findLast=zf,La.findLastIndex=De,La.findLastKey=Wg,La.floor=Gk,La.forEach=Af,La.forEachRight=Bf,La.forIn=Xg,La.forInRight=Yg,La.forOwn=Zg,La.forOwnRight=$g,La.get=bh,La.gt=fg,La.gte=gg,La.has=ch,La.hasIn=dh,La.head=Ie,La.identity=Wh,La.includes=Cf,La.indexOf=Je,La.inRange=vh,La.invoke=hk,La.isArguments=hg,La.isArray=_j,La.isArrayLike=ig,La.isArrayLikeObject=jg,La.isBoolean=kg,La.isDate=lg,La.isElement=mg,La.isEmpty=ng,La.isEqual=og,La.isEqualWith=pg,La.isError=qg,La.isFinite=rg,La.isFunction=sg,La.isInteger=tg,La.isLength=ug,La.isMatch=xg,La.isMatchWith=yg,La.isNaN=zg,La.isNative=Ag,La.isNil=Cg,La.isNull=Bg,La.isNumber=Dg,La.isObject=vg,La.isObjectLike=wg,La.isPlainObject=Eg,La.isRegExp=Fg,La.isSafeInteger=Gg,La.isString=Hg,La.isSymbol=Ig,La.isTypedArray=Jg,La.isUndefined=Kg,La.join=Le,La.kebabCase=nk,La.last=Me,La.lastIndexOf=Ne,La.lowerCase=ok,La.lowerFirst=pk,La.lt=Lg,La.lte=Mg,La.max=ii,La.maxBy=ji,La.mean=ki,La.min=li,La.minBy=mi,La.noConflict=_h,La.noop=ai,La.now=Sj,La.pad=Ch,La.padEnd=Dh,La.padStart=Eh,La.parseInt=Fh,La.random=wh,La.reduce=Ff,La.reduceRight=Gf,La.repeat=Gh,La.replace=Hh,La.result=lh,La.round=Hk,La.runInContext=S,La.sample=If,La.size=Lf,La.snakeCase=rk,La.some=Mf,La.sortedIndex=Te,La.sortedIndexBy=Ue,La.sortedIndexOf=Ve,La.sortedLastIndex=We,La.sortedLastIndexBy=Xe,La.sortedLastIndexOf=Ye,La.startCase=sk,La.startsWith=Jh,La.subtract=ni,La.sum=oi,La.sumBy=pi,La.template=Kh,La.times=ei,La.toInteger=Og,La.toLength=Pg,La.toLower=Lh,La.toNumber=Qg,La.toSafeInteger=Sg,La.toString=Tg,La.toUpper=Mh,La.trim=Nh,La.trimEnd=Oh,La.trimStart=Ph,La.truncate=Qh,La.unescape=Rh,La.uniqueId=gi,La.upperCase=tk,La.upperFirst=qk,La.each=Af,La.eachRight=Bf,La.first=Ie,$h(La,function(){var a={};return Ac(La,function(b,c){yi.call(La.prototype,c)||(a[c]=b)}),a}(),{chain:!1}),La.VERSION=U,e(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){La[a].placeholder=La}),e(["drop","take"],function(a,b){zb.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new zb(this);c=c===T?1:Ui(Og(c),0);var e=this.clone();return d?e.__takeCount__=Vi(c,e.__takeCount__):e.__views__.push({size:Vi(c,ta),type:a+(e.__dir__<0?"Right":"")}),e},zb.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),e(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==ka||c==ma;zb.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:Zd(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),e(["head","last"],function(a,b){var c="take"+(b?"Right":"");zb.prototype[a]=function(){return this[c](1).value()[0]}}),e(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");zb.prototype[a]=function(){return this.__filtered__?new zb(this):this[c](1)}}),zb.prototype.compact=function(){return this.filter(Wh)},zb.prototype.find=function(a){return this.filter(a).head()},zb.prototype.findLast=function(a){return this.reverse().find(a)},zb.prototype.invokeMap=Xf(function(a,b){return"function"==typeof a?new zb(this):this.map(function(c){return Kc(c,a,b)})}),zb.prototype.reject=function(a){return a=Zd(a,3),this.filter(function(b){return!a(b)})},zb.prototype.slice=function(a,b){a=Og(a);var c=this;return c.__filtered__&&(a>0||b<0)?new zb(c):(a<0?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==T&&(b=Og(b),c=b<0?c.dropRight(-b):c.take(b-a)),c)},zb.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},zb.prototype.toArray=function(){return this.take(ta)},Ac(zb.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=La[d?"take"+("last"==b?"Right":""):b],f=d||/^find/.test(b);e&&(La.prototype[b]=function(){var b=this.__wrapped__,g=d?[1]:arguments,h=b instanceof zb,i=g[0],j=h||_j(b),k=function(a){var b=e.apply(La,l([a],g));return d&&m?b[0]:b};j&&c&&"function"==typeof i&&1!=i.length&&(h=j=!1);var m=this.__chain__,n=!!this.__actions__.length,o=f&&!m,p=h&&!n;if(!f&&j){b=p?b:new zb(this);var q=a.apply(b,g);return q.__actions__.push({func:nf,args:[k],thisArg:T}),new yb(q,m)}return o&&p?a.apply(this,g):(q=this.thru(k),o?d?q.value()[0]:q.value():q)})}),e(["pop","push","shift","sort","splice","unshift"],function(a){var b=vi[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);La.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}}),Ac(zb.prototype,function(a,b){var c=La[b];if(c){var d=c.name+"",e=hj[d]||(hj[d]=[]);e.push({name:b,func:c})}}),hj[Nd(T,W).name]=[{name:"wrapper",func:T}],zb.prototype.clone=Ab,zb.prototype.reverse=Bb,zb.prototype.value=Cb,La.prototype.at=Lj,La.prototype.chain=of,La.prototype.commit=pf,La.prototype.flatMap=qf,La.prototype.next=rf,La.prototype.plant=tf,La.prototype.reverse=uf,La.prototype.toJSON=La.prototype.valueOf=La.prototype.value=vf,Li&&(La.prototype[Li]=sf),La}var T,U="4.0.1",V=1,W=2,X=4,Y=8,Z=16,$=32,_=64,aa=128,ba=256,ca=512,da=1,ea=2,fa=30,ga="...",ha=150,ia=16,ja=200,ka=1,la=2,ma=3,na="Expected a function",oa="__lodash_hash_undefined__",pa=1/0,qa=9007199254740991,ra=1.7976931348623157e308,sa=NaN,ta=4294967295,ua=ta-1,va=ta>>>1,wa="__lodash_placeholder__",xa="[object Arguments]",ya="[object Array]",za="[object Boolean]",Aa="[object Date]",Ba="[object Error]",Ca="[object Function]",Da="[object GeneratorFunction]",Ea="[object Map]",Fa="[object Number]",Ga="[object Object]",Ha="[object RegExp]",Ia="[object Set]",Ja="[object String]",Ka="[object Symbol]",La="[object WeakMap]",Ma="[object ArrayBuffer]",Na="[object Float32Array]",Oa="[object Float64Array]",Pa="[object Int8Array]",Qa="[object Int16Array]",Ra="[object Int32Array]",Sa="[object Uint8Array]",Ta="[object Uint8ClampedArray]",Ua="[object Uint16Array]",Va="[object Uint32Array]",Wa=/\b__p \+= '';/g,Xa=/\b(__p \+=) '' \+/g,Ya=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Za=/&(?:amp|lt|gt|quot|#39|#96);/g,$a=/[&<>"'`]/g,_a=RegExp(Za.source),ab=RegExp($a.source),bb=/<%-([\s\S]+?)%>/g,cb=/<%([\s\S]+?)%>/g,db=/<%=([\s\S]+?)%>/g,eb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fb=/^\w*$/,gb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,hb=/[\\^$.*+?()[\]{}|]/g,ib=RegExp(hb.source),jb=/^\s+|\s+$/g,kb=/^\s+/,lb=/\s+$/,mb=/\\(\\)?/g,nb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ob=/\w*$/,pb=/^0x/i,qb=/^[-+]0x[0-9a-f]+$/i,rb=/^0b[01]+$/i,sb=/^\[object .+?Constructor\]$/,tb=/^0o[0-7]+$/i,ub=/^(?:0|[1-9]\d*)$/,vb=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,wb=/($^)/,xb=/['\n\r\u2028\u2029\\]/g,yb="\\ud800-\\udfff",zb="\\u0300-\\u036f\\ufe20-\\ufe23",Ab="\\u20d0-\\u20f0",Bb="\\u2700-\\u27bf",Cb="a-z\\xdf-\\xf6\\xf8-\\xff",Db="\\xac\\xb1\\xd7\\xf7",Eb="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fb="\\u2018\\u2019\\u201c\\u201d",Gb=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hb="A-Z\\xc0-\\xd6\\xd8-\\xde",Ib="\\ufe0e\\ufe0f",Jb=Db+Eb+Fb+Gb,Kb="["+yb+"]",Lb="["+Jb+"]",Mb="["+zb+Ab+"]",Nb="\\d+",Ob="["+Bb+"]",Pb="["+Cb+"]",Qb="[^"+yb+Jb+Nb+Bb+Cb+Hb+"]",Rb="\\ud83c[\\udffb-\\udfff]",Sb="(?:"+Mb+"|"+Rb+")",Tb="[^"+yb+"]",Ub="(?:\\ud83c[\\udde6-\\uddff]){2}",Vb="[\\ud800-\\udbff][\\udc00-\\udfff]",Wb="["+Hb+"]",Xb="\\u200d",Yb="(?:"+Pb+"|"+Qb+")",Zb="(?:"+Wb+"|"+Qb+")",$b=Sb+"?",_b="["+Ib+"]?",ac="(?:"+Xb+"(?:"+[Tb,Ub,Vb].join("|")+")"+_b+$b+")*",bc=_b+$b+ac,cc="(?:"+[Ob,Ub,Vb].join("|")+")"+bc,dc="(?:"+[Tb+Mb+"?",Mb,Ub,Vb,Kb].join("|")+")",ec=RegExp(Mb,"g"),fc=RegExp(Rb+"(?="+Rb+")|"+dc+bc,"g"),gc=RegExp("["+Xb+yb+zb+Ab+Ib+"]"),hc=/[a-zA-Z0-9]+/g,ic=RegExp([Wb+"?"+Pb+"+(?="+[Lb,Wb,"$"].join("|")+")",Zb+"+(?="+[Lb,Wb+Yb,"$"].join("|")+")",Wb+"?"+Yb+"+",Wb+"+",Nb,cc].join("|"),"g"),jc=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kc=["Array","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lc=-1,mc={};mc[Na]=mc[Oa]=mc[Pa]=mc[Qa]=mc[Ra]=mc[Sa]=mc[Ta]=mc[Ua]=mc[Va]=!0,mc[xa]=mc[ya]=mc[Ma]=mc[za]=mc[Aa]=mc[Ba]=mc[Ca]=mc[Ea]=mc[Fa]=mc[Ga]=mc[Ha]=mc[Ia]=mc[Ja]=mc[La]=!1;var nc={};nc[xa]=nc[ya]=nc[Ma]=nc[za]=nc[Aa]=nc[Na]=nc[Oa]=nc[Pa]=nc[Qa]=nc[Ra]=nc[Ea]=nc[Fa]=nc[Ga]=nc[Ha]=nc[Ia]=nc[Ja]=nc[Ka]=nc[Sa]=nc[Ta]=nc[Ua]=nc[Va]=!0,nc[Ba]=nc[Ca]=nc[La]=!1;var oc={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},pc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},qc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},rc={function:!0,object:!0},sc={
"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tc=parseFloat,uc=parseInt,vc=rc[typeof exports]&&exports&&!exports.nodeType?exports:null,wc=rc[typeof module]&&module&&!module.nodeType?module:null,xc=C(vc&&wc&&"object"==typeof global&&global),yc=C(rc[typeof self]&&self),zc=C(rc[typeof window]&&window),Ac=wc&&wc.exports===vc?vc:null,Bc=C(rc[typeof this]&&this),Cc=xc||zc!==(Bc&&Bc.window)&&zc||yc||Bc||Function("return this")(),Dc=S();(zc||yc||{})._=Dc,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Dc}):vc&&wc?(Ac&&((wc.exports=Dc)._=Dc),vc._=Dc):Cc._=Dc}.call(this),function(a){"use strict";a.tscrl=a.tscrl||{}}(this),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.stringHelper=b()}(this,function(){"use strict";var a=new RegExp("^(?:[a-z]+:)?//","i"),b=function(b){return a.test(b)};return{isAbsoluteUrl:b}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.constants=b()}(this,function(){"use strict";return Object.freeze({DEFAULT_VOLUME:1,SCENE_VIEW_TYPE:Object.freeze({CONTENT:"content",THEMEABLE:"themeable"}),SOURCE_VIEW_TYPE:Object.freeze({IMAGE:"image",VIDEO:"video",EMPTY:"",AUDIO:"audio",ERROR:"error"}),SOURCE_VIEW_ROTATE:Object.freeze({0:"tscrl-rotate0",90:"tscrl-rotate90",180:"tscrl-rotate180",270:"tscrl-rotate270"}),EMPTY_SOURCE_MIMETYPE:"techsmith/emptysource",SOURCE_CLASS_NAME:"tscrl-source",SCENE_CLASS_NAME:"tscrl-scene",MEDIA_EVENTS:["canplay","canplaythrough","timeupdate","ended","seeking","seeked","play","playing","pause"],TEXT_INPUT_MAX_LENGTH:40,TITLE_TITLE_PLACEHOLDER_TEXT:"Enter title...",DEFAULT_THEME_TEXT_FONT_NAME:"Lato",DEFAULT_THEME_TEXT_FONT_SIZE:"54*scale",DEFAULT_THEME_TEXT_FONT_WEIGHT:"Normal",DEFAULT_THEME_TEXT_FONT_COLOR_COMPONENT:0,DEFAULT_THEME_TEXT_HORIZ_ALIGN:"center",DEFAULT_THEME_TEXT_VERT_ALIGN:"middle",DEFAULT_PLAYBACK_RATE:1})}),function(a){"use strict";function b(){if(!e){var b=(u?u:"")+".resize-triggers { "+(v?v:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',c=a.document.head||a.document.getElementsByTagName("head")[0],d=a.document.createElement("style");d.type="text/css",d.styleSheet?d.styleSheet.cssText=b:d.appendChild(a.document.createTextNode(b)),c.appendChild(d),e=!0}}var c=a.tscrl=a.tscrl||{},d=document.attachEvent,e=!1;if(!d){var f=function(){var b=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||function(b){return a.setTimeout(b,20)};return function(a){return b(a)}}(),g=function(){var b=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.clearTimeout;return function(a){return b(a)}}(),h=function(a){var b=a.__resizeTriggers__,c=b.firstElementChild,d=b.lastElementChild,e=c.firstElementChild;d.scrollLeft=d.scrollWidth,d.scrollTop=d.scrollHeight,e.style.width=c.offsetWidth+1+"px",e.style.height=c.offsetHeight+1+"px",c.scrollLeft=c.scrollWidth,c.scrollTop=c.scrollHeight},i=function(a){return a.offsetWidth!=a.__resizeLast__.width||a.offsetHeight!=a.__resizeLast__.height},j=function(a){var b=this;h(this),this.__resizeRAF__&&g(this.__resizeRAF__),this.__resizeRAF__=f(function(){i(b)&&(b.__resizeLast__.width=b.offsetWidth,b.__resizeLast__.height=b.offsetHeight,b.__resizeListeners__.forEach(function(c){c.call(b,a)}))})},k=!1,l="animation",m="",n="animationstart",o="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),q="",r=a.document.createElement("fakeelement");if(void 0!==r.style.animationName&&(k=!0),k===!1)for(var s=0;s<o.length;s++)if(void 0!==r.style[o[s]+"AnimationName"]){q=o[s],l=q+"Animation",m="-"+q.toLowerCase()+"-",n=p[s],k=!0;break}var t="resizeanim",u="@"+m+"keyframes "+t+" { from { opacity: 0; } to { opacity: 0; } } ",v=m+"animation: 1ms "+t+"; "}c.addResizeListener=function(c,e){d?c.attachEvent("onresize",e):(c.__resizeTriggers__||("static"==getComputedStyle(c).position&&(c.style.position="relative"),b(),c.__resizeLast__={},c.__resizeListeners__=[],(c.__resizeTriggers__=a.document.createElement("div")).className="resize-triggers",c.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',c.appendChild(c.__resizeTriggers__),h(c),c.addEventListener("scroll",j,!0),n&&c.__resizeTriggers__.addEventListener(n,function(a){a.animationName==t&&h(c)})),c.__resizeListeners__.push(e))},c.removeResizeListener=function(a,b){d?a.detachEvent("onresize",b):(a.__resizeListeners__.splice(a.__resizeListeners__.indexOf(b),1),a.__resizeListeners__.length||(a.removeEventListener("scroll",j),a.__resizeTriggers__=!a.removeChild(a.__resizeTriggers__)))}}(this),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.MediaListTimeRanges=b(a)}(this,function(a){"use strict";var b=function(a,b){var c;if("buffered"!==b&&"seekable"!==b)throw new Error("MediaListTimeRanges timeRangesName ("+b+") is invalid, must be 'buffered' or 'seekable'");return c=Object.defineProperties({},{length:{get:function(){var c=0;return a.forEach(function(a){c+=null!==a.mediaElement&&a.mediaElement[b]?a.mediaElement[b].length:0}),c}}}),c.addMedia=function(b,c){if(isNaN(parseInt(c,10))||c===a.length)a.push(b);else{if(c<0||c>a.length)throw new Error("MediaListTimeRanges.addMedia().  Index ("+c+") is out of range.");a.splice(c,0,b)}},c.removeMedia=function(b){if(b<0||b>=a.length)throw new Error("MediaListTimeRanges.removeMedia().  Index ("+b+") is out of range.");a.splice(b,1)},c.moveMedia=function(b,c){if(b<0||b>=a.length)throw new Error("MediaListTimeRanges.moveMedia().  fromIndex ("+b+") is out of range.");if(c<0||c>=a.length)throw new Error("MediaListTimeRanges.moveMedia().  toIndex ("+c+") is out of range.");a.splice(c,0,a.splice(b,1)[0])},c.start=function(c){for(var d,e=0,f=0,g=0;g<a.length;g++)if(null!==a[g].mediaElement){if(f+=a[g].mediaElement[b]?a[g].mediaElement[b].length:0,c<f)return d=f-1-c,e+a[g].mediaElement[b].start(d);e+=a[g].duration}throw new Error("Failed to execute 'start' on 'MediaListTimeRanges': The index provided ("+c+") is greater than the maximum bound ("+f+").")},c.end=function(c){for(var d,e=0,f=0,g=0;g<a.length;g++)if(null!==a[g].mediaElement){if(f+=a[g].mediaElement[b]?a[g].mediaElement[b].length:0,c<f)return d=f-1-c,e+a[g].mediaElement[b].end(d);e+=a[g].duration}throw new Error("Failed to execute 'end' on 'MediaListTimeRanges': The index provided ("+c+") is greater than the maximum bound ("+f+").")},c};return{create:function(a,c){return new b(a,c)}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.EventDispatcher=b(a)}(this,function(a){"use strict";var b=function(){var a={},b=function(a,b){a.forEach(function(a){a(b)})};return{on:function(b,c){if("string"!=typeof b||"function"!=typeof c)throw new Error("EventDispatcher.on expects string for the eventName and a callback function.");a[b]||(a[b]=[]),a[b].push(c)},off:function(b,c){var d=a[b];if(d){for(var e=0;e<d.length;e++)if(d[e]===c){d.splice(e,1);break}0===d.length&&(a[b]=void 0)}},trigger:function(c,d){if(d=d||{},"string"!=typeof c)throw new Error("EventDispatcher.trigger expects string for the eventName.");a[c]&&(d.type=c,b(a[c],d))}}};return{create:function(){return new b}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.ThemeWrapper=b(c.EventDispatcher)}(this,function(a){"use strict";var b={THEME_UPDATED:"themeUpdated"},c=function(c){var d,e;d=c,e=a.create();var f=Object.defineProperties({},{theme:{get:function(){return d},set:function(a){d=a,e.trigger(b.THEME_UPDATED,this)}}});return f.on=function(a,b){e.on(a,b)},f.off=function(a,b){e.off(a,b)},f.getThemeForTag=function(a){if("undefined"==typeof d||void 0===d.themeTags)return null;var b=d.themeTags[a];return"undefined"!=typeof b?b:null},f};return{events:b,create:function(a){return new c(a)}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.transformProvider=b()}(this,function(){"use strict";var a={width:1920,height:1080},b=Object.defineProperties({},{canvasRect:{value:Object.freeze(a)}});return b}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.UriBuilder=b(a,a.Q,c.stringHelper)}(this,function(a,b,c){"use strict";var d=[],e=function(){var a,e;return a="",e=Object.defineProperties({},{basePath:{get:function(){return a},set:function(b){a=b||""}}}),e.getUri=function(e){var f=[];return d.forEach(function(a){f.push(a.canResolve(e.uri))}),b.allSettled(f).then(function(b){for(var f=0;f<b.length;f++){var g=b[f];if("fulfilled"===g.state&&g.value)return d[f].getUri(e.uri)}return c.isAbsoluteUrl(e.uri)?e.uri:a+e.uri})},e};return{create:function(){return new e},registerFileResolverForMimeTypes:function(a,b){throw new Error("UriBuilder.registerFileResolverForMimeTypes is deprecated use registerFileResolver method.")},registerFileResolver:function(a){if("object"!=typeof a||"function"!=typeof a.getUri||"function"!=typeof a.canResolve||!a.hasOwnProperty("id"))throw new Error("UriBuilder.registerFileResolverForMimeTypes: fileResolver must have id property and implement a getUri and canResolve methods.");d.push(a)},removeAllFileResolvers:function(){d=[]}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.MediaPlaybackDecorator=b(a,c.EventDispatcher,c.constants)}(this,function(a,b,c){"use strict";var d=function(d,e){var f,g,h,i,j;f=0,i=!1,h=!1,j=b.create();var k=function(){return void 0!==e?e.duration:0},l=function(a){j.trigger(a,{currentTarget:d})},m=function(){l("timeupdate"),f>=k()?(d.ended=!0,f=k(),l("ended"),h=!1):d.ended=!1},n=function(b){"undefined"!=typeof g&&(f+=d.playbackRate*((b-g)/1e3),m()),h&&(g=b,a.requestAnimationFrame(n))},o=function(){d.ended===!0&&d.seekToTime(0),d.paused=!1,q(),l("play")},p=function(){d.paused=!0,h=!1,l("pause")},q=function(){g=void 0,h=!0,l("playing"),a.requestAnimationFrame(n)};Object.defineProperties(d,{currentTime:{get:function(){return f},set:function(a){if(isNaN(parseFloat(a)))throw new Error("Decorated element, expected currentTime to be a Number.");i||(l("canplay"),l("canplaythrough"),i=!0),f=a<0?0:a>k()?k():a,l("seeking"),m(),l("seeked")}},duration:{get:function(){return k()}},playbackRate:{get:function(){return this.value},set:function(a){this.value=a}},seekable:{get:function(){return{length:1,start:function(){return 0},end:function(){return k()}}}},buffered:{get:function(){return{length:1,start:function(){return 0},end:function(){return k()}}}},paused:{value:!0,writable:!0},ended:{value:!1,writable:!0}}),d.playbackRate=c.DEFAULT_PLAYBACK_RATE,d.on=j.on,d.off=j.off,d.play=o,d.pause=p,d.seekToTime=function(a){d.currentTime=a},d.addEventListener=j.on,d.removeEventListener=j.off};return{decorate:function(a,b){return new d(a,b)}}});var owenge=function(){var a={mul:"*",div:"/",add:"+",sub:"-",grpbeg:"(",grpend:")"},b={divZero:"divZero",isNan:"isNan",invalidArgument:"invalidArgument"},c=[a.mul,a.div,a.add,a.sub],d=[a.grpbeg,a.grpend],e={equation:{parse:function(a){}}};e.equation.parse=function(e){var g,h=function(a){var b=[],d=a.length,e=0,g=0;for(e=0;e<d;e++){var h=a.charAt(e),i=0===e?"":a.charAt(e-1);Array.contains(c,h)&&(Array.contains(c,h)&&Array.contains(c,i)||(Array.add(b,a.substr(g,e-g)),Array.add(b,h),g=e+1))}return 0===b.length?a:(g>0&&Array.add(b,a.substr(g)),f(b))},i=function(b){var c,e=b.length,f=0,g=0,j="";for(f=0;f<e;f++){var k=b.charAt(f);if(k===a.grpbeg&&(g=f+1),j+=k,Array.contains(d,k)){if(c===a.grpbeg&&k===a.grpend){var l=b.substr(g,f-g),m=h(l),n=j.length-(l.length+2);j=j.substr(0,n),j+=m}c=k}}return j.indexOf(a.grpbeg)!=-1||j.indexOf(a.grpend)!=-1?i(j):h(j)},j="";try{if(g=i(e),isNaN(g))throw b.isNan}catch(a){g="n/a",a==b.divZero?j="Cannot perform division by zero":a==b.isNan?j="Invalid formula":a==b.invalidArgument&&(j="Invalid argument")}return{error:j,answer:g}};var f=function(c){var d=function(c,d,e){switch(e){case a.add:return Number(c)+Number(d);case a.sub:return Number(c)-Number(d);case a.mul:return Number(c)*Number(d);case a.div:if(0===Number(d))throw b.divZero;return Number(c)/Number(d)}throw b.invalidArgument},e=function(a,b){var c,e=a.length,f=0,g=[];for(f=0;f<e;f++){var h=f%2;if(0!==h){var i=a[f-1],j=a[f+1],k=a[f];if(Array.contains(b,k)){Array.contains(b,c)&&(i=g[g.length-1]);var l=d(i,j,k);Array.contains(b,c)?g[g.length-1]=l:Array.add(g,l)}else Array.contains(b,c)||Array.add(g,i),Array.add(g,k);c=k}}return Array.contains(b,c)||Array.add(g,a[e-1]),g};return c=e(c,["*","/"]),c=e(c,["+","-"]),0===c.length?0:c[0]};return Array.contains||(Array.contains=function(a,b){var c=a.length,d=0;for(d=0;d<c;d++)if(a[d]===b)return!0;return!1}),Array.add||(Array.add=function(a,b){a[a.length]=b}),e}();!function(a,b){"use strict";var c="undefined"!=typeof exports?module.exports:a.tscrl=a.tscrl||{};c.AudioNarrationView=b(a,a.Q,c.EventDispatcher,c.constants)}(this,function(a,b,c,d){"use strict";var e=function(){var a=function(){};return{currentTime:0,duration:0,element:null,play:a,pause:a,volume:d.DEFAULT_VOLUME,seekToTime:a,on:a,off:a,ready:b(),metadataReady:b(),loopOnPlay:!1}},f=function(e,f){var g,h,i,j,k,l,m,n;j=c.create(),i=b.defer(),l=d.DEFAULT_VOLUME;var o=function(){k=!0,g.removeEventListener("canplay",o)};return g=a.document.createElement("audio"),g.preload="auto",g.addEventListener("canplay",o),k=!1,m=!1,h=f.getUri(e).then(function(a){g.addEventListener("loadedmetadata",function a(){g.removeEventListener("loadedmetadata",a),i.resolve()}),g.addEventListener("error",function a(b){g.removeEventListener("error",a),i.reject(b)}),g.src=a}),n=Object.defineProperties({},{element:{get:function(){return g}},type:{value:d.SOURCE_VIEW_TYPE.AUDIO},currentTime:{get:function(){return g.currentTime}},playbackRate:{get:function(){return g.playbackRate},set:function(a){g.playbackRate=a}},duration:{get:function(){return isNaN(g.duration)?0:g.duration}},volume:{get:function(){return l},set:function(a){l=a,i.promise.then(function(){g.volume=l})}},ready:{get:function(){return h}},metadataReady:{get:function(){return i.promise}},loopOnPlay:{get:function(){return m},set:function(a){m=a}}}),n.play=function(){var a=!1;g.ended&&!m||(g.ended&&m&&(a=!0),g.play(),a&&j.trigger("mediaRestarted",{currentTarget:n}))},n.pause=function(){g.pause()},n.seekToTime=function(a){k&&(a>g.duration&&(a=g.duration),g.currentTime=a)},n.on=j.on,n.off=j.off,n};return{create:function(a,b){return a?new f(a,b):e()}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.EmptySourceView=b(a,a.Q,a.tscml.sceneType,c.MediaPlaybackDecorator,c.EventDispatcher,c.constants)}(this,function(a,b,c,d,e,f){"use strict";var g={},h=function(c){var h,i,j,k,l;if(h=a.document.createElement("div"),h.className=c.viewClassName,c.scene&&void 0!==g[c.scene.type]){var m=g[c.scene.type];j=m(),h.appendChild(j)}k=!1,i=e.create();var n=function(){return!0};return d.decorate(h,c.scene),l=Object.defineProperties({},{element:{get:function(){return h}},type:{value:f.SOURCE_VIEW_TYPE.EMPTY},duration:{get:function(){return h.duration}},volume:{get:function(){return f.DEFAULT_VOLUME},set:n},playbackRate:{get:function(){return h.playbackRate},set:function(a){h.playbackRate=a}},ready:{get:function(){return b()}},metadataReady:{get:function(){return b()}},canPlay:{get:function(){return!0}},loopOnPlay:{get:function(){return k},set:function(a){k=a}},isScalable:{value:!1}}),l.seekToTime=function(a){h.currentTime=a},l.canSeekToTime=function(){return!0},l.play=function(){if(!h.ended||k){var a=!1;h.ended&&k&&(a=!0),h.play(),a&&i.trigger("mediaRestarted",{currentTarget:l})}},l.pause=function(){h.pause()},l.on=i.on,l.off=i.off,l};return{create:function(a){return new h(a)},registerCustomElementForSceneType:function(a,b){if("function"!=typeof a)throw new Error("Empty Source View.registerCustomElement: ElementConstructor must be a function.");g[b]=a}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.ErrorView=b(a,a.Q,c.MediaPlaybackDecorator,c.constants)}(this,function(a,b,c,d){"use strict";var e=function(e){var f,g,h,i;f=a.document.createElement("div"),f.className=e.viewClassName,g=a.document.createElement("div"),g.textContent=e.primaryErrorMessage,g.classList.add("primary-error-message"),h=a.document.createElement("div"),h.textContent=e.secondaryErrorMessage,h.classList.add("secondary-error-message"),f.appendChild(g),f.appendChild(h);var j=function(){return!0};return c.decorate(f,void 0),i=Object.defineProperties({},{element:{get:function(){return f}},type:{value:d.SOURCE_VIEW_TYPE.ERROR},duration:{get:function(){return 0}},volume:{get:function(){return d.DEFAULT_VOLUME},set:j},ready:{get:function(){return b()}},metadataReady:{get:function(){return b()}},canPlay:{get:function(){return!1}},isScalable:{value:!1}}),i.seekToTime=j,i.canSeekToTime=j,i.play=j,i.pause=j,i.on=j,i.off=j,i};return{create:function(a){return new e(a)}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.ImageView=b(a,a.Q,c.MediaPlaybackDecorator,c.EventDispatcher,c.constants)}(this,function(a,b,c,d,e){"use strict";var f=function(f,g){var h,i,j,k,l,m,n;if(h=a.document.createElement("img"),h.className=g.viewClassName,g.rotate){var o=e.SOURCE_VIEW_ROTATE[g.rotate];o&&h.classList.add(o)}k=d.create(),j=b.defer(),i={},l=!1,n=f.getUri(g.source).then(function(a){var b=h,c=i,d=j;b.onload=function(){b.onload=null,c.width=b.naturalWidth,c.height=b.naturalHeight,d.resolve(c)},b.onerror=function(a){b.onerror=null,d.reject(a)},b.src=a});var p=function(){};return c.decorate(h,g.scene),m=Object.defineProperties({},{element:{get:function(){return h}},type:{value:e.SOURCE_VIEW_TYPE.IMAGE},duration:{get:function(){return h.duration}},volume:{get:function(){return e.DEFAULT_VOLUME},set:p},playbackRate:{get:function(){return h.playbackRate},set:function(a){h.playbackRate=a}},metadataReady:{get:function(){return j.promise}},ready:{get:function(){return n}},canPlay:{get:function(){return!0}},loopOnPlay:{get:function(){return l},set:function(a){l=a}},isScalable:{value:!0}}),m.seekToTime=function(a){m.element.currentTime=a},m.canSeekToTime=function(){return!0},m.play=function(){if(!h.ended||l){var a=!1;h.ended&&l&&(a=!0),h.play(),a&&k.trigger("mediaRestarted",{currentTarget:m})}},m.pause=function(){h.pause()},m.on=k.on,m.off=k.off,m};return{create:function(a,b){return new f(a,b)}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.VideoView=b(a,a.Q,c.EventDispatcher,c.constants)}(this,function(a,b,c,d){"use strict";var e=function(e,f){var g,h,i,j,k,l,m,n,o;k=c.create(),j=b.defer(),i={},n=d.DEFAULT_VOLUME,m=!1;var p=function(){l=!0,g.removeEventListener("canplay",p)};return g=a.document.createElement("video"),g.addEventListener("canplay",p),l=!1,h=e.getUri(f.source).then(function(a){var b=g,c=i,d=j;b.addEventListener("loadedmetadata",function a(){b.removeEventListener("loadedmetadata",a),c.width=b.videoWidth,c.height=b.videoHeight,d.resolve(c)}),b.addEventListener("error",function a(c){b.removeEventListener("error",a),j.reject(c)}),b.src=a}),g.preload="auto",g.className=f.viewClassName,o=Object.defineProperties({},{element:{get:function(){return g}},type:{value:d.SOURCE_VIEW_TYPE.VIDEO},duration:{get:function(){return isNaN(g.duration)?0:g.duration}},volume:{get:function(){return n},set:function(a){n=a,j.promise.then(function(){g.volume=n})}},playbackRate:{get:function(){return g.playbackRate},set:function(a){g.playbackRate=a}},ready:{get:function(){return h}},metadataReady:{get:function(){return j.promise}},canPlay:{get:function(){return l}},loopOnPlay:{get:function(){return m},set:function(a){m=a}},ended:{get:function(){return g.ended}},isScalable:{value:!0},src:{get:function(){return g.src},set:function(a){g.src=a}}}),o.seekToTime=function(a){l&&(a<=g.duration?g.currentTime=a:m?g.currentTime=a%g.duration:g.currentTime=g.duration)},o.play=function(){if(l&&(!g.ended||m)){var a=!1;g.ended&&m&&(a=!0),g.play(),a&&k.trigger("mediaRestarted",{currentTarget:o})}},o.pause=function(){g.pause()},o.on=k.on,o.off=k.off,o};return{create:function(a,b){return new e(a,b)}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.TextCalloutSceneViewObject=b(a,a._,a.owenge,c.EventDispatcher,c.ThemeWrapper,c.transformProvider,c.constants)}(this,function(a,b,c,d,e,f,g){"use strict";var h=function(h,i){var j,k,l,m,n,o,p,q,r,s,t,u;t=!1,p=!1,n=d.create(),q=h,r=q.sceneTrackView.projectView.themeWrapper,s=i.themeTag,u={position:{x:0,y:0,z:0}},k=a.document.createElement("div"),l=a.document.createElement("div"),l.classList.add("text-callout-view"),m=a.document.createElement("input"),m.type="text",m.maxLength=g.TEXT_INPUT_MAX_LENGTH,m.placeholder=g.TITLE_TITLE_PLACEHOLDER_TEXT,m.classList.add("text-callout-editable"),m.style.backgroundColor="transparent",k.appendChild(l),k.appendChild(m);var v=function(){m.value!==o&&(j.title=m.value,n.trigger("themeTagModelChange",{themeTag:i.themeTag,defProperty:"text",value:o})),j.isEditing=!1},w=function(a){var b=r.getThemeForTag(s);b&&O(b)},x=function(){j.isEditing=!0},y=function(){l.addEventListener("click",x),m.addEventListener("blur",v),r.on(e.events.THEME_UPDATED,w)},z=function(){l.removeEventListener("click",x),m.removeEventListener("blur",v),r.off(e.events.THEME_UPDATED,w)},A=function(){p?(l.style.display="none",m.style.display="block",m.focus()):(l.style.display="block",m.style.display="none")},B=function(a){return a["horizontal-alignment"]||"center"},C=function(a){var b=a.weight||g.DEFAULT_THEME_TEXT_FONT_WEIGHT;switch(b=b.toLowerCase()){case"thin":return 100;case"extra light":return 200;case"light":return 300;case"normal":return 400;case"medium":return 500;case"semi bold":return 600;case"bold":return 700;case"extra bold":return 800;case"black":return 900;default:return 400}},D=function(a){return Math.round(255*a)},E=function(a){var b=D(a["color-red"]||g.DEFAULT_THEME_TEXT_FONT_COLOR_COMPONENT),c=D(a["color-green"]||g.DEFAULT_THEME_TEXT_FONT_COLOR_COMPONENT),d=D(a["color-blue"]||g.DEFAULT_THEME_TEXT_FONT_COLOR_COMPONENT);return"rgb("+b+","+c+","+d+")"},F=function(a,b,c){return H(a.size||g.DEFAULT_THEME_TEXT_FONT_SIZE,!0,b,c)+"px"},G=function(a){return a.name||g.DEFAULT_THEME_TEXT_FONT_NAME},H=function(a,b,d,e){var f=a||"0";return f=""+f,b&&(f=f.replace(/width/g,""+d.width),f=f.replace(/height/g,""+d.height)),f=f.replace(/scale/g,""+e),c.equation.parse(f).answer},I=function(a,b){var c=1,d=H(b.translation0,!0,a,c),e=H(b.translation1,!0,a,c),f=H(b.translation2,!0,a,c);return{x:d||0,y:-(e||0),z:f||0}},J=function(a){return void 0===a.tracking?"normal":a.tracking+"em"},K=function(a,b,c,d){a.color=E(b),a.fontSize=F(b,c,d),a.fontFamily=G(b),a.fontWeight=C(b),a.letterSpacing=J(b),a.margin="0px",a.padding="0px",a.border="0px"},L=function(a,b){return{width:H(a.width,!1,{width:0,height:0},b),height:H(a.height,!1,{width:0,height:0},b)}},M=function(a,b){var c=b["all-caps"]||!1;c&&(a.style.textTransform="uppercase")},N=function(a,b){var c=a["vertical-alignment"]||g.DEFAULT_THEME_TEXT_VERT_ALIGN;"middle"!==c&&"center"!==c||(l.style.lineHeight=b.height+"px")},O=function(a){var b=a.def,c=1,d=L(b,c);K(l.style,b.font,d,c),K(m.style,b.font,d,c),l.style.whiteSpace="nowrap",l.setAttribute("ng-bind","title"),k.style.position="absolute",k.style.width=d.width+"px",k.style.height=d.height+"px",l.style.textAlign=B(b),m.style.textAlign=B(b),m.style.width=d.width+"px",m.style.height=d.height+"px",M(l,b),M(m,b),N(a.def,d),u.position=I(d,a.parameters);var e=f.canvasRect.height,g=.5*e-.5*d.height;k.style.top=g+"px";var h=f.canvasRect.width,i=.5*h-.5*d.width;k.style.left=i+"px",k.style.transform="translate("+u.position.x+"px, "+u.position.y+"px)",k.style["-webkit-transform"]="translate("+u.position.x+"px, "+u.position.y+"px)"};return j=Object.defineProperties({},{element:{get:function(){return k}},title:{get:function(){return o},set:function(a){o=a,l.innerHTML=b.escape(a),m.value=a}},editMode:{get:function(){return p},set:function(a){p!==a&&(p=a,A())}},isEditing:{get:function(){return t},set:function(a){t!==a&&(t=a)}},themeTag:{get:function(){return s}}}),j.on=n.on,j.off=n.off,j.destroy=function(){z()},y(),j.title=i.def.text,A(),w(),j};return{create:function(a,b){return new h(a,b)}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.BackgroundSceneViewObject=b(a,c.EventDispatcher,c.ThemeWrapper,c.VideoView,c.UriBuilder)}(this,function(a,b,c,d,e){"use strict";var f=function(f,g){var h,i,j,k,l,m,n,o;k=b.create(),l=f,m=l.sceneTrackView.projectView.themeWrapper,n=g.themeTag,i=a.document.createElement("div"),i.style.position="absolute";var p=i.style;p.left="0",p.right="0",p.top="0",p.bottom="0";var q=function(a){var b=m.getThemeForTag(n);b&&t(b)},r=function(){m.on(c.events.THEME_UPDATED,q)},s=function(){m.off(c.events.THEME_UPDATED,q)},t=function(a){if("undefined"==typeof o){var b={source:{duration:l.duration,uri:a.resource.uri},viewClassName:"text-callout-view"};o=d.create(e.create(),b),j=o.element,i.appendChild(j);var c=j.style;c.width="100%",c.height="100%",c.left="0",c.right="0",c.top="0",c.bottom="0",f.on("play",function(){o.play()}),f.on("pause",function(){o.pause()}),f.on("seeked",function(a){"undefined"!=typeof o&&(o.seekToTime(a.sceneView.currentTime),f.paused?o.pause():o.play())}),f.on("ended",function(){o.pause()})}else o.src=a.resource.uri};return h=Object.defineProperties({},{element:{get:function(){return i}},editMode:{get:function(){return!1},set:function(a){}},themeTag:{get:function(){return n}},playbackRate:{get:function(){return o.playbackRate},set:function(a){o.playbackRate=a}}}),h.on=k.on,h.off=k.off,h.destroy=function(){s()},r(),q(),h};return{create:function(a,b){return new f(a,b)}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.SceneView=b(a,a.Q,a.tscml.sceneType,c.transformProvider,c.EmptySourceView,c.EventDispatcher,c.constants,c.TextCalloutSceneViewObject,c.BackgroundSceneViewObject,c.AudioNarrationView)}(this,function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=function(){return{width:0,height:0}},l={},m={},n=function(a,b){for(var c,d=0,e=b.length;d<e;d++)if(a.getSourceByMimeType&&(c=a.getSourceByMimeType(b[d]),void 0!==c))return c},o=function(a,b,c){var d;if(void 0===b)return e.create({scene:a,viewClassName:g.SOURCE_CLASS_NAME});if(!l[b.mimeType])throw new Error("SceneView.create: no view was found to handle a mimeType of ("+b.mimeType+").");return new(d=l[b.mimeType])(c,{scene:a,source:b,viewClassName:g.SOURCE_CLASS_NAME})},p=function(a){a.element.style.height=d.canvasRect.height+"px",a.element.style.width=d.canvasRect.width+"px",a.element.style["transform-origin"]="0% 0%",a.element.style["-ms-transform-origin"]="0% 0%",a.element.style["-webkit-transform-origin"]="0% 0%",a.element.style.position="absolute"},q=function(d,e,l,p){var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;t=0,u=g.DEFAULT_VOLUME,x=k(),A=!1,C=!1,D=g.DEFAULT_PLAYBACK_RATE,w=[],y=f.create(),q=a.document.createElement("div"),q.className=g.SCENE_CLASS_NAME,v=null,z={Title:h,Subtitle:h,Background:i};var F=function(){if(B&&(q.removeChild(B.element),B.destroy(),B=null),m[e.type]){var a=m[e.type];B=a(e),q.appendChild(B.element)}},G=function(a){U(),_(),L(),a===!0&&O(),S(),w.forEach(function(a){a.destroy(),q.removeChild(a.element)}),w=[]},H=function(a){G(!1),t=0,X(),Z(),R(),$(),W(),F()},I=function(a){switch(a.type){case"timeupdate":t=a.currentTarget.currentTime;break;case"ended":A&&W()}y.trigger(a.type,{sceneView:E,originalEvent:a})},J=function(){if(!(x.width<=0||x.height<=0)){var a=x.width/x.height,b=q.offsetWidth/q.offsetHeight,c=s.element;b<=a?(c.style.width="100%",c.style.height="auto"):(c.style.height="100%",c.style.width="auto")}},K=function(a){var c,d=a.metadataReady;c="undefined"!=typeof d&&"function"==typeof d.then?d:b(k()),c.then(function(a){"undefined"!=typeof a&&"undefined"!=typeof a.width&&"undefined"!=typeof a.height&&(x=a,J(),Q(),P())})},L=function(){s&&(Q(),s.element.parentNode===q&&q.removeChild(s.element),s=void 0)},M=function(a){L(),s=o(e,a,p),s.volume=u,s.ready.then(function(){K(s),N(),q.appendChild(s.element)})},N=function(){a.tscrl.addResizeListener(q,J)},O=function(){a.tscrl.removeResizeListener(q,J)},P=function(){var a=s.type===g.SOURCE_VIEW_TYPE.IMAGE&&null!==r.element;r.duration>s.duration||a?(v=r.element,r.loopOnPlay=!0,s.loopOnPlay=!1,r.on("mediaRestarted",T)):(v=s.element,s.loopOnPlay=!0,r.loopOnPlay=!1,s.on("mediaRestarted",T)),g.MEDIA_EVENTS.forEach(function(a){v.addEventListener(a,I)})},Q=function(){s.off("mediaRestart",T),r.off("mediaRestart",T),g.MEDIA_EVENTS.forEach(function(a){s.element.removeEventListener(a,I),r&&null!==r.element&&r.element.removeEventListener(a,I)})},R=function(){e.on("sourceAdded",X),e.on("sourceRemoved",X),e.on("audioNarrationChange",W),e.on("audioNarrationRemoved",W),e.on("sceneTypeChange",H)},S=function(){e.off("sourceAdded",X),e.off("sourceRemoved",X),e.off("audioNarrationChange",W),e.off("audioNarrationRemoved",W),e.off("sceneTypeChange",H)},T=function(a){a.currentTarget.type===g.SOURCE_VIEW_TYPE.AUDIO?(s.seekToTime(0),s.play()):(r.seekToTime(0),r.play())},U=function(){r&&null!==r.element&&(Q(),s.volume=u,q.removeChild(r.element),r=j.create())},V=function(){return r&&null!==r.element&&v&&!v.paused},W=function(){return V()?void(A=!0):(U(),r=j.create(e.audioNarration,p),r.volume=u,void r.ready.then(function(){return null!==r.element&&(q.appendChild(r.element),s.volume=0),r.metadataReady.then(function(){Q(),P(),r.seekToTime(t),y.trigger("durationChange",{currentTarget:E})}).catch(function(){U(),r=j.create(),Q(),P(),y.trigger("durationChange",{currentTarget:E})}).finally(function(){A=!1})}))},X=function(){var a=n(e,l);M(a),y.trigger("durationChange",{currentTarget:E})},Y=function(){w.forEach(function(a){void 0!==a.playbackRate&&(a.playbackRate=D)}),r.playbackRate=D,s.playbackRate=D},Z=function(){var a,b,c;if(e.themeables)for(var d=0;d<e.themeables.length;d++)if(a=e.themeables[d],c=a.themeTag.replace(e.type,""),b=z[c]){var f=b.create(E,a);E.addSceneViewObject(f)}},$=function(){w.forEach(function(a){a.on("themeTagModelChange",aa)})},_=function(){w.forEach(function(a){a.off("themeTagModelChange",aa)})},aa=function(a){var b={scene:e,themeTag:a.themeTag,defProperty:a.defProperty,value:a.value};y.trigger("themeDefPropertyChange",b)};return E=Object.defineProperties({},{element:{get:function(){return q}},mediaElement:{get:function(){return v}},currentTime:{get:function(){return t}},playbackRate:{get:function(){return D},set:function(a){D=a,Y()}},duration:{get:function(){return e.duration}},sourceView:{get:function(){return s}},ready:{get:function(){return b.all([s.ready,r.ready])}},metadataReady:{get:function(){return b.all([s.metadataReady,r.metadataReady])}},canPlay:{get:function(){return s.canPlay}},sceneType:{get:function(){return e.type}},sceneTrackView:{get:function(){return d}},isScalable:{get:function(){return e.type===c.INTRO||e.type===c.OUTRO||e.type===c.TITLE||s.isScalable}},ended:{get:function(){return null===v||v.ended}},volume:{get:function(){return u},set:function(a){u=a,r.volume=u,null===r.element&&(s.volume=u)}},paused:{get:function(){return null!==v&&v.paused}},availableToPreview:{get:function(){return e.type===c.CONTENT&&e.sources.length>0||e.type===c.INTRO||e.type===c.OUTRO||e.type===c.TITLE}}}),E.setEditMode=function(a){C=a,w.forEach(function(b){b.editMode=a})},E.addSceneViewObject=function(a){w.push(a),q.appendChild(a.element),a.editMode=C},E.play=function(){r.play(),s.play()},E.pause=function(){r.pause(),s.pause()},E.seekToTime=function(a){r.seekToTime(a),s.seekToTime(a)},E.canSeekToTime=function(a){if(null!==v)for(var b=0;b<v.seekable.length;b++){var c=v.seekable.start(b),d=v.seekable.end(b);if(a>=c&&a<=d)return!0}return!1},E.on=y.on,E.off=y.off,E.destroy=function(){G(!0)},X(),Z(),R(),$(),W(),F(),E};return{create:function(a,b,c,d){var e=new q(a,b,c,d);return p(e),e},registerSourceViewForMimeTypes:function(a,b){if("function"!=typeof a)throw new Error("SceneView.registerSourceViewForMimeTypes: viewConstructor must be a function.");if("[object Array]"!==Object.prototype.toString.call(b))throw new Error("SceneView.registerSourceViewForMimeTypes: mimeTypeList must be an array of strings.");
b.forEach(function(b){l[b]=a})},registerCustomElementForSceneType:function(a,b){if("function"!=typeof a)throw new Error("SceneView.registerCustomElementForSceneType: ElementConstructor must be a function.");m[b]=a}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.SceneTrackView=b(a,a.Q,c.EventDispatcher,c.MediaListTimeRanges,c.SceneView,c.constants)}(this,function(a,b,c,d,e,f){"use strict";var g=function(g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;C=!1,D=[],B=g,r=f.DEFAULT_PLAYBACK_RATE,k=!0,l=[],u=!1,s=c.create(),t=0,x=!0,y="tscrl-active-view",z=f.DEFAULT_VOLUME,m=a.document.createElement("div"),m.className="tscrl-scene-track-view",m.style.height="100%",m.style.width="100%",m.style.overflow="hidden",v=d.create([],"buffered"),w=d.create([],"seekable");var E=function(){l.forEach(function(a){Y(a)})},F=function(){for(;m.firstChild;)m.removeChild(m.firstChild)},G=function(a){a.pause(),W(a),a.element.classList.remove(y)},H=function(a){a.element.classList.add(y),W(a),V(a)},I=function(a){for(var b=a,c=l.length;b<c;b++)if(l[b].availableToPreview)return b;return-1},J=function(a){n&&n.canPlay&&n.canSeekToTime(a)&&(q=a,n.seekToTime(a),P())},K=function(a){var b=o;o=a,s.trigger("sceneChange",{previousSceneIndex:b,currentSceneIndex:a})},L=function(a){M(),a.currentTarget===n&&s.trigger("currentSceneViewDurationChange",{sceneView:a.currentTarget})},M=function(){t=0,l.forEach(function(a){a.availableToPreview&&(t+=a.duration)})},N=function(a,b){n&&void 0!==o&&o!==a&&G(n),n=l[a],o!==a&&(H(n),K(a),q=0),void 0===b&&(b=0),J(b),k||n.play()},O=function(){n=l[o],H(n),K(o),q=0,J(0),k||n.play()},P=function(){p=0;for(var a=0;a<o;a++)x&&!l[a].availableToPreview||(p+=l[a].duration);p+=q},Q=function(a){q=n.currentTime,P(),s.trigger("timeupdate",{currentTarget:A})},R=function(){if(x&&o<j.scenes.length-1){var a=I(o+1);a!==-1?N(a):s.trigger("ended",{currentTarget:A})}else s.trigger("ended",{currentTarget:A})},S=function(a){if(!A.ended){switch(a.type){case"stalled":case"waiting":u||(u=!0,s.trigger("datachange",{currentTarget:A}));break;case"playing":case"canplay":case"canplaythrough":u&&(u=!1,s.trigger("datachange",{currentTarget:A}))}s.trigger(a.type,{currentTarget:A})}},T=function(a){s.trigger(a.type,{currentTarget:A,originalEvent:a.originalEvent})},U=function(a){s.trigger("themeDefPropertyChange",a)},V=function(a){a.on("stalled",S),a.on("waiting",S),a.on("playing",S),a.on("canplay",S),a.on("canplaythrough",S),a.on("timeupdate",Q),a.on("ended",R),a.on("seeking",T),a.on("seeked",T),a.on("play",T),a.on("pause",T)},W=function(a){a.off("stalled",S),a.off("waiting",S),a.off("playing",S),a.off("canplay",S),a.off("canplaythrough",S),a.off("timeupdate",Q),a.off("ended",R),a.off("seeking",T),a.off("seeked",T),a.off("play",T),a.off("pause",T)},X=function(a){a.on("themeDefPropertyChange",U),a.on("durationChange",L)},Y=function(a){a.off("themeDefPropertyChange",U),a.off("durationChange",L)},Z=function(a,b){var c;"undefined"==typeof b&&(b=l.length),c=b+1,c>=l.length?m.appendChild(a):m.insertBefore(a,l[c].element)},$=function(a,b){v.addMedia(a,b),w.addMedia(a,b)},_=function(a){if(l.length<=1)return K(void 0),void(n=void 0);var b;b=a<l.length-1?++a:--a,n=l[b],K(b),H(n)},aa=function(a,b){C=!0,da(a,b).then(function(){var a=l[b];void 0!==a.setEditMode&&a.setEditMode(!x),Z(a.element,b),$(a,b),C=!1,ha(),M()})},ba=function(a,b){C=!0,o===b&&(G(n),_(b)),Y(l[b]),v.removeMedia(b),w.removeMedia(b),m.removeChild(l[b].element),l[b].destroy(),l.splice(b,1),o>b&&K(o-1),C=!1,ha(),M()},ca=function(a,b){C=!0,l.splice(b,0,l.splice(a,1)[0]),v.moveMedia(a,b),w.moveMedia(a,b),Z(m.removeChild(l[b].element),b),o===a&&K(b),C=!1,ha()},da=function(a,b){var c=e.create(A,a,h,i);return isNaN(parseInt(b,10))?l.push(c):l.splice(b,0,c),X(c),c.ready},ea=function(){n&&(W(n),F(),E());var a=[];return l=[],j.scenes.forEach(function(b){a.push(da(b))}),b.all(a).then(function(){var a=[];return l.forEach(function(b){a.push(b.metadataReady),Z(b.element),$(b),M()}),b.all(a).then(function(){s.trigger("loadedmetadata",{currentTarget:A})})})},fa=function(a){for(var b=0,c=0,d=l.length;c<d;c++)if((!x||l[c].availableToPreview)&&(b+=l[c].duration,a<=b)){N(c,a-(b-l[c].duration));break}},ga=function(a){D.push(a),ha()},ha=function(){if(!C){var a=D.pop();if(a)switch(a.type){case"sceneAdded":aa(a.scene,a.index);break;case"sceneRemoved":ba(a.scene,a.index);break;case"sceneMoved":ca(a.fromIndex,a.toIndex)}}},ia=function(){if(l.forEach(function(a){a.setEditMode(!x)}),x&&n&&!n.availableToPreview){var a=I(o);a!==-1&&N(a,0)}},ja=function(){l.forEach(function(a){a.playbackRate=r})},ka=function(a){a<0?a=0:a>n.duration&&(a=n.duration),J(a)},la=function(){return x&&void 0!==n&&n.ended&&I(o+1)===-1};return A=Object.defineProperties({},{src:{get:function(){return j},set:function(a){j=a,j.on("sceneAdded",ga),j.on("sceneRemoved",ga),j.on("sceneMoved",ga),ea().then(function(){if(l.length>0)if(ia(),x){var a=I(0);a!==-1&&N(a)}else N(0);s.trigger("ready")}).catch(function(a){s.trigger("error",a)})}},duration:{get:function(){return x?t:j.duration}},sceneViews:{get:function(){return[].concat(l)}},currentSceneView:{get:function(){return n}},currentTime:{get:function(){return p},set:function(a){var b=j.duration;x&&(b=t),fa(a<0?0:a>b?b:a)}},playbackRate:{get:function(){return r},set:function(a){r=a,ja()}},projectView:{get:function(){return B}},paused:{get:function(){return k}},ended:{get:function(){return 0===l.length||n===l[l.length-1]&&n.ended}},currentSceneTime:{get:function(){return q},set:function(a){ka(a)}},currentSceneDuration:{get:function(){return void 0===n?0:n.duration}},currentSceneIndex:{get:function(){return o}},element:{get:function(){return m}},buffered:{get:function(){return v}},seekable:{get:function(){return w}},waitingForData:{get:function(){return u}},volume:{get:function(){return z},set:function(a){var b=parseFloat(a);if(isNaN(b))throw new Error("TypeError: Failed to set the 'volume' property on 'SceneTrackView': The provided double value is non-finite.");z=b,l.forEach(function(a){null!==a&&(a.volume=b)})}},seamlessScenePlayback:{get:function(){return x},set:function(a){x!==a&&(x=a,ia())}}}),A.getCurrentSceneDuration=function(){return void 0===n?b(0):n.metadataReady.then(function(){return n.duration})},A.applyTransform=function(a,b){var c="scale("+a.scale+","+a.scale+") translate("+a.translation.x+"px, "+a.translation.y+"px)",d=" translate("+b.translation.x+"px, "+b.translation.y+"px)";l.forEach(function(a){a.isScalable?(a.element.style.transform=c,a.element.style["-webkit-transform"]=c,a.element.style["-ms-transform"]=c):(a.element.style.width=b.size.width+"px",a.element.style.height=b.size.height+"px",a.element.style.transform=d,a.element.style["-webkit-transform"]=d,a.element.style["-ms-transform"]=d)})},A.play=function(){if(la()){var a=I(0);a!==-1&&N(a,0)}k=!1,n&&(n.play(),s.trigger("play",{currentTarget:A}))},A.pause=function(){k=!0,n&&(n.pause(),s.trigger("pause",{currentTarget:A}))},A.seekToSceneAtIndex=function(a){if(!j||a<0||0!==a&&a>=j.scenes.length)throw new Error("seekToSceneAtIndex: Scene index of "+a+" is out bounds.");if(x){var b=I(a);b!==-1&&N(b)}else N(a)},A.redrawCurrentScene=O,A.on=s.on,A.off=s.off,A};return{create:function(a,b,c){return new g(a,b,c)}}}),function(a,b){"use strict";var c=a.tscrl=a.tscrl||{};c.ProjectView=b(a,c.UriBuilder,c.SceneTrackView,c.EventDispatcher,c.ThemeWrapper,c.transformProvider)}(this,function(a,b,c,d,e,f){"use strict";var g=function(g,h){var i,j,k,l,m,n,o;n=e.create(),o=d.create(),h=h||"",l=b.create(),l.basePath=h,m=Object.defineProperties({},{src:{get:function(){return k},set:function(a){k=a,j.src=k.timeline.sceneTrack}},duration:{get:function(){return j.duration}},currentTime:{get:function(){return j.currentTime},set:function(a){j.currentTime=a}},playbackRate:{get:function(){return j.playbackRate},set:function(a){var b=parseFloat(a);if(isNaN(b))throw"ProjectView.playbackRate expects a number, but got ("+a+").";b<.25?b=.25:b>2&&(b=2),j.playbackRate=b}},paused:{get:function(){return j.paused}},ended:{get:function(){return j.ended}},currentSceneTime:{get:function(){return j.currentSceneTime},set:function(a){j.currentSceneTime=a}},currentSceneDuration:{get:function(){return j.currentSceneDuration}},currentSceneIndex:{get:function(){return j.currentSceneIndex}},element:{get:function(){return i}},sceneTrackView:{get:function(){return j}},buffered:{get:function(){return j.buffered}},seekable:{get:function(){return j.seekable}},waitingForData:{get:function(){return j.waitingForData}},volume:{get:function(){return j.volume},set:function(a){j.volume=a}},seamlessScenePlayback:{get:function(){return j.seamlessScenePlayback},set:function(a){j.seamlessScenePlayback=a}},theme:{get:function(){return n.theme},set:function(a){n.theme=a}},themeWrapper:{get:function(){return n}}}),i=document.createElement("div"),i.className="tscrl-project-view",i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.right=0,i.style.bottom=0,j=c.create(m,g,l),i.appendChild(j.element),m.play=function(){j.play()},m.pause=function(){j.pause()},m.seekToSceneAtIndex=function(a){j.seekToSceneAtIndex(a)},m.getCurrentSceneDuration=function(){return j.getCurrentSceneDuration()},m.redrawCurrentScene=function(a){j.redrawCurrentScene(a)},m.on=function(a,b){j.on(a,b)},m.off=function(a,b){j.off(a,b)},m.canvasNeedsResizing=function(){a.requestAnimationFrame(p)};var p=function(){var a=i.parentElement,b=a.getBoundingClientRect(),c=b.width,d=b.height,e=f.canvasRect,g=c/e.width,h=d/e.height,k=Math.min(g,h,1),l={x:.5*(c-k*e.width),y:.5*(d-k*e.height)},m={x:l.x/k,y:l.y/k},n={scale:k,translation:m},o={size:{width:e.width*k,height:e.height*k},translation:l};j.applyTransform(n,o)};return m};return{create:function(a,b){return new g(a,b)}}}),function(a,b){"use strict";b(a,a.tscrl.SceneView,a.tscrl.ImageView,a.tscrl.VideoView)}(this,function(a,b,c,d){"use strict";b.registerSourceViewForMimeTypes(c.create,["image/png","image/jpg","image/jpeg","image/gif"]),b.registerSourceViewForMimeTypes(d.create,["video/mp4"])}),function(){function a(c,d){if(c=c?c:"",d=d||{},c instanceof a)return c;if(!(this instanceof a))return new a(c,d);var e=b(c);this._originalInput=c,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=N(100*this._a)/100,this._format=d.format||e.format,this._gradientType=d.gradientType,this._r<1&&(this._r=N(this._r)),this._g<1&&(this._g=N(this._g)),this._b<1&&(this._b=N(this._b)),this._ok=e.ok,this._tc_id=L++}function b(a){var b={r:0,g:0,b:0},d=1,f=!1,h=!1;return"string"==typeof a&&(a=H(a)),"object"==typeof a&&(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b")?(b=c(a.r,a.g,a.b),f=!0,h="%"===String(a.r).substr(-1)?"prgb":"rgb"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")?(a.s=E(a.s),a.v=E(a.v),b=g(a.h,a.s,a.v),f=!0,h="hsv"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(a.s=E(a.s),a.l=E(a.l),b=e(a.h,a.s,a.l),f=!0,h="hsl"),a.hasOwnProperty("a")&&(d=a.a)),d=x(d),{ok:f,format:a.format||h,r:O(255,P(b.r,0)),g:O(255,P(b.g,0)),b:O(255,P(b.b,0)),a:d}}function c(a,b,c){return{r:255*y(a,255),g:255*y(b,255),b:255*y(c,255)}}function d(a,b,c){a=y(a,255),b=y(b,255),c=y(c,255);var d,e,f=P(a,b,c),g=O(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function e(a,b,c){function d(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(a=y(a,360),b=y(b,100),c=y(c,100),0===b)e=f=g=c;else{var h=c<.5?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function f(a,b,c){a=y(a,255),b=y(b,255),c=y(c,255);var d,e,f=P(a,b,c),g=O(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function g(a,b,c){a=6*y(a,360),b=y(b,100),c=y(c,100);var d=M.floor(a),e=a-d,f=c*(1-b),g=c*(1-e*b),h=c*(1-(1-e)*b),i=d%6,j=[c,g,f,f,h,c][i],k=[h,c,c,g,f,f][i],l=[f,f,h,c,c,g][i];return{r:255*j,g:255*k,b:255*l}}function h(a,b,c,d){var e=[D(N(a).toString(16)),D(N(b).toString(16)),D(N(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function i(a,b,c,d){var e=[D(F(d)),D(N(a).toString(16)),D(N(b).toString(16)),D(N(c).toString(16))];return e.join("")}function j(b,c){c=0===c?0:c||10;var d=a(b).toHsl();return d.s-=c/100,d.s=z(d.s),a(d)}function k(b,c){c=0===c?0:c||10;var d=a(b).toHsl();return d.s+=c/100,d.s=z(d.s),a(d)}function l(b){return a(b).desaturate(100)}function m(b,c){c=0===c?0:c||10;var d=a(b).toHsl();return d.l+=c/100,d.l=z(d.l),a(d)}function n(b,c){c=0===c?0:c||10;var d=a(b).toRgb();return d.r=P(0,O(255,d.r-N(255*-(c/100)))),d.g=P(0,O(255,d.g-N(255*-(c/100)))),d.b=P(0,O(255,d.b-N(255*-(c/100)))),a(d)}function o(b,c){c=0===c?0:c||10;var d=a(b).toHsl();return d.l-=c/100,d.l=z(d.l),a(d)}function p(b,c){var d=a(b).toHsl(),e=(N(d.h)+c)%360;return d.h=e<0?360+e:e,a(d)}function q(b){var c=a(b).toHsl();return c.h=(c.h+180)%360,a(c)}function r(b){var c=a(b).toHsl(),d=c.h;return[a(b),a({h:(d+120)%360,s:c.s,l:c.l}),a({h:(d+240)%360,s:c.s,l:c.l})]}function s(b){var c=a(b).toHsl(),d=c.h;return[a(b),a({h:(d+90)%360,s:c.s,l:c.l}),a({h:(d+180)%360,s:c.s,l:c.l}),a({h:(d+270)%360,s:c.s,l:c.l})]}function t(b){var c=a(b).toHsl(),d=c.h;return[a(b),a({h:(d+72)%360,s:c.s,l:c.l}),a({h:(d+216)%360,s:c.s,l:c.l})]}function u(b,c,d){c=c||6,d=d||30;var e=a(b).toHsl(),f=360/d,g=[a(b)];for(e.h=(e.h-(f*c>>1)+720)%360;--c;)e.h=(e.h+f)%360,g.push(a(e));return g}function v(b,c){c=c||6;for(var d=a(b).toHsv(),e=d.h,f=d.s,g=d.v,h=[],i=1/c;c--;)h.push(a({h:e,s:f,v:g})),g=(g+i)%1;return h}function w(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function x(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function y(a,b){B(a)&&(a="100%");var c=C(a);return a=O(b,P(0,parseFloat(a))),c&&(a=parseInt(a*b,10)/100),M.abs(a-b)<1e-6?1:a%b/parseFloat(b)}function z(a){return O(1,P(0,a))}function A(a){return parseInt(a,16)}function B(a){return"string"==typeof a&&a.indexOf(".")!=-1&&1===parseFloat(a)}function C(a){return"string"==typeof a&&a.indexOf("%")!=-1}function D(a){return 1==a.length?"0"+a:""+a}function E(a){return a<=1&&(a=100*a+"%"),a}function F(a){return Math.round(255*parseFloat(a)).toString(16)}function G(a){return A(a)/255}function H(a){a=a.replace(J,"").replace(K,"").toLowerCase();var b=!1;if(R[a])a=R[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=T.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=T.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=T.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=T.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=T.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=T.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=T.hex8.exec(a))?{a:G(c[1]),r:A(c[2]),g:A(c[3]),b:A(c[4]),format:b?"name":"hex8"}:(c=T.hex6.exec(a))?{r:A(c[1]),g:A(c[2]),b:A(c[3]),format:b?"name":"hex"}:!!(c=T.hex3.exec(a))&&{r:A(c[1]+""+c[1]),g:A(c[2]+""+c[2]),b:A(c[3]+""+c[3]),format:b?"name":"hex"}}function I(a){var b,c;return a=a||{level:"AA",size:"small"},b=(a.level||"AA").toUpperCase(),c=(a.size||"small").toLowerCase(),"AA"!==b&&"AAA"!==b&&(b="AA"),"small"!==c&&"large"!==c&&(c="small"),{level:b,size:c}}var J=/^\s+/,K=/\s+$/,L=0,M=Math,N=M.round,O=M.min,P=M.max,Q=M.random;a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},getLuminance:function(){var a,b,c,d,e,f,g=this.toRgb();return a=g.r/255,b=g.g/255,c=g.b/255,d=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),e=b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4),f=c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4),.2126*d+.7152*e+.0722*f},setAlpha:function(a){return this._a=x(a),this._roundA=N(100*this._a)/100,this},toHsv:function(){var a=f(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=f(this._r,this._g,this._b),b=N(360*a.h),c=N(100*a.s),d=N(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=d(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=d(this._r,this._g,this._b),b=N(360*a.h),c=N(100*a.s),e=N(100*a.l);return 1==this._a?"hsl("+b+", "+c+"%, "+e+"%)":"hsla("+b+", "+c+"%, "+e+"%, "+this._roundA+")"},toHex:function(a){return h(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return i(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:N(this._r),g:N(this._g),b:N(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+N(this._r)+", "+N(this._g)+", "+N(this._b)+")":"rgba("+N(this._r)+", "+N(this._g)+", "+N(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:N(100*y(this._r,255))+"%",g:N(100*y(this._g,255))+"%",b:N(100*y(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+N(100*y(this._r,255))+"%, "+N(100*y(this._g,255))+"%, "+N(100*y(this._b,255))+"%)":"rgba("+N(100*y(this._r,255))+"%, "+N(100*y(this._g,255))+"%, "+N(100*y(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(S[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(b){var c="#"+i(this._r,this._g,this._b,this._a),d=c,e=this._gradientType?"GradientType = 1, ":"";if(b){var f=a(b);d=f.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+e+"startColorstr="+c+",endColorstr="+d+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0,e=!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a);return e?"name"===a&&0===this._a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),"hex"!==a&&"hex6"!==a||(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},clone:function(){return a(this.toString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(n,arguments)},darken:function(){return this._applyModification(o,arguments)},desaturate:function(){return this._applyModification(j,arguments)},saturate:function(){return this._applyModification(k,arguments)},greyscale:function(){return this._applyModification(l,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(u,arguments)},complement:function(){return this._applyCombination(q,arguments)},monochromatic:function(){return this._applyCombination(v,arguments)},splitcomplement:function(){return this._applyCombination(t,arguments)},triad:function(){return this._applyCombination(r,arguments)},tetrad:function(){return this._applyCombination(s,arguments)}},a.fromRatio=function(b,c){if("object"==typeof b){var d={};for(var e in b)b.hasOwnProperty(e)&&("a"===e?d[e]=b[e]:d[e]=E(b[e]));b=d}return a(b,c)},a.equals=function(b,c){return!(!b||!c)&&a(b).toRgbString()==a(c).toRgbString()},a.random=function(){return a.fromRatio({r:Q(),g:Q(),b:Q()})},a.mix=function(b,c,d){d=0===d?0:d||50;var e,f=a(b).toRgb(),g=a(c).toRgb(),h=d/100,i=2*h-1,j=g.a-f.a;e=i*j==-1?i:(i+j)/(1+i*j),e=(e+1)/2;var k=1-e,l={r:g.r*e+f.r*k,g:g.g*e+f.g*k,b:g.b*e+f.b*k,a:g.a*h+f.a*(1-h)};return a(l)},a.readability=function(b,c){var d=a(b),e=a(c);return(Math.max(d.getLuminance(),e.getLuminance())+.05)/(Math.min(d.getLuminance(),e.getLuminance())+.05)},a.isReadable=function(b,c,d){var e,f,g=a.readability(b,c);switch(f=!1,e=I(d),e.level+e.size){case"AAsmall":case"AAAlarge":f=g>=4.5;break;case"AAlarge":f=g>=3;break;case"AAAsmall":f=g>=7}return f},a.mostReadable=function(b,c,d){var e,f,g,h,i=null,j=0;d=d||{},f=d.includeFallbackColors,g=d.level,h=d.size;for(var k=0;k<c.length;k++)e=a.readability(b,c[k]),e>j&&(j=e,i=a(c[k]));return a.isReadable(b,i,{level:g,size:h})||!f?i:(d.includeFallbackColors=!1,a.mostReadable(b,["#fff","#000"],d))};var R=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=a.hexNames=w(R),T=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hsva:new RegExp("hsva"+e),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):window.tinycolor=a}(),function(a,b){"function"==typeof define&&define.amd?define("vendor.tscme",["_","q","tinycolor"],function(a,c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(require("_"),require("Q"),require("tinycolor")):a.tscme=b(a._,a.Q,a.tinycolor)}(this,function(a,b,c){var d={};return function(a,b){"use strict";var c=[],d=function(d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r={},s=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),t=function(b){if("number"!=typeof b)throw new Error("Caption startTime is expecting a number, but got ("+b+")");var c=e;return e=Math.floor(b),a.UndoAction.create(t,c,t,e)},u=function(b){if("number"!=typeof b)throw new Error("Caption duration is expecting a number, but got ("+b+")");var c=f;return f=Math.floor(b),a.UndoAction.create(u,c,u,f)},v=function(b){if("string"!=typeof b)throw new Error("Caption language is expecting a string, but got ("+b+")");var c=g;return g=b,a.UndoAction.create(v,c,v,g)},w=function(b){if("string"!=typeof b)throw new Error("Caption text is expecting a string, but got ("+b+")");var c=h;return h=b,i=a.Rtf.toText(h),j=a.Rtf.toHtml(h),a.UndoAction.create(w,c,w,h)},x=function(b){if("string"!=typeof b)throw new Error("Caption horizontalAlignment is expecting a string, but got ("+b+")");var c=k;return k=b,a.UndoAction.create(x,c,x,k)},y=function(b){if("string"!=typeof b)throw new Error("Caption verticalAlignment is expecting a string, but got ("+b+")");var c=l;return l=b,a.UndoAction.create(y,c,y,l)},z=function(b){if("string"!=typeof b)throw new Error("Caption file is expecting a string, but got ("+b+")");var c=m;return m=b,a.UndoAction.create(z,c,z,m)},A=function(b){if("string"!=typeof b)throw new Error("Caption image is expecting a string, but got ("+b+")");var c=n;return n=b,a.UndoAction.create(A,c,A,n)},B=function(b){if("number"!=typeof b)throw new Error("Caption imageIndex is expecting a number, but got ("+b+")");var c=o;return o=b,a.UndoAction.create(B,c,B,o)},C=function(b){if("number"!=typeof b)throw new Error("Caption imageOffset is expecting a number, but got ("+b+")");var c=p;return p=b,a.UndoAction.create(C,c,C,p)},D=function(b){if("object"!=typeof b)throw new Error("Caption imageRectangle is expecting an object, but got ("+b+")");var c=q;return q=b,a.UndoAction.create(D,c,D,q)},E=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmpDM:startTime":e,"xmpDM:duration":f,"tscDM:halign":k,"tscDM:valign":l,"tscDM:file":m,"tscDM:image":n,"tscDM:imageindex":o,"tscDM:imageoffset":p,"tscDM:imagerect":q?[q.x,q.y,q.width,q.height].join(", "):void 0},children:[{name:"xmpDM:name",children:[{name:"rdf:Alt",children:[{name:"rdf:li",atts:{"xml:lang":g},text:h}]}]}]}]};return s.createElementFromObject(a)},F=Object.defineProperties({},{startTime:{get:function(){return e}},duration:{get:function(){return f}},endTime:{get:function(){return e+f}},language:{get:function(){return g}},text:{get:function(){return h}},plainText:{get:function(){return i}},markupText:{get:function(){return j}},horizontalAlignment:{get:function(){return k}},verticalAlignment:{get:function(){return l}},file:{get:function(){return m}},image:{get:function(){return n}},imageIndex:{get:function(){return o}},imageOffset:{get:function(){return p}},imageRectangle:{get:function(){return q}}});return F.setStartTime=t,F.setDuration=u,F.setLanguage=v,F.setText=w,F.setHorizontalAlignment=x,F.setVerticalAlignment=y,F.setFile=z,F.setImage=A,F.setImageIndex=B,F.setImageOffset=C,F.setImageRectangle=D,F.toXmp=E,F.toPOJO=function(){var a={startTime:e,duration:f,language:g,text:h,plainText:i,markupText:j,horizontalAlignment:k,verticalAlignment:l,file:m,image:n,imageIndex:o,imageOffset:p,imageRectangle:q?q.toPOJO():q},c=this,d=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(d,function(b){a[b]=c[b]}),b.forEach(b.keys(r),function(b){a[b]=r[b]}),a},d&&b.forEach(b.keys(d),function(c){"startTime"===c?t(d.startTime):"duration"===c?u(d.duration):"language"===c?v(d.language):"text"===c?w(d.text):"horizontalAlignment"===c?x(d.horizontalAlignment):"verticalAlignment"===c?y(d.verticalAlignment):"file"===c?z(d.file):"image"===c?A(d.image):"imageIndex"===c?B(d.imageIndex):"imageOffset"===c?C(d.imageOffset):"imageRectangle"===c?(d.imageRectangle.toPOJO||(d.imageRectangle=a.ImageRectangle.create(d.imageRectangle)),D(d.imageRectangle)):b.isFunction(r[c])||(r[c]=d[c])}),b.forEach(c,function(a){a(F)}),F},e=function(b){var c=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),e=c.getFirstElementByTagNameNSPrefix(b,"rdf:li"),f=c.getElementText(e),g={startTime:Number(b.getAttribute("xmpDM:startTime")),duration:Number(b.getAttribute("xmpDM:duration")),language:e.getAttribute("xml:lang"),text:f,horizontalAlignment:b.getAttribute("tscDM:halign"),verticalAlignment:b.getAttribute("tscDM:valign")};return b.getAttribute("tscDM:file")&&(g.file=b.getAttribute("tscDM:file")),b.getAttribute("tscDM:image")&&(g.image=b.getAttribute("tscDM:image")),b.getAttribute("tscDM:imageindex")&&(g.imageIndex=Number(b.getAttribute("tscDM:imageindex"))),b.getAttribute("tscDM:imageoffset")&&(g.imageOffset=Number(b.getAttribute("tscDM:imageoffset"))),b.getAttribute("tscDM:imagerect")&&(g.imageRectangle=a.ImageRectangle.create(b.getAttribute("tscDM:imagerect"))),new d(g)},f=function(a){if(!a||"function"!=typeof a)throw"decorator must be a function";c.push(a)},g=function(){c=[]};a.Caption={create:function(a){return new d(a)},createFromXmpElement:e,registerDecorator:f,clearDecorators:g}}(d,a),function(a,b){"use strict";var c=function(c){var d=[];if(c){if(!c.hasOwnProperty("captions")||!b.isArray(c.captions))throw new Error("CaptionCollection params is expecting an object eg. { captions: [caption1Object, ...] }");d=b.sortBy(c.captions,["startTime"])}var e=function(c){var g=b.sortedIndexBy(d,c,"startTime");return d.splice(g,0,c),a.UndoAction.create(f,c,e,c)},f=function(c){var g=b.findIndex(d,c);return g!==-1?(d.splice(g,1),a.UndoAction.create(e,c,f,c)):a.UndoAction.noOp()},g=function(a){d=a},h=function(){var c=b.clone(d);return d=[],a.UndoAction.create(g,c,g,[])},i=Object.defineProperties({},{captions:{get:function(){return d}}});return i.addCaption=e,i.removeCaption=f,i.clear=h,i.toPOJO=function(){return{captions:d}},i};a.CaptionCollection={create:function(a){return new c(a)}}}(d,a),function(a,b,c){"use strict";var d=function(d){d=d||{};var e=Object.freeze({fontFamily:"Arial, Helvetica, sans-serif;",fontSize:24,fgColor:c({r:255,g:255,b:255}),bgColor:c({r:0,g:0,b:0,a:.9})}),g=d.fgColor?c(d.fgColor):e.fgColor.clone(),h=d.bgColor?c(d.bgColor):e.bgColor.clone(),i=d.fontFamily?d.fontFamily:e.fontFamily,j=f(d,e.fontSize),k=d.position?d.position:void 0,l=d.barHeight?d.barHeight:void 0,m=d.captions?a.CaptionCollection.create({captions:d.captions}):a.CaptionCollection.create(),n=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),o=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmpDM:trackType":"Caption","xmpDM:frameRate":"f1000","xmpDM:trackName":"Captioning","stFnt:fontFamily":i,"tscDM:fontSize":j,"tscDM:bgOpacity":h.getAlpha(),"tscDM:position":k,"tscDM:captionbarheight":l},children:[{name:"xmpDM:markers",children:[{name:"rdf:Seq",children:m.captions}]},{name:"tsc:fgColor",atts:p(g.toRgb())},{name:"tsc:bgColor",atts:p(h.toRgb())}]}]};return n.createElementFromObject(a)},p=function(a){return{"xmpG:red":a.r,"xmpG:green":a.g,"xmpG:blue":a.b,"xmpG:mode":"RGB"}},q=function(a){var b=a.toRgb();return{r:b.r,g:b.g,b:b.b}},r=Object.defineProperties({},{fgColor:{get:function(){return q(g)}},fgHexColor:{get:function(){return g.toHexString()}},bgColor:{get:function(){return q(h)}},bgOpacity:{get:function(){return h.getAlpha()}},bgHexColor:{get:function(){return h.toHexString()}},bgRGBACssColor:{get:function(){
return h.toRgbString()}},fontFamily:{get:function(){return i}},fontSize:{get:function(){return j}},position:{get:function(){return k}},barHeight:{get:function(){return l}},captionCollection:{get:function(){return m}}});return r.toXmp=o,r.toPOJO=function(){var a={fgColor:g.toRgb(),bgColor:h.toRgb(),bgOpacity:h.getAlpha(),fontFamily:i,fontSize:j,position:k,barHeight:l,captions:b.invokeMap(m.captions,"toPOJO")},c=this,d=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(d,function(b){a[b]=c[b]}),a},r},e=function(a){return{r:Number(a.getAttribute("xmpG:red")),g:Number(a.getAttribute("xmpG:green")),b:Number(a.getAttribute("xmpG:blue"))}},f=function(a,c){if(!a.fontSize)return c;var d=+a.fontSize;return b.isString(a.fontSize)&&(d=+a.fontSize.replace("px","").replace("pt","")),d?d:c},g=function(c){var f=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),g=new d;if(c){var h=f.getFirstElementByTagNameNSPrefix(c,"tsc:fgColor"),i=f.getFirstElementByTagNameNSPrefix(c,"tsc:bgColor"),j=f.getElementsByTagNameNSPrefix(c,"rdf:Description"),k=b.map(j,a.Caption.createFromXmpElement),l={fgColor:e(h),bgColor:e(i),fontFamily:c.getAttribute("stFnt:fontFamily"),fontSize:Number(c.getAttribute("tscDM:fontSize")),position:c.getAttribute("tscDM:position"),barHeight:Number(c.getAttribute("tscDM:captionbarheight")),captions:k};l.bgColor.a=b.isNil(c.getAttribute("tscDM:bgOpacity"))?_defaults.bgColor.getAlpha():Number(c.getAttribute("tscDM:bgOpacity")),g=new d(l)}return g};a.CaptionTrack={create:function(a){return new d(a)},createFromXmpElement:g}}(d,a,c),function(a){"use strict";var b="\\",c="0",d=" ",e=" ",f=97,g=122,h=function(a){var b="par ";return a.toLowerCase()===b},i=function(a,c){void 0===c&&(c=0);var d=-1;if(a)for(d=a.indexOf(b,c);d!=-1;){if(d+1<a.length){var e=a.toLowerCase().charCodeAt(d+1);if(f<=e&&e<=g)break}d=a.indexOf(b,d+1)}return d},j=function(a,b){var c;if(b!==-1){var e=a.indexOf(d,b+1);if(e!==-1){var f=e+1-(b+1);c=a.substr(b+1,f)}else c=a.substr(b+1)}return c},k=function(a,b){void 0===b&&(b=0);for(var c=i(a,b);c!==-1;){var d=j(a,c);if(d&&!h(d))break;c=i(a,c+1)}return c},l=function(a,c){for(var d="",e=[],f=c.pop();f&&f!==a&&c.length;)d+=b+f,e.push(n(f)),c.length&&(f=c.pop());for(d+=b+a;e.length;){var g=e.pop();g&&(d+=b+g,c.push(n(g)))}return d},m=function(a){return a.indexOf(c)!==-1},n=function(a){var b="";return""!==a&&(m(a)?b=a.substr(0,a.indexOf(c)):(a.indexOf(e)!==-1&&(b=a.substr(0,a.indexOf(e))),b+=c),b+=e),b},o=function(a,b){if(b!==-1&&a&&b<a.length){var c=a.indexOf(d,b);a=c!==-1?a.substr(0,b)+a.substr(c+1):a.substr(0,b)}return a},p=function(a){for(;a.length>1&&a.charAt(0)===e;)a=a.substr(1);for(;a.length>1&&a.charAt(a.length-1)===e;)a=a.substr(0,a.length-1);return a===e&&(a=""),a},q=function(a){if(a)for(var b=[],c=k(a);c!==-1;){var e=j(a,c);if(e&&m(e)){var f=l(e,b),g=a.indexOf(d,c);a=g!==-1?a.substr(0,c)+f+a.substr(g+1):a.substr(0,c)+f,c+=f.length}else e&&!h(e)&&b.push(n(e)),c=Number(c)+1;c=i(a,c)}return a},r=function(a){var b=a;if(b)for(var c=1;c>0;){c=0;for(var d=k(b);d!==-1;){var e=k(b,d+1),f=j(b,d);if(f&&e!=-1){var g=n(f),h=j(b,e);if(h&&h==g){var i=d+1+f.length,l=b.substr(i,e-i);p(l).length||(b=o(b,e),b=o(b,d),e-=f.length+1,c++)}}d=e}}return b},s=function(a){return a.match(/{\\rtf1 /)&&(a=a.replace(/{\\rtf1 /,""),"}"==a.charAt(a.length-1)&&(a=a.substr(0,a.length-1))),a=a.replace(/\\i /g,""),a=a.replace(/\\i0 /g,""),a=a.replace(/\\b /g,""),a=a.replace(/\\b0 /g,""),a=a.replace(/\\ul /g,""),a=a.replace(/\\ul0 /g,""),a=a.replace(/\\par /g,""),a=a.replace(/\\{/g,"{"),a=a.replace(/\\}/g,"}"),a=a.replace(/\\\\/g,"\\")},t=function(a){a=q(a),a=r(a),a=a.split("<").join("&lt;"),a=a.split(">").join("&gt;");var b=!1;return a.indexOf("{\\rtf1")!=-1&&(a=a.split("{\\rtf1 ").join(""),b=!0),a=a.split("\\i0 ").join("</i>"),a=a.split("\\b0 ").join("</b>"),a=a.split("\\ul0 ").join("</u>"),a=a.split("\\i ").join("<i>"),a=a.split("\\b ").join("<b>"),a=a.split("\\ul ").join("<u>"),a=a.split("\\par ").join("<br/>"),a=a.split("\\{").join("{"),a=a.split("\\}").join("}"),a=a.split("\\\\").join("\\"),b&&"}"===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),a=a.split("&lt;br&gt;").join("<br/>"),a=a.split("&lt;BR&gt;").join("<br/>")};a.Rtf={toText:s,toHtml:t}}(d),function(a,b){"use strict";var c=function(c,d,e,f){var g=function(){var g=b.defer();try{c(d)}catch(a){g.reject(a)}var h=a.UndoAction.create(e,f,c,d);return g.resolve(h),g.promise};return{execute:g}},d=function(){return{execute:function(){return b()}}};a.UndoAction={create:function(a,b,d,e){return new c(a,b,d,e)},noOp:function(){return new d}}}(d,b),function(a,b){"use strict";var c;if("undefined"!=typeof window.DOMParser){var d,e=DOMParser.prototype,f=e.parseFromString;try{(new DOMParser).parseFromString("","text/html")&&(d=!0)}catch(a){}d||(e.parseFromString=function(a,b){if(/^\s*text\/html\s*(?:;|$)/i.test(b)){var c,d=document.implementation.createHTMLDocument(""),e=d.documentElement;return e.innerHTML=a,c=e.firstElementChild,1===e.childElementCount&&"html"===c.localName.toLowerCase()&&d.replaceChild(c,e),d}return f.apply(this,arguments)}),c=function(a,b){return b=b||"text/xml",(new window.DOMParser).parseFromString(a,b)}}else{if("undefined"==typeof window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))throw new Error("No XML parser found");c=function(a){var b=new window.ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),b}}var g=function(a){var b=new XMLSerializer;return b.serializeToString(a)},h=function(a){return'<?xml version="1.0" encoding="UTF-8"?>\n'+this.xmlDocFragmentToString(a)},i=function(a){return a.textContent},j=function(a,c){var d=a.getAttribute(c);return!b.isNil(d)},k=function(a,b,c){var d=a.getAttribute(b);return d===c},l=function(){var a=document.implementation.createDocument("","",null);return a},m=function(a,b){var c=a.createElement(b);return c},n=function(a,b,c){var d=a.createElement(b);return d.appendChild(a.createTextNode(c)),d},o=function(a,b){var c="*",d=a.getElementsByTagNameNS(c,b);return d},p=function(a,b){var c=o(a,b);return c&&c[0]?c[0]:null},q=function(a,b){var c=p(a,b);return c?i(c):null},r=function(){};r.prototype.parseXml=c,r.prototype.xmlDocFragmentToString=g,r.prototype.xmlDocToString=h,r.prototype.getElementText=i,r.prototype.hasAttribute=j,r.prototype.hasAttributeWithValue=k,r.prototype.createDocument=l,r.prototype.createElement=m,r.prototype.createElementWithValue=n,r.prototype.getElementsByTagName=o,r.prototype.getFirstElementByTagName=p,r.prototype.getFirstChildElementTextByTagName=q,a.XmlUtility=r}(d,a),function(a,b){"use strict";var c=function(a){return b.isFunction(a.evaluate)},d=function(a,b){if(c(a))return a.evaluate("//"+b,a,this.namespaceResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;var d=this.getElementsByTagNameNSPrefix(a,b);return d&&d[0]?d[0]:void 0},e=function(a,b){if(!a)return null;if(b.indexOf(":")===-1)throw"getElementsByTagNameNSPrefix requires the name passed in to have a namespace prefix. getElementsByTagName can be used if you do not know the prefix.";var c=b.split(":"),d=this.namespaceResolver(c[0]),e=b.split(":")[1],f=a.getElementsByTagNameNS(d,e);return f},f=function(a,b){var c=this.getFirstElementByTagNameNSPrefix(a,b);return c?this.getElementText(c):void 0},g=function(a,b,c){var d=document.implementation.createDocument(a,b+":"+c,null);return d},h=function(a,b,c,d){var e=a.createElementNS(b,c+":"+d);return e},i=function(a,b,c,d,e){var f=h(a,b,c,d);return f.appendChild(a.createTextNode(e)),f},j=function(a,b){var c=a.split(":",2);if(2!==c.length)throw"invalid tag name ["+a+"] should contain ':' to define namespace";if(!b(c[0]))throw"invalid namespace prefix ["+c[0]+"] was not able to be mapped to known namespace";return{nsUrl:b(c[0]),nsPrefix:c[0],tagShortName:c[1]}},k=function(a,c){c=c||this.createDocument();var d=this;if(b.isString(a))return createElement(c,a);if("object"==typeof a&&"function"==typeof a.toXmp)return a.toXmp();if("object"==typeof a&&a.name){var e=j(a.name,this.namespaceResolver),f=h(c,e.nsUrl,e.nsPrefix,e.tagShortName);return a.atts&&"object"==typeof a.atts&&b.forEach(a.atts,function(a,c){if(!b.isNil(a)){var e=j(c,d.namespaceResolver);"xml"!==e.nsPrefix?f.setAttributeNS(e.nsUrl,c,a):f.setAttribute(c,a)}}),a.children&&Array.isArray(a.children)&&b.forEach(a.children,function(a){a&&f.appendChild(d.createElementFromObject(a,c))}),void 0!==a.text&&null!==a.text&&(f.textContent=a.text),f}throw"invalid tag info"},l=function(a){if(!a)throw"namespaceResolver is required";this.namespaceResolver=a};l.prototype=Object.create(a.XmlUtility.prototype),l.prototype.getFirstElementByTagNameNSPrefix=d,l.prototype.getElementsByTagNameNSPrefix=e,l.prototype.getFirstChildElementTextByTagNameNSPrefix=f,l.prototype.createDocumentNS=g,l.prototype.createElementFromObject=k,l.prototype.createElementNS=h,l.prototype.createElementNSWithValue=i,a.NamespaceXmlUtility=l}(d,a),function(a,b){"use strict";function c(a){var b=a.split(":");try{var c=b[2].split(",");return 1===c.length&&(c=b[2].split(".")),3600*parseFloat(b[0],10)+60*parseFloat(b[1],10)+parseFloat(c[0],10)+parseFloat(c[1],10)/1e3}catch(a){return 0}}function d(a,b){for(var c=b;!a[c]&&c<a.length;)c++;return c}function e(a){for(var b=a.length-1;b>=0&&!a[b];)b--;return b}function f(b,f,g){var h,i,j,k,l,m=a.CaptionCollection.create(),n=0,o=0,p=new RegExp("[\\t ]*"+f+"[\\t ]*"),q=/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,r=/</g,s=/>/g,t=/\\N/gi;for(h=b.split(/(?:\r\n|\r|\n)/gm),k=e(h)+1,n=0;n<k;n++){for(l={},j=[],n=d(h,n),g?l.id=parseInt(h[n++],10):l.id=n,i=h[n++].split(p),l.start=c(i[0]),o=i[1].indexOf(" "),o!==-1&&(i[1]=i[1].substr(0,o)),l.end=c(i[1]);n<k&&h[n];)j.push(h[n++]);l.text=j.join("\\N").replace(q,""),l.text=l.text.replace(r,"&lt;").replace(s,"&gt;"),l.text=l.text.replace(t,"\n"),m.addCaption(a.Caption.create({startTime:1e3*l.start,duration:1e3*l.end-1e3*l.start,language:"en-US",text:l.text,horizontalAlignment:"Center",verticalAlignment:"Bottom"}))}var u=a.CaptionTrack.create({captions:m.captions});return u}function g(a,b){return a+="",a.length>=b?a:new Array(b-a.length+1).join("0")+a}function h(a,b){var c=new Date(a),d=b.hoursPadding||0===b.hoursPadding,e=d?b.hoursPadding:2,f=g(c.getUTCHours(),e),h=g(c.getUTCMinutes(),2),i=g(c.getUTCSeconds(),2),j=c.getUTCMilliseconds().toFixed(3).split(".")[0],k=g(j,3),l=b.millisecondDelimiter?b.millisecondDelimiter:",";return f+":"+h+":"+i+l+k}function i(a,c){function d(a,b,d){var e=0===d;if(e||(a+="\n\n"),c.hasIdRow){var f=d+1;a+=f,a+="\n"}return a+=h(b.startTime,c)+c.timeDelimiter+h(b.endTime,c),a+="\n",a+=b.text}return b.reduce(a.captionCollection.captions,d,c.accumulator)}a.baseNewlineParser={readCaptionsFromStringWithIdRow:function(a,b){return f(a,b,!0)},readCaptionsFromString:function(a,b){return f(a,b,!1)},captionsToString:i}}(d,a),function(a,b){"use strict";function c(a){return b.trimStart(a,".")}var d=[],e=function(a,e,f){d.push({name:a,extensions:b.map(e,c),create:f})},f=function(a){var e=b.find(d,function(d){return b.includes(d.extensions,c(a))});return e?e.create():null};a.captionParsers={register:e,resolveByExtension:f}}(d,a),function(a,b,c){"use strict";a.captionParsers.register("SAMI",[".sami",".smi"],function(){function d(a){var b=String.fromCharCode(160),c=p.getElementText(a).replace(b," ");return c}function e(a){var c=p.getElementsByTagName(a,"p");if(c.length<1)return d(a);var e=b.map(c,d);return b.join(e,"\n")}function f(c,d,f){var g=+f.getAttribute("start"),h=e(f),i={startTime:g,duration:0,language:"en-US",text:h,horizontalAlignment:b.capitalize(c.toLowerCase()),verticalAlignment:"Bottom"};return d.addCaption(a.Caption.create(i)),d}function g(a){for(var b=0;b<a.captions.length;b++){var c=a.captions[b],d=null;b+1<a.captions.length&&(d=a.captions[b+1]);var e=3e3,f=d?d.startTime-c.endTime:e;c.setDuration(f)}return a}function h(a){return a.replace(/<!--|-->/g,"")}function i(a){if(a){var b=c(a);if(b.isValid())return b.toRgb()}}function j(a){var b=/font-size: *(\d+);/g;a=a.replace(b,"font-size: $1px;");var c=document.implementation.createHTMLDocument(""),d=c.createElement("style");return d.textContent=a,c.body.appendChild(d),d.sheet.cssRules}function k(a){var c=a.getElementsByTagName("style");if(c.length<1)return{};var d=j(h(c[0].textContent)),e=b.find(d,function(a){return"p"===a.selectorText.toLowerCase()});return e=e||b.first(d),{fgColor:i(e.style.color),bgColor:i(e.style.backgroundColor),fontFamily:b.trim(e.style.fontFamily,"\"'"),fontSize:e.style.fontSize,horizontalAlignment:e.style.textAlign||"Center"}}function l(c){var d=a.CaptionCollection.create(),e=p.parseXml(c,"text/html");e||console.log("xmlDoc is null");var h=e.getElementsByTagName("sync"),i=k(e),j=b.curry(f)(i.horizontalAlignment);d=b.reduce(h,j,d),d=g(d),i.captions=d.captions;var l=a.CaptionTrack.create(i);return l}function m(a,b,c){var d=b.text;return d&&(d+="\n"),a+='<SYNC start="'+b.startTime+'"><P class="ENCC">'+d+"</P></SYNC>",c&&c.startTime>b.endTime&&(a+='<SYNC start="'+b.endTime+'"><P class="ENCC"></P></SYNC>'),a}function n(a){var c=b.reduce(a.captionCollection.captions,function(a,c){var d=c.horizontalAlignment;return!d||b.has(a,d)?a:(a[d]=!0,a)},{}),d=b.keys(c);return 1===d.length?d[0].toLowerCase():"center"}function o(a){for(var c=b.isInteger(a.fontSize)?a.fontSize+"pt":a.fontSize,d=a.fontFamily,e=a.fgHexColor,f=a.bgHexColor,g=n(a),h='<SAMI><HEAD><TITLE>Captions</TITLE><STYLE TYPE="text/css"><!--P {\tmargin-left:  1pt;margin-right: 1pt;margin-bottom: 2pt;margin-top: 2pt;text-align: '+g+";font-size: "+c+";font-family: "+d+";font-weight: normal;font-style: normal;background-color: "+f+";color: "+e+"; }.ENCC {Name: English; lang: en-US; SAMI_Type: CC;}--></STYLE></HEAD><BODY>",i="</BODY></SAMI>",j=h,k=a.captionCollection,l=0;l<k.captions.length;l++){var o=k.captions[l],p=l===k.captions.length-1,q=p?null:k.captions[l+1];j=m(j,o,q)}return j+=i}var p=new a.XmlUtility;return{deserialize:l,serialize:o}})}(d,a,c),function(a){"use strict";a.captionParsers.register("SBV",[".sbv"],function(){function b(b){return a.baseNewlineParser.readCaptionsFromString(b,d)}function c(b){return a.baseNewlineParser.captionsToString(b,{timeDelimiter:d,accumulator:"",hoursPadding:1})}var d=",";return{deserialize:b,serialize:c}})}(d),function(a){"use strict";a.captionParsers.register("SRT",[".srt"],function(){function b(b){return a.baseNewlineParser.readCaptionsFromStringWithIdRow(b,e.trim())}function c(b){var c=a.baseNewlineParser.captionsToString(b,{timeDelimiter:e,accumulator:"\n\n",hasIdRow:!0});return c+d}var d="\n\n\n",e=" --> ";return{deserialize:b,serialize:c}})}(d),function(a,b){"use strict";a.captionParsers.register("TTML",[".ttml",".dfxp"],function(){function c(a,b,f){for(var h,i=a.firstChild,j=d(a,f),k=[];i;)1===i.nodeType&&("p"===i.nodeName?k.push(e(i,b,j)):"div"===i.nodeName&&(h=g(i.getAttribute("begin")),h<0&&(h=b),k.push.apply(k,c(i,h,j)))),i=i.nextSibling;return k}function d(a,b){var c=a.getAttribute("region");return null!==c?c:b||""}function e(a,b,c){var e={};return e.text=(a.textContent||a.text).replace(m,"").replace(n,"<br />"),e.id=a.getAttribute("xml:id")||a.getAttribute("id"),e.start=g(a.getAttribute("begin"),b),e.end=g(a.getAttribute("end"),b),e.target=d(a,c),e.end<0&&(e.end=g(a.getAttribute("duration"),0),e.end>=0?e.end+=e.start:e.end=Number.MAX_VALUE),{subtitle:e}}function f(a,b){var c,d,e,f,g,h,i=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,j="Invalid time format";if("number"==typeof a)return a;if("string"==typeof a&&!i.test(a))throw j;return c=a.split(":"),d=c.length-1,e=c[d],e.indexOf(";")>-1&&(g=e.split(";"),h=0,b&&"number"==typeof b&&(h=parseFloat(g[1],10)/b),c[d]=parseInt(g[0],10)+h),f=c[0],{1:parseFloat(f,10),2:60*parseInt(f,10)+parseFloat(c[1],10),3:3600*parseInt(f,10)+60*parseInt(c[1],10)+parseFloat(c[2],10)}[c.length||1]}function g(a,b){var c;if(!a)return-1;try{return f(a)}catch(d){return c=h(a),parseFloat(a.substring(0,c))*i(a.substring(c))+(b||0)}}function h(a){for(var b=a.length-1;b>=0&&a[b]<="9"&&a[b]>="0";)b--;return b}function i(a){return{h:3600,m:60,s:1,ms:.001}[a]||-1}function j(d){var e,f,g=a.CaptionCollection.create();if(!d)return returnData;d=d.replace(/<head>.*<\/head>/,""),d=d.replace(o,"\\N");var h=new a.XmlUtility;if(f=h.parseXml(d),!f)return g;for(e=f.documentElement.firstChild;"body"!==e.nodeName;)e=e.nextSibling;if(e){var i=c(e,0);b.map(i,function(b){b=b.subtitle;var c={startTime:1e3*b.start,duration:1e3*b.end-1e3*b.start,language:"en-US",text:b.text.replace("\\N","\n"),horizontalAlignment:"Center",verticalAlignment:"Bottom"};g.addCaption(a.Caption.create(c))})}var j=a.CaptionTrack.create({captions:g.captions});return j}function k(a,b,c){var d=c+1;return a+='<p xml:id="subtitle'+d+'" begin="'+b.startTime/1e3+'s" end="'+b.endTime/1e3+'s">'+b.text+"</p>"}function l(a){for(var b='<?xml version="1.0" encoding="UTF-8"?><tt xmlns:tts="http://www.w3.org/2006/04/ttaf1#styling" xmlns="http://www.w3.org/2006/04/ttaf1"><head><metadata xmlns:ttm="http://www.w3.org/ns/ttml#metadata"><ttm:title>Captions</ttm:title></metadata><styling xmlns:tts="http://www.w3.org/ns/ttml#styling"><style xml:id="s1" tts:color="white" tts:fontFamily="proportionalSansSerif" tts:fontSize="22px" tts:textAlign="center" /></styling><layout xmlns:tts="http://www.w3.org/ns/ttml#styling"><region xml:id="subtitleArea" style="s1" tts:extent="560px 62px" tts:padding="5px 3px" tts:backgroundColor="black" tts:displayAlign="after" /></layout></head><body region="subtitleArea"><div>',c="</div></body></tt>",d=b,e=0;e<a.captionCollection.captions.length;e++){var f=a.captionCollection.captions[e];d=k(d,f,e)}return d+=c}var m=/^[\s]+|[\s]+$/gm,n=/(?:\r\n|\r|\n)/gm,o=/(<br *\/?>)/gm;return{deserialize:j,serialize:l}})}(d,a),function(a){"use strict";a.captionParsers.register("VTT",[".vtt"],function(){function b(a){var b,c=a.split(":"),d=a.length;if(12!==d&&9!==d)throw"Bad cue";d=c.length-1;try{b=60*parseInt(c[d-1],10)+parseFloat(c[d],10),2===d&&(b+=3600*parseInt(c[0],10))}catch(a){throw"Bad cue"}return b}function c(a){var c,d={},e=/-->/,f=/[\t ]+/;if(!a||a.indexOf(i)===-1)throw"Bad cue";if(c=a.replace(e," "+i+" ").split(f),c.length<2)throw"Bad cue";return d.id=a,d.start=b(c[0]),d.end=b(c[2]),d}function d(a,b,c){for(;c<b&&!a[c];)c++;return c}function e(a,b,c){for(;c<b&&a[c];)c++;return c}function f(a,b,c){for(;c<b&&a[c].indexOf(i)===-1;)c++;return c}function g(b){var g,h,i,j=a.CaptionCollection.create(),k=0,l=0,m=/(?:\r\n|\r|\n)/gm,n=/(<br *\/?>)/gm;if(g=b.split(m),l=g.length,0===l||"WEBVTT"!==g[0])return j;for(k++;k<l;){h=[];try{for(k=d(g,l,k),k=f(g,l,k),i=c(g[k++]);k<l&&g[k];)h.push(g[k++]);i.text=h.join("\n").replace(n,"\n"),i.text=(new window.DOMParser).parseFromString(i.text,"text/html").documentElement.textContent;var o={startTime:1e3*i.start,duration:1e3*i.end-1e3*i.start,language:"en-US",text:i.text,horizontalAlignment:"Center",verticalAlignment:"Bottom"};j.addCaption(a.Caption.create(o))}catch(a){k=e(g,l,k)}}var p=a.CaptionTrack.create({captions:j.captions});return p}function h(b){var c=a.baseNewlineParser.captionsToString(b,{timeDelimiter:i,accumulator:"WEBVTT\n\n",hasIdRow:!1,millisecondDelimiter:"."});return c}var i="-->";return{deserialize:g,serialize:h}})}(d),function(a,b){"use strict";var c=function(a){var c=[],d=function(a){var b=a.split(",");return{x:Number(b[0]),y:Number(b[1])}};if(!a||!b.isString(a))throw new Error('BoundingPoly is expecting a coordinate string eg. "0,94;111,90;112,191;0,194;"');var e=b.compact(a.split(";"));c=b.map(e,d);var f=Object.defineProperties({},{coordinates:{get:function(){return c}}});return f.toPOJO=function(){return{coordinates:c}},f.toXmpAtt=function(){return b.map(c,function(a){return a.x+","+a.y}).join(";")+";"},f};a.BoundingPoly={create:function(a){return new c(a)}}}(d,a),function(a,b){"use strict";var c=function(c){var d,e={},f=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);c&&b.forEach(b.keys(c),function(a){"items"===a?d=c.items:b.isFunction(e[a])||(e[a]=c[a])});var g=function(){var a={name:"tscDM:contentList",children:[{name:"rdf:Description",children:[{name:"tscDM:files",children:[{name:"rdf:Seq",children:b.map(d,function(a){return{name:"rdf:li",atts:{"xmpDM:name":a.name,"xmpDM:value":a.value}}})}]}]}]};return f.createElementFromObject(a)},h=Object.defineProperties({},{items:{get:function(){return d}}});return h.toXmp=g,h.toPOJO=function(){var a={items:d},c=this,f=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(f,function(b){a[b]=c[b]}),b.forEach(b.keys(e),function(b){a[b]=e[b]}),a},h},d=function(a){if(a){var c=b.map(a,function(a){return{name:a.getAttribute("xmpDM:name"),value:a.getAttribute("xmpDM:value")}});return c}},e=function(b){var e=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);if(b){var f=e.getElementsByTagNameNSPrefix(b,"rdf:li"),g={items:d(f)};return new c(g)}};a.ContentList={create:function(a){return new c(a)},createFromXmpElement:e}}(d,a),function(a,b){"use strict";var c,d=function(){return c||(c=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver))},e=function(a){var c,e,f,g={};a&&b.forEach(b.keys(a),function(d){"name"===d?c=a.name:"parameters"===d?e=a.parameters:"controllerTextItems"===d?f=a.controllerTextItems:b.isFunction(g[d])||(g[d]=a[d])});var h=function(){var a=b.map(f,function(a){return{name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmp:label":a.label},children:[{name:"tscDM:localizedText",children:[{name:"rdf:Alt",children:b.map(a.localizedTexts,function(a){return{name:"rdf:li",atts:{"xml:lang":a.lang},text:a.text}})}]}]}]}}),g={name:"tscDM:controller",children:[{name:"rdf:Description",atts:{"xmpDM:name":c},children:[{name:"tscDM:parameters",children:[{name:"rdf:Bag",children:b.map(e,function(a){return{name:"rdf:li",atts:{"xmpDM:name":a.name,"xmpDM:value":a.value}}})}]},{name:"tscDM:controllerText",children:[{name:"rdf:Bag",children:a}]}]}]};return d().createElementFromObject(g)},i=Object.defineProperties({},{name:{get:function(){return c}},parameters:{get:function(){return e}},controllerTextItems:{get:function(){return f}}});return i.toXmp=h,i.toPOJO=function(){var a={name:c,parameters:e,controllerTextItems:f},d=this,h=b.reject(b.keys(d),function(a){return b.isFunction(d[a])});return b.forEach(h,function(b){a[b]=d[b]}),b.forEach(b.keys(g),function(b){a[b]=g[b]}),a},i},f=function(a){return{name:a.getAttribute("xmpDM:name"),value:a.getAttribute("xmpDM:value")}},g=function(a){if(a){var c=d().getElementsByTagNameNSPrefix(a,"rdf:li"),e=b.map(c,f);return e}},h=function(a){if(a)return{lang:a.getAttribute("xml:lang"),text:d().getElementText(a)}},i=function(a){var c=d().getElementsByTagNameNSPrefix(a,"rdf:li");return{label:a.getAttribute("xmp:label"),localizedTexts:b.map(c,h)}},j=function(a){if(a){var c=d().getElementsByTagNameNSPrefix(a,"rdf:Description"),e=b.map(c,i);return e}},k=function(a){if(a){var b=d().getFirstElementByTagNameNSPrefix(a,"rdf:Description"),c=d().getFirstElementByTagNameNSPrefix(b,"tscDM:parameters"),f=d().getFirstElementByTagNameNSPrefix(b,"tscDM:controllerText"),h={name:b.getAttribute("xmpDM:name"),parameters:g(c),controllerTextItems:j(f)};return new e(h)}};a.Controller={create:function(a){return new e(a)},createFromXmpElement:k}}(d,a),function(a,b){"use strict";var c=function(c){var d,e,f,g,h,i,j,k,l,m,n,o={},p=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);c&&b.forEach(b.keys(c),function(a){"label"===a?d=c.label:"startTime"===a?e=c.startTime:"duration"===a?f=c.duration:"boundingPoly"===a?g=c.boundingPoly:"rotate"===a?h=c.rotate:"pause"===a?i=c.pause:"jumpTime"===a?j=c.jumpTime:"location"===a?k=c.location:"newWindow"===a?l=c.newWindow:"jumpFile"===a?m=c.jumpFile:"file"===a?n=c.file:b.isFunction(o[a])||(o[a]=c[a])});var q=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmpDM:label":d,"xmpDM:duration":f,"xmpDM:startTime":e,"tscDM:boundingPoly":g?g.toXmpAtt():void 0,"tscDM:rotate":h,"tscHS:pause":i?"1":"0","tscHS:jumpTime":j,"tscHS:jumpFile":m,"xmpDM:location":k,"tscDM:file":n,"tscHS:newWindow":l?"1":"0"}}]};return p.createElementFromObject(a)},r=Object.defineProperties({},{label:{get:function(){return d}},startTime:{get:function(){return e}},endTime:{get:function(){return e+f}},duration:{get:function(){return f}},boundingPoly:{get:function(){return g}},rotate:{get:function(){return h}},pause:{get:function(){return i}},jumpTime:{get:function(){return j}},location:{get:function(){return k}},newWindow:{get:function(){return l}},jumpFile:{get:function(){return m}},file:{get:function(){return n}}});return r.toXmp=q,r.toPOJO=function(){var a={label:d,startTime:e,duration:f,boundingPoly:g,rotate:h,pause:i,jumpTime:j,location:k,newWindow:l,jumpFile:m,file:n},c=this,p=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(p,function(b){a[b]=c[b]}),b.forEach(b.keys(o),function(b){a[b]=o[b]}),a},r},d=function(b){var d={label:b.getAttribute("xmp:label"),startTime:Number(b.getAttribute("xmpDM:startTime")),duration:Number(b.getAttribute("xmpDM:duration")),boundingPoly:a.BoundingPoly.create(b.getAttribute("tscDM:boundingPoly")),rotate:Number(b.getAttribute("tscDM:rotate")),pause:"1"===b.getAttribute("tscHS:pause"),newWindow:"1"===b.getAttribute("tscHS:newWindow")};return b.getAttribute("tscHS:jumpTime")&&(d.jumpTime=Number(b.getAttribute("tscHS:jumpTime"))),d.jumpFile=b.getAttribute("tscHS:jumpFile")||void 0,d.location=b.getAttribute("xmpDM:location")||void 0,d.file=b.getAttribute("tscDM:file")||void 0,new c(d)};a.Hotspot={create:function(a){return new c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c=function(c){var d=[],e=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);if(c){if(!c.hasOwnProperty("hotspots")||!b.isArray(c.hotspots))throw new Error("HotspotTrack params is expecting an object eg. { hotspots: [hotspot1Object, ...] }");d=c.hotspots}var f=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmpDM:trackType":"Hotspot","xmpDM:trackName":"Hotspots","xmpDM:frameRate":"f1000"},children:[{name:"xmpDM:markers",children:[{name:"rdf:Seq",children:d}]}]}]};return e.createElementFromObject(a)},g=Object.defineProperties({},{hotspots:{get:function(){return d}}});return g.toXmp=f,g.toPOJO=function(){var a={hotspots:b.invokeMap(d,"toPOJO")},c=this,e=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(e,function(b){a[b]=c[b]}),a},g},d=function(d){var e=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),f=new c;if(d){var g=e.getElementsByTagNameNSPrefix(d,"rdf:Description"),h=b.map(g,a.Hotspot.createFromXmpElement),i={hotspots:h};f=new c(i)}return f};a.HotspotTrack={create:function(a){return new c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c=function(a){var c,d,e,f;if(b.isString(a)){var g=a.split(",");c=Number(g[0]),d=Number(g[1]),e=Number(g[2]),f=Number(g[3])}else{if(!b.isObject(a))throw new Error('ImageRectangle is expecting a rectangle property string format: "x, y, width, height"');c=a.x,d=a.y,e=a.width,f=a.height}var h=Object.defineProperties({},{x:{get:function(){return c}},y:{get:function(){return d}},width:{get:function(){return e}},height:{get:function(){return f}}});return h.toPOJO=function(){return{x:c,y:d,width:e,height:f}},h.toXmpAtt=function(){return[c,d,e,f].join(", ")},h};a.ImageRectangle={create:function(a){return new c(a)}}}(d,a),function(a,b){"use strict";var c=function(c){var d,e,f={},g=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);c&&b.forEach(b.keys(c),function(a){"orderId"===a?d=c.orderId:"text"===a?e=c.text:b.isFunction(f[a])||(f[a]=c[a])});var h=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"tscIQ:orderId":d},children:[{name:"tscIQ:answer",text:e}]}]};return g.createElementFromObject(a)},i=Object.defineProperties({},{orderId:{get:function(){return d}},text:{get:function(){return e}}});return i.toXmp=h,i.toPOJO=function(){var a={orderId:d,text:e},c=this,g=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(g,function(b){a[b]=c[b]}),b.forEach(b.keys(f),function(b){a[b]=f[b]}),a},i},d=function(b){var d=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),e=d.getFirstChildElementTextByTagNameNSPrefix(b,"tscIQ:answer"),f={orderId:Number(b.getAttribute("tscIQ:orderId")),text:e};return new c(f)};a.Answer={create:function(a){return new c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c=function(c){var d,e,f,g,h,i,j={},k=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);c&&b.forEach(b.keys(c),function(k){"reason"===k?d=c.reason:"text"===k?(g=c.text,h=a.Rtf.toText(g),i=a.Rtf.toHtml(g)):"jumpToTime"===k?e=c.jumpToTime:"location"===k?f=c.location:b.isFunction(j[k])||(j[k]=c[k])});var l=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"tscIQ:reason":d,"tscIQ:jumpToTime":e,"tscIQ:location":f},children:[{name:"xmpDM:name",children:[{name:"rdf:Alt",children:[{name:"rdf:li",atts:{"xml:lang":"en-US"},text:g}]}]}]}]};return k.createElementFromObject(a)},m=Object.defineProperties({},{reason:{get:function(){return d}},jumpToTime:{get:function(){return e}},location:{get:function(){return f}},text:{get:function(){return g}},plainText:{get:function(){return h}},markupText:{get:function(){return i}}});return m.toXmp=l,m.toPOJO=function(){var a={reason:d,jumpToTime:e,location:f,text:g,plainText:h,markupText:i},c=this,k=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(k,function(b){a[b]=c[b]}),b.forEach(b.keys(j),function(b){a[b]=j[b]}),a},m},d=function(b){var d=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),e=d.getFirstChildElementTextByTagNameNSPrefix(b,"rdf:li"),f={reason:b.getAttribute("tscIQ:reason"),text:e};return b.getAttribute("tscIQ:jumpToTime")&&(f.jumpToTime=Number(b.getAttribute("tscIQ:jumpToTime"))),f.location=b.getAttribute("tscIQ:location")||void 0,c(f)};a.Feedback={create:function(a){return c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c=function(c){var d,e,f,g,h=[],i=[],j={},k=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);c&&b.forEach(b.keys(c),function(a){"id"===a?d=c.id:"type"===a?e=c.type:"text"===a?f=c.text:"correctAnswer"===a?g=c.correctAnswer:"answers"===a?h=c.answers:"feedback"===a?i=c.feedback:b.isFunction(j[a])||(j[a]=c[a])});var l=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"tscIQ:id":d,"tscIQ:type":e},children:[{name:"tscIQ:question",text:f},{name:"tscIQ:correctAnswer",text:"MC"===e?g:null},{name:"tscIQ:answerArray",children:[{name:"rdf:Seq",children:h}]},{name:"tscIQ:feedback",children:[{name:"rdf:Bag",children:i}]}]}]};return k.createElementFromObject(a)},m=Object.defineProperties({},{id:{get:function(){return d}},type:{get:function(){return e}},text:{get:function(){return f}},correctAnswer:{get:function(){return g}},answers:{get:function(){return h}},feedback:{get:function(){return i}}});return m.toXmp=l,m.toPOJO=function(){var a={id:d,type:e,text:f,correctAnswer:g,answers:b.invokeMap(h,"toPOJO"),feedback:void 0!==i?b.invokeMap(i,"toPOJO"):void 0},c=this,k=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(k,function(b){a[b]=c[b]}),b.forEach(b.keys(j),function(b){a[b]=j[b]}),a},m},d=function(d){var e=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),f=e.getFirstChildElementTextByTagNameNSPrefix(d,"tscIQ:question"),g=e.getFirstChildElementTextByTagNameNSPrefix(d,"tscIQ:correctAnswer"),h=e.getElementsByTagNameNSPrefix(d,"rdf:Description"),i=b.filter(h,function(a){return e.hasAttribute(a,"tscIQ:orderId")}),j=b.map(i,a.Answer.createFromXmpElement),k=b.filter(h,function(a){return e.hasAttribute(a,"tscIQ:reason")}),l=b.map(k,a.Feedback.createFromXmpElement),m={id:Number(d.getAttribute("tscIQ:id")),type:d.getAttribute("tscIQ:type"),text:f,correctAnswer:g?Number(g):void 0,answers:j,feedback:l};return c(m)};a.Question={create:function(a){return c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c=function(c){var d,e,f,g,h,i={},j=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);c&&b.forEach(b.keys(c),function(a){"name"===a?d=c.name:"feedback"===a?e=c.feedback:"startTime"===a?f=c.startTime:"file"===a?h=c.file:"questions"===a?g=c.questions:b.isFunction(i[a])||(i[a]=c[a]);
});var k=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"tscIQ:questionSetName":d,"tscIQ:feedback":e?"1":"0","tscDM:file":h,"xmpDM:startTime":f},children:[{name:"tscIQ:questions",children:[{name:"rdf:Seq",children:g}]}]}]};return j.createElementFromObject(a)},l=Object.defineProperties({},{name:{get:function(){return d}},feedback:{get:function(){return e}},startTime:{get:function(){return f}},file:{get:function(){return h}},questions:{get:function(){return g}}});return l.toXmp=k,l.toPOJO=function(){var a={name:d,feedback:e,startTime:f,file:h,questions:b.invokeMap(g,"toPOJO")},c=this,j=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(j,function(b){a[b]=c[b]}),b.forEach(b.keys(i),function(b){a[b]=i[b]}),a},l},d=function(d){var e=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),f=e.getElementsByTagNameNSPrefix(d,"rdf:Description"),g=b.filter(f,function(a){return e.hasAttribute(a,"tscIQ:type")}),h=b.map(g,a.Question.createFromXmpElement),i={name:d.getAttribute("tscIQ:questionSetName"),feedback:"1"===d.getAttribute("tscIQ:feedback"),startTime:Number(d.getAttribute("xmpDM:startTime")),questions:h};return i.file=d.getAttribute("tscDM:file")||void 0,new c(i)};a.QuestionSet={create:function(a){return new c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c=function(c){var d,e,f,g,h,i,j,k,l,m,n=[],o=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);c&&b.forEach(b.keys(c),function(a){"quizGuid"===a?d=c.quizGuid:"authoredEmail"===a?e=c.authoredEmail:"requireUserId"===a?f=c.requireUserId:"locale"===a?g=c.locale:"reportMethod"===a?h=c.reportMethod:"clientId"===a?i=c.clientId:"quizHash"===a?j=c.quizHash:"hideReplay"===a?k=c.hideReplay:"allowSkipQuiz"===a?l=c.allowSkipQuiz:"parameters"===a&&b.isArray(c.parameters)?m=c.parameters:"questionSets"===a&&b.isArray(c.questionSets)&&(n=c.questionSets)});var p=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmpDM:trackType":"Quiz","xmpDM:trackName":"Quiz","xmpDM:frameRate":"f1000","tscIQ:clientId":i,"tscIQ:quizHash":j,"tscIQ:quizGuid":d,"tscIQ:authoredEmail":e,"tscIQ:requireUserId":f?"1":"0","tscIQ:locale":g,"tscIQ:reportMethod":h,"tscIQ:hideReplay":k?"1":"0","tscIQ:allowSkipQuiz":l?"1":"0"},children:[{name:"xmpDM:markers",children:[{name:"rdf:Seq",children:n}]},{name:"tscIQ:QuizParams",children:[{name:"rdf:Bag",children:b.map(m,function(a){return{name:"rdf:li",atts:{"xmpDM:name":a.name,"xmpDM:value":a.value}}})}]}]}]};return o.createElementFromObject(a)},q=Object.defineProperties({},{quizGuid:{get:function(){return d}},authoredEmail:{get:function(){return e}},requireUserId:{get:function(){return f}},locale:{get:function(){return g}},reportMethod:{get:function(){return h}},clientId:{get:function(){return i}},quizHash:{get:function(){return j}},hideReplay:{get:function(){return k}},allowSkipQuiz:{get:function(){return l}},parameters:{get:function(){return m}},questionSets:{get:function(){return n}}});return q.toXmp=p,q.toPOJO=function(){var a={quizGuid:d,authoredEmail:e,requireUserId:f,locale:g,reportMethod:h,clientId:i,quizHash:j,hideReplay:k,allowSkipQuiz:l,questionSets:b.invokeMap(n,"toPOJO"),parameters:m||void 0},c=this,o=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(o,function(b){a[b]=c[b]}),a},q},d=function(a){return{name:a.getAttribute("xmpDM:name"),value:a.getAttribute("xmpDM:value")}},e=function(a,c){if(a){var e=c.getElementsByTagNameNSPrefix(a,"rdf:li"),f=b.map(e,d);return f}},f=function(d){var f=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),g=new c;if(d){var h=f.getElementsByTagNameNSPrefix(d,"rdf:Description"),i=b.filter(h,function(a){return f.hasAttribute(a,"tscIQ:questionSetName")}),j=b.map(i,a.QuestionSet.createFromXmpElement),k=f.getFirstElementByTagNameNSPrefix(d,"tscIQ:QuizParams"),l={quizGuid:d.getAttribute("tscIQ:quizGuid"),authoredEmail:d.getAttribute("tscIQ:authoredEmail"),requireUserId:"1"===d.getAttribute("tscIQ:requireUserId"),locale:d.getAttribute("tscIQ:locale"),reportMethod:d.getAttribute("tscIQ:reportMethod"),clientId:d.getAttribute("tscIQ:clientId"),quizHash:d.getAttribute("tscIQ:quizHash"),hideReplay:"1"===d.getAttribute("tscIQ:hideReplay"),allowSkipQuiz:"0"!==d.getAttribute("tscIQ:allowSkipQuiz"),parameters:e(k,f),questionSets:j};g=new c(l)}return g};a.QuizTrack={create:function(a){return new c(a)},createFromXmpElement:f}}(d,a),function(a,b){"use strict";var c=function(c){var d,e,f,g,h,i,j,k,l,m={},n=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);c&&b.forEach(b.keys(c),function(a){"name"===a?d=c.name:"startTime"===a?e=c.startTime:"duration"===a?f=c.duration:"tableOfContentsEntry"===a?g=c.tableOfContentsEntry:"image"===a?h=c.image:"imageIndex"===a?i=c.imageIndex:"imageOffset"===a?j=c.imageOffset:"imageRectangle"===a?k=c.imageRectangle:"file"===a?l=c.file:b.isFunction(m[a])||(m[a]=c[a])});var o=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmpDM:name":d,"xmpDM:startTime":e,"xmpDM:duration":f,"tscDM:tocEntry":g,"tscDM:image":h,"tscDM:imageindex":i,"tscDM:imageoffset":j,"tscDM:imagerect":k?k.toXmpAtt():null,"tscDM:file":l}}]};return n.createElementFromObject(a)},p=Object.defineProperties({},{name:{get:function(){return d}},startTime:{get:function(){return e}},duration:{get:function(){return f}},tableOfContentsEntry:{get:function(){return g}},image:{get:function(){return h}},imageIndex:{get:function(){return i}},imageOffset:{get:function(){return j}},imageRectangle:{get:function(){return k}},file:{get:function(){return l}}});return p.toXmp=o,p.toPOJO=function(){var a={name:d,startTime:e,duration:f,tableOfContentsEntry:g,image:h,imageIndex:i,imageOffset:j,imageRectangle:k?k.toPOJO():k,file:l},c=this,n=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(n,function(b){a[b]=c[b]}),b.forEach(b.keys(m),function(b){a[b]=m[b]}),a},p},d=function(b){var d={name:b.getAttribute("xmpDM:name"),startTime:Number(b.getAttribute("xmpDM:startTime")),duration:Number(b.getAttribute("xmpDM:duration"))};return b.getAttribute("tscDM:tocEntry")&&(d.tableOfContentsEntry=Number(b.getAttribute("tscDM:tocEntry"))),d.image=b.getAttribute("tscDM:image")||void 0,b.getAttribute("tscDM:imageindex")&&(d.imageIndex=Number(b.getAttribute("tscDM:imageindex"))),b.getAttribute("tscDM:imageoffset")&&(d.imageOffset=Number(b.getAttribute("tscDM:imageoffset"))),b.getAttribute("tscDM:imagerect")&&(d.imageRectangle=a.ImageRectangle.create(b.getAttribute("tscDM:imagerect"))),d.file=b.getAttribute("tscDM:file")||void 0,new c(d)};a.ScreenTextMarker={create:function(a){return new c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c=function(c){var d=[],e=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);if(c){if(!c.hasOwnProperty("markers")||!b.isArray(c.markers))throw new Error("ScreenTextTrack params is expecting an object eg. { markers: [marker1Object, ...] }");d=c.markers}var f=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmpDM:trackType":"ScreenText","xmpDM:trackName":"Screen Text","xmpDM:frameRate":"f1000"},children:[{name:"xmpDM:markers",children:[{name:"rdf:Seq",children:d}]}]}]};return e.createElementFromObject(a)},g=Object.defineProperties({},{markers:{get:function(){return d}}});return g.toXmp=f,g.toPOJO=function(){var a={markers:b.invokeMap(d,"toPOJO")},c=this,e=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(e,function(b){a[b]=c[b]}),a},g},d=function(d){var e=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),f=new c;if(d){var g=e.getElementsByTagNameNSPrefix(d,"rdf:Description"),h=b.map(g,a.ScreenTextMarker.createFromXmpElement),i={markers:h};f=new c(i)}return f};a.ScreenTextTrack={create:function(a){return new c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c=function(c){var d,e,f,g,h,i,j,k,l,m={},n=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);c&&b.forEach(b.keys(c),function(a){"startTime"===a?d=c.startTime:"duration"===a?e=c.duration:"name"===a?f=c.name:"probability"===a?g=c.probability:"image"===a?h=c.image:"imageIndex"===a?i=c.imageIndex:"imageOffset"===a?j=c.imageOffset:"file"===a?k=c.file:"imageRectangle"===a?l=c.imageRectangle:b.isFunction(m[a])||(m[a]=c[a])});var o=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmpDM:name":f,"xmpDM:startTime":d,"xmpDM:duration":e,"xmpDM:probability":g,"tscDM:image":h,"tscDM:imageindex":i,"tscDM:imageoffset":j,"tscDM:imagerect":l?l.toXmpAtt():null,"tscDM:file":k}}]};return n.createElementFromObject(a)},p=Object.defineProperties({},{startTime:{get:function(){return d}},duration:{get:function(){return e}},name:{get:function(){return f}},probability:{get:function(){return g}},image:{get:function(){return h}},imageIndex:{get:function(){return i}},imageOffset:{get:function(){return j}},file:{get:function(){return k}},imageRectangle:{get:function(){return l}}});return p.toXmp=o,p.toPOJO=function(){var a={startTime:d,duration:e,name:f,probability:g,image:h,imageIndex:i,imageOffset:j,file:k,imageRectangle:l?l.toPOJO():void 0},c=this,n=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(n,function(b){a[b]=c[b]}),b.forEach(b.keys(m),function(b){a[b]=m[b]}),a},p},d=function(b){var d={startTime:Number(b.getAttribute("xmpDM:startTime")),duration:Number(b.getAttribute("xmpDM:duration")),name:b.getAttribute("xmpDM:name"),probability:Number(b.getAttribute("xmpDM:probability"))};return d.image=b.getAttribute("tscDM:image")||void 0,b.getAttribute("tscDM:imageindex")&&(d.imageIndex=Number(b.getAttribute("tscDM:imageindex"))),b.getAttribute("tscDM:imageoffset")&&(d.imageOffset=Number(b.getAttribute("tscDM:imageoffset"))),d.file=b.getAttribute("tscDM:file")||void 0,b.getAttribute("tscDM:imagerect")&&(d.imageRectangle=a.ImageRectangle.create(b.getAttribute("tscDM:imagerect"))),new c(d)};a.SpeechMarker={create:function(a){return new c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c=function(c){var d=[],e=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);if(c){if(!c.hasOwnProperty("markers")||!b.isArray(c.markers))throw new Error("SpeechTrack params is expecting an object eg. { markers: [marker1Object, ...] }");d=c.markers}var f=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmpDM:trackType":"Speech","xmpDM:trackName":"Speech to Text","xmpDM:frameRate":"f1000"},children:[{name:"xmpDM:markers",children:[{name:"rdf:Seq",children:d}]}]}]};return e.createElementFromObject(a)},g=Object.defineProperties({},{markers:{get:function(){return d}}});return g.toXmp=f,g.toPOJO=function(){var a={markers:b.invokeMap(d,"toPOJO")},c=this,e=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(e,function(b){a[b]=c[b]}),a},g},d=function(d){var e=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),f=new c;if(d){var g=e.getElementsByTagNameNSPrefix(d,"rdf:li"),h=b.map(g,a.SpeechMarker.createFromXmpElement),i={markers:h};f=new c(i)}return f};a.SpeechTrack={create:function(a){return new c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c=function(c){var d,e,f,g,h,i,j,k={},l=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);c&&b.forEach(b.keys(c),function(a){"name"===a?d=c.name:"startTime"===a?e=c.startTime:"image"===a?f=c.image:"imageIndex"===a?g=c.imageIndex:"imageOffset"===a?h=c.imageOffset:"imageRectangle"===a?i=c.imageRectangle:"file"===a?j=c.file:b.isFunction(k[a])||(k[a]=c[a])});var m=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmpDM:name":d,"xmpDM:startTime":e,"tscDM:image":f,"tscDM:imageindex":g,"tscDM:imageoffset":h,"tscDM:imagerect":i?i.toXmpAtt():null,"tscDM:file":j}}]};return l.createElementFromObject(a)},n=Object.defineProperties({},{name:{get:function(){return d}},startTime:{get:function(){return e}},image:{get:function(){return f}},imageIndex:{get:function(){return g}},imageOffset:{get:function(){return h}},imageRectangle:{get:function(){return i}},file:{get:function(){return j}}});return n.toXmp=m,n.toPOJO=function(){var a={name:d,startTime:e,image:f,imageIndex:g,imageOffset:h,imageRectangle:i?i.toPOJO():void 0,file:j},c=this,l=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(l,function(b){a[b]=c[b]}),b.forEach(b.keys(k),function(b){a[b]=k[b]}),a},n},d=function(b){var d={name:b.getAttribute("xmpDM:name"),startTime:Number(b.getAttribute("xmpDM:startTime"))};return d.image=b.getAttribute("tscDM:image")||void 0,b.getAttribute("tscDM:imageindex")&&(d.imageIndex=Number(b.getAttribute("tscDM:imageindex"))),b.getAttribute("tscDM:imageoffset")&&(d.imageOffset=Number(b.getAttribute("tscDM:imageoffset"))),d.file=b.getAttribute("tscDM:file")||void 0,b.getAttribute("tscDM:imagerect")&&(d.imageRectangle=a.ImageRectangle.create(b.getAttribute("tscDM:imagerect"))),new c(d)};a.TableOfContentsItem={create:function(a){return new c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c=function(c){var d=[],e=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver);if(c){if(!c.hasOwnProperty("items")||!b.isArray(c.items))throw new Error("TableOfContentsTrack params is expecting an object eg. { items: [item1Object, ...] }");d=c.items}var f=function(){var a={name:"rdf:li",children:[{name:"rdf:Description",atts:{"xmpDM:trackType":"TableOfContents","xmpDM:trackName":"Table of Contents","xmpDM:frameRate":"f1000","tscDM:image":c?c.image:void 0,"tscDM:tocCellLayout":c?c.cellLayout:void 0},children:[{name:"xmpDM:markers",children:[{name:"rdf:Seq",children:d}]}]}]};return e.createElementFromObject(a)},g=Object.defineProperties({},{image:{get:function(){return c.image}},cellLayout:{get:function(){return c.cellLayout}},items:{get:function(){return d}}});return g.toXmp=f,g.toPOJO=function(){var a={image:c.image,cellLayout:c.cellLayout,items:b.invokeMap(d,"toPOJO")},e=this,f=b.reject(b.keys(e),function(a){return b.isFunction(e[a])});return b.forEach(f,function(b){a[b]=e[b]}),a},g},d=function(d){var e=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),f=new c;if(d){var g=e.getElementsByTagNameNSPrefix(d,"rdf:Description"),h=d.getAttribute("tscDM:image"),i=d.getAttribute("tscDM:tocCellLayout"),j=b.map(g,a.TableOfContentsItem.createFromXmpElement),k={image:h,cellLayout:i,items:j};f=new c(k)}return f};a.TableOfContentsTrack={create:function(a){return new c(a)},createFromXmpElement:d}}(d,a),function(a,b){"use strict";var c={x:"adobe:ns:meta/",xml:"http://www.w3.org/1999/xhtml",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",dc:"http://purl.org/dc/elements/1.1/",exif:"http://ns.adobe.com/exif/1.0",stDim:"http://ns.adobe.com/xap/1.0/sType/Dimensions#",stFnt:"http://ns.adobe.com/xap/1.0/sType/Font#",tsc:"http://www.techsmith.com/xmp/tsc/",tscDM:"http://www.techsmith.com/xmp/tscDM/",tscHS:"http://www.techsmith.com/xmp/tscHS/",tscIQ:"http://www.techsmith.com/xmp/tscIQ/",xmp:"http://ns.adobe.com/xap/1.0/",xmpDM:"http://ns.adobe.com/xmp/1.0/DynamicMedia/",xmpG:"http://ns.adobe.com/xap/1.0/g/",xmpMM:"http://ns.adobe.com/xap/1.0/mm/"},d=function(a){return c[a]||null},e=function(e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=[],F=!1,G=!1,H=!1,I=!1,J=!1,K=!1,L=!1,M=!1,N=new a.NamespaceXmlUtility(a.Xmp.namespaceResolver),O=function(){var a=b.filter([w,x,z,B,A,y],function(a){return null!==a}),c={name:"rdf:Description",atts:{"tsc:version":f,"dc:title":g,"tscDM:presenteremail":j,"dc:source":l,"dc:date":h,"rdf:about":m,"dc:creator":i,"dc:description":k,"tscDM:keywords":n,"tscDM:thumbnail":o,"tscDM:firstFrame":p,"tscDM:project":q,"tscDM:originId":r,"tscDM:iPodExplicit":s,"xmpMM:DocumentID":t},children:[{name:"xmpDM:Tracks",children:[{name:"rdf:Bag",children:a}]},{name:"tscDM:controller",children:[C]},{name:"tscDM:contentList",children:[D]},{name:"tsc:langName",children:[{name:"rdf:Bag",children:b.map(E,function(a){return{name:"rdf:li",atts:{"xml:lang":a.langName},text:a.langValue}})}]},{name:"xmpDM:videoFrameSize",atts:{"stDim:unit":v.unit,"stDim:w":v.width,"stDim:h":v.height}}]};return u&&c.children.push({name:"xmpDM:duration",atts:{"xmpDM:scale":u.scale,"xmpDM:value":u.value}}),N.createElementFromObject(c)},P=function(){var a=N.createDocument(),e=N.createElementNS(a,d("x"),"x","xmpmeta");b.forEach(c,function(a,b){"xml"!==b&&e.setAttributeNS("http://www.w3.org/2000/xmlns/",["xmlns",b].join(":"),a)});var f=N.createElementNS(a,d("rdf"),"rdf","RDF");return f.appendChild(O()),e.appendChild(f),a.appendChild(e),N.xmlDocToString(a)},Q=Object.defineProperties({},{version:{get:function(){return f}},title:{get:function(){return g}},date:{get:function(){return h}},creator:{get:function(){return i}},presenterEmail:{get:function(){return j}},description:{get:function(){return k}},source:{get:function(){return l}},about:{get:function(){return m}},keywords:{get:function(){return n}},thumbnail:{get:function(){return o}},firstFrame:{get:function(){return p}},project:{get:function(){return q}},originId:{get:function(){return r}},iPodExplicit:{get:function(){return s}},documentId:{get:function(){return t}},duration:{get:function(){return u}},videoFrameSize:{get:function(){return v}},tocThumbnailImageSrc:{get:function(){return G&&void 0!==y.items[0].image?y.items[0].image:M&&void 0!==A.markers[0].image?A.markers[0].image:L&&void 0!==B.markers[0].image?B.markers[0].image:H&&void 0!==w.captionCollection.captions[0].image?w.captionCollection.captions[0].image:""}},containsTocThumbnails:{get:function(){return F}},containsToc:{get:function(){return G}},containsCaptions:{get:function(){return H}},containsHotspots:{get:function(){return I}},containsQuiz:{get:function(){return J}},containsQuizQuestions:{get:function(){return K}},containsScreenText:{get:function(){return L}},containsSpeechText:{get:function(){return M}},captionTrack:{get:function(){return w},set:function(a){w=a}},hotspotTrack:{get:function(){return x},set:function(a){x=a}},tableOfContentsTrack:{get:function(){return y},set:function(a){y=a}},quizTrack:{get:function(){return z},set:function(a){z=a}},speechTrack:{get:function(){return A}},screenTextTrack:{get:function(){return B}},controller:{get:function(){return C}},contentList:{get:function(){return D}}}),R=function(a){return{langName:a.getAttribute("xml:lang"),langValue:N.getElementText(a)}},S=function(a){if(a){var c=N.getElementsByTagNameNSPrefix(a,"rdf:li"),d=b.map(c,R);return d}return null},T=function(a){var b=N.getFirstElementByTagNameNSPrefix(a,"rdf:Description");f=b.getAttribute("tsc:version"),g=b.getAttribute("dc:title"),t=b.getAttribute("xmpMM:DocumentID");var c=N.getFirstElementByTagNameNSPrefix(a,"xmpDM:videoFrameSize");v={unit:c?c.getAttribute("stDim:unit"):"pixel",width:c?Number(c.getAttribute("stDim:w")):0,height:c?Number(c.getAttribute("stDim:h")):0};var d=N.getFirstElementByTagNameNSPrefix(a,"tsc:langName");E=S(d),j=b.getAttribute("tscDM:presenteremail")||void 0,l=b.getAttribute("dc:source")||void 0,h=b.getAttribute("dc:date")||void 0,m=b.getAttribute("rdf:about")||void 0,i=b.getAttribute("dc:creator")||void 0,k=b.getAttribute("dc:description")||void 0,n=b.getAttribute("tscDM:keywords")||void 0,o=b.getAttribute("tscDM:thumbnail")||void 0,p=b.getAttribute("tscDM:firstFrame")||void 0,q=b.getAttribute("tscDM:project")||void 0,r=b.getAttribute("tscDM:originId")||void 0,s=b.getAttribute("tscDM:iPodExplicit")||void 0;var e=N.getFirstElementByTagNameNSPrefix(a,"xmpDM:duration")||void 0;e&&(u={scale:e.getAttribute("xmpDM:scale"),value:Number(e.getAttribute("xmpDM:value"))})},U=function(a,c){return b.find(a,function(a){return N.hasAttributeWithValue(a,"xmpDM:trackType",c)})},V=function(b){var c=U(b,"Caption");return c?a.CaptionTrack.createFromXmpElement(c):null},W=function(b){var c=U(b,"Hotspot");return c?a.HotspotTrack.createFromXmpElement(c):null},X=function(b){var c=U(b,"TableOfContents");return c?a.TableOfContentsTrack.createFromXmpElement(c):null},Y=function(b){var c=U(b,"Quiz");return c?a.QuizTrack.createFromXmpElement(c):null},Z=function(b){var c=U(b,"Speech");return c?a.SpeechTrack.createFromXmpElement(c):null},$=function(b){var c=U(b,"ScreenText");return c?a.ScreenTextTrack.createFromXmpElement(c):null},_=function(b){var c=N.getFirstElementByTagNameNSPrefix(b,"xmpDM:Tracks"),d=N.getElementsByTagNameNSPrefix(c,"rdf:Description");w=V(d),x=W(d),y=X(d),z=Y(d),A=Z(d),B=$(d);var e=N.getFirstElementByTagNameNSPrefix(b,"tscDM:controller");C=a.Controller.createFromXmpElement(e);var f=N.getFirstElementByTagNameNSPrefix(b,"tscDM:contentList");D=a.ContentList.createFromXmpElement(f),aa()},aa=function(){G=null!==y&&y.items.length>0,H=null!==w&&w.captionCollection.captions.length>0,I=null!==x&&x.hotspots.length>0,J=null!==z,K=null!==z&&z.questionSets.length>0,L=null!==B&&B.markers.length>0,M=null!==A&&A.markers.length>0,F=G&&void 0!==y.items[0].image||M&&void 0!==A.markers[0].image||L&&void 0!==B.markers[0].image||H&&void 0!==w.captionCollection.captions[0].image},ba=function(){var a=N.parseXml(e);T(a),_(a)};return ba(),Q.toXmp=O,Q.toString=P,Q.toPOJO=function(){var a={version:f,title:g,documentId:t,languages:E,videoFrameSize:v,source:l,presenterEmail:j,date:h,about:m,creator:i,description:k,keywords:n,thumbnail:o,firstFrame:p,project:q,originId:r,iPodExplicit:s,duration:u,captionTrack:w?w.toPOJO():void 0,hotspotTrack:x?x.toPOJO():void 0,quizTrack:z?z.toPOJO():void 0,speechTrack:A?w.toPOJO():void 0,screenTextTrack:B?w.toPOJO():void 0,controller:C?C.toPOJO():void 0,contentList:D?D.toPOJO():void 0},c=this,d=b.reject(b.keys(c),function(a){return b.isFunction(c[a])});return b.forEach(d,function(b){a[b]=c[b]}),a},Q};a.Xmp={create:function(a){return new e(a)},namespaceResolver:d}}(d,a),d}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.PointerEventsPolyfill=b()}(this,function(){"use strict";function a(a,b){b=b||Object.create(null);var c=document.createEvent("Event");c.initEvent(a,b.bubbles||!1,b.cancelable||!1);for(var d,e=2;e<m.length;e++)d=m[e],c[d]=b[d]||n[e];c.buttons=b.buttons||0;var f=0;return f=b.pressure&&c.buttons?b.pressure:c.buttons?.5:0,c.x=c.clientX,c.y=c.clientY,c.pointerId=b.pointerId||0,c.width=b.width||0,c.height=b.height||0,c.pressure=f,c.tiltX=b.tiltX||0,c.tiltY=b.tiltY||0,c.twist=b.twist||0,c.tangentialPressure=b.tangentialPressure||0,c.pointerType=b.pointerType||"",c.hwTimestamp=b.hwTimestamp||0,c.isPrimary=b.isPrimary||!1,c}function b(){this.array=[],this.size=0}function c(a,b,c,d){this.addCallback=a.bind(d),this.removeCallback=b.bind(d),this.changedCallback=c.bind(d),A&&(this.observer=new A(this.mutationWatcher.bind(this)))}function d(a){return"body /shadow-deep/ "+e(a)}function e(a){return'[touch-action="'+a+'"]'}function f(a){return"{ -ms-touch-action: "+a+"; touch-action: "+a+"; }"}function g(){if(F){D.forEach(function(a){String(a)===a?(E+=e(a)+f(a)+"\n",G&&(E+=d(a)+f(a)+"\n")):(E+=a.selectors.map(e)+f(a.rule)+"\n",G&&(E+=a.selectors.map(d)+f(a.rule)+"\n"))});var a=document.createElement("style");a.textContent=E,document.head.appendChild(a)}}function h(){if(!window.PointerEvent){if(window.PointerEvent=a,window.navigator.msPointerEnabled){var b=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:b,enumerable:!0}),u.registerSource("ms",$)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",M),void 0!==window.ontouchstart&&u.registerSource("touch",U);u.register(document)}}function i(a){if(!u.pointermap.has(a)){var b=new Error("InvalidPointerId");throw b.name="InvalidPointerId",b}}function j(a){for(var b=a.parentNode;b&&b!==a.ownerDocument;)b=b.parentNode;if(!b){var c=new Error("InvalidStateError");throw c.name="InvalidStateError",c}}function k(a){var b=u.pointermap.get(a);return 0!==b.buttons}function l(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:V},releasePointerCapture:{value:W},hasPointerCapture:{value:X}})}var m=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],n=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],o=window.Map&&window.Map.prototype.forEach,p=o?Map:b;b.prototype={set:function(a,b){return void 0===b?this.delete(a):(this.has(a)||this.size++,void(this.array[a]=b))},has:function(a){return void 0!==this.array[a]},delete:function(a){this.has(a)&&(delete this.array[a],this.size--)},get:function(a){return this.array[a]},clear:function(){this.array.length=0,this.size=0},forEach:function(a,b){return this.array.forEach(function(c,d){a.call(b,c,d,this)},this)}};var q=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],r=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},t="undefined"!=typeof SVGElementInstance,u={pointermap:new p,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(a,b){var c=b,d=c.events;d&&(d.forEach(function(a){c[a]&&(this.eventMap[a]=c[a].bind(c))},this),this.eventSources[a]=c,this.eventSourceList.push(c))},register:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)b.register.call(b,a)},unregister:function(a){for(var b,c=this.eventSourceList.length,d=0;d<c&&(b=this.eventSourceList[d]);d++)b.unregister.call(b,a)},contains:function(a,b){try{return a.contains(b)}catch(a){return!1}},down:function(a){a.bubbles=!0,this.fireEvent("pointerdown",a)},move:function(a){a.bubbles=!0,this.fireEvent("pointermove",a)},up:function(a){a.bubbles=!0,this.fireEvent("pointerup",a)},enter:function(a){a.bubbles=!1,this.fireEvent("pointerenter",a)},leave:function(a){a.bubbles=!1,this.fireEvent("pointerleave",a)},over:function(a){a.bubbles=!0,this.fireEvent("pointerover",a)},out:function(a){a.bubbles=!0,this.fireEvent("pointerout",a)},cancel:function(a){a.bubbles=!0,this.fireEvent("pointercancel",a)},leaveOut:function(a){this.out(a),this.propagate(a,this.leave,!1)},enterOver:function(a){this.over(a),this.propagate(a,this.enter,!0)},eventHandler:function(a){if(!a._handledByPE){var b=a.type,c=this.eventMap&&this.eventMap[b];c&&c(a),a._handledByPE=!0}},listen:function(a,b){b.forEach(function(b){this.addEvent(a,b)},this)},unlisten:function(a,b){b.forEach(function(b){this.removeEvent(a,b)},this)},addEvent:function(a,b){a.addEventListener(b,this.boundHandler)},removeEvent:function(a,b){a.removeEventListener(b,this.boundHandler)},makeEvent:function(b,c){this.captureInfo[c.pointerId]&&(c.relatedTarget=null);var d=new a(b,c);return c.preventDefault&&(d.preventDefault=c.preventDefault),d._target=d._target||c.target,d},fireEvent:function(a,b){var c=this.makeEvent(a,b);return this.dispatchEvent(c)},cloneEvent:function(a){for(var b,c=Object.create(null),d=0;d<q.length;d++)b=q[d],c[b]=a[b]||r[d],!t||"target"!==b&&"relatedTarget"!==b||c[b]instanceof SVGElementInstance&&(c[b]=c[b].correspondingUseElement);return a.preventDefault&&(c.preventDefault=function(){a.preventDefault()}),c},getTarget:function(a){var b=this.captureInfo[a.pointerId];return b?a._target!==b&&a.type in s?void 0:b:a._target},propagate:function(a,b,c){for(var d=a.target,e=[];d!==document&&!d.contains(a.relatedTarget);)if(e.push(d),d=d.parentNode,!d)return;c&&e.reverse(),e.forEach(function(c){a.target=c,b.call(this,a)},this)},setCapture:function(b,c,d){this.captureInfo[b]&&this.releaseCapture(b,d),this.captureInfo[b]=c,this.implicitRelease=this.releaseCapture.bind(this,b,d),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var e=new a("gotpointercapture");e.pointerId=b,e._target=c,d||this.asyncDispatchEvent(e)},releaseCapture:function(b,c){var d=this.captureInfo[b];if(d){this.captureInfo[b]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var e=new a("lostpointercapture");e.pointerId=b,e._target=d,c||this.asyncDispatchEvent(e)}},dispatchEvent:function(a){var b=this.getTarget(a);if(b)return b.dispatchEvent(a)},asyncDispatchEvent:function(a){requestAnimationFrame(this.dispatchEvent.bind(this,a))}};u.boundHandler=u.eventHandler.bind(u);var v={shadow:function(a){if(a)return a.shadowRoot||a.webkitShadowRoot},canTarget:function(a){return a&&Boolean(a.elementFromPoint)},targetingShadow:function(a){var b=this.shadow(a);if(this.canTarget(b))return b},olderShadow:function(a){var b=a.olderShadowRoot;if(!b){var c=a.querySelector("shadow");c&&(b=c.olderShadowRoot)}return b},allShadows:function(a){for(var b=[],c=this.shadow(a);c;)b.push(c),c=this.olderShadow(c);return b},searchRoot:function(a,b,c){if(a){var d,e,f=a.elementFromPoint(b,c);for(e=this.targetingShadow(f);e;){if(d=e.elementFromPoint(b,c)){var g=this.targetingShadow(d);return this.searchRoot(g,b,c)||d}e=this.olderShadow(e)}return f}},owner:function(a){for(var b=a;b.parentNode;)b=b.parentNode;return b.nodeType!==Node.DOCUMENT_NODE&&b.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(b=document),b},findTarget:function(a){var b=a.clientX,c=a.clientY,d=this.owner(a.target);return d.elementFromPoint(b,c)||(d=document),this.searchRoot(d,b,c)}},w=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Array.prototype.map.call.bind(Array.prototype.map),y=Array.prototype.slice.call.bind(Array.prototype.slice),z=Array.prototype.filter.call.bind(Array.prototype.filter),A=window.MutationObserver||window.WebKitMutationObserver,B="[touch-action]",C={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};c.prototype={watchSubtree:function(a){this.observer&&v.canTarget(a)&&this.observer.observe(a,C)},enableOnSubtree:function(a){this.watchSubtree(a),a===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(a)},installNewSubtree:function(a){w(this.findElements(a),this.addElement,this)},findElements:function(a){return a.querySelectorAll?a.querySelectorAll(B):[]},removeElement:function(a){this.removeCallback(a)},addElement:function(a){this.addCallback(a)},elementChanged:function(a,b){this.changedCallback(a,b)},concatLists:function(a,b){return a.concat(y(b))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(a){return a.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(a){var b=x(a,this.findElements,this);return b.push(z(a,this.isElement)),b.reduce(this.concatLists,[])},mutationWatcher:function(a){a.forEach(this.mutationHandler,this)},mutationHandler:function(a){if("childList"===a.type){var b=this.flattenMutationTree(a.addedNodes);b.forEach(this.addElement,this);var c=this.flattenMutationTree(a.removedNodes);c.forEach(this.removeElement,this)}else"attributes"===a.type&&this.elementChanged(a.target,a.oldValue)}};var D=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],E="",F=window.PointerEvent||window.MSPointerEvent,G=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,H=u.pointermap,I=25,J=[1,4,2,8,16],K=!1;try{K=1===new MouseEvent("test",{buttons:1}).buttons}catch(a){}var L,M={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(a){for(var b,c=this.lastTouches,d=a.clientX,e=a.clientY,f=0,g=c.length;f<g&&(b=c[f]);f++){var h=Math.abs(d-b.x),i=Math.abs(e-b.y);if(h<=I&&i<=I)return!0}},prepareEvent:function(a){var b=u.cloneEvent(a),c=b.preventDefault;return b.preventDefault=function(){
a.preventDefault(),c()},b.pointerId=this.POINTER_ID,b.isPrimary=!0,b.pointerType=this.POINTER_TYPE,b},prepareButtonsForMove:function(a,b){var c=H.get(this.POINTER_ID);0!==b.which&&c?a.buttons=c.buttons:a.buttons=0,b.buttons=a.buttons},mousedown:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);K||(c.buttons=J[c.button],b&&(c.buttons|=b.buttons),a.buttons=c.buttons),H.set(this.POINTER_ID,a),b&&0!==b.buttons?u.move(c):u.down(c)}},mousemove:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.move(b)}},mouseup:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=H.get(this.POINTER_ID),c=this.prepareEvent(a);if(!K){var d=J[c.button];c.buttons=b?b.buttons&~d:0,a.buttons=c.buttons}H.set(this.POINTER_ID,a),c.buttons&=~J[c.button],0===c.buttons?u.up(c):u.move(c)}},mouseover:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,H.set(this.POINTER_ID,a),u.enterOver(b)}},mouseout:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);K||this.prepareButtonsForMove(b,a),b.button=-1,u.leaveOut(b)}},cancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.deactivateMouse()},deactivateMouse:function(){H.delete(this.POINTER_ID)}},N=u.captureInfo,O=v.findTarget.bind(v),P=v.allShadows.bind(v),Q=u.pointermap,R=2500,S=200,T="touch-action",U={events:["touchstart","touchmove","touchend","touchcancel"],register:function(a){L.enableOnSubtree(a)},unregister:function(){},elementAdded:function(a){var b=a.getAttribute(T),c=this.touchActionToScrollType(b);c&&(a._scrollType=c,u.listen(a,this.events),P(a).forEach(function(a){a._scrollType=c,u.listen(a,this.events)},this))},elementRemoved:function(a){a._scrollType=void 0,u.unlisten(a,this.events),P(a).forEach(function(a){a._scrollType=void 0,u.unlisten(a,this.events)},this)},elementChanged:function(a,b){var c=a.getAttribute(T),d=this.touchActionToScrollType(c),e=this.touchActionToScrollType(b);d&&e?(a._scrollType=d,P(a).forEach(function(a){a._scrollType=d},this)):e?this.elementRemoved(a):d&&this.elementAdded(a)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(a){var b=a,c=this.scrollTypes;return"none"===b?"none":b===c.XSCROLLER?"X":b===c.YSCROLLER?"Y":c.SCROLLER.exec(b)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(a){return this.firstTouch===a.identifier},setPrimaryTouch:function(a){(0===Q.size||1===Q.size&&Q.has(1))&&(this.firstTouch=a.identifier,this.firstXY={X:a.clientX,Y:a.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(a){a.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var a=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(a,S)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(a){var b=0;return"touchstart"!==a&&"touchmove"!==a||(b=1),b},touchToPointer:function(a){var b=this.currentTouchEvent,c=u.cloneEvent(a),d=c.pointerId=a.identifier+2;c.target=N[d]||O(c),c.bubbles=!0,c.cancelable=!0,c.detail=this.clickCount,c.button=0,c.buttons=this.typeToButtons(b.type),c.width=2*(a.radiusX||a.webkitRadiusX||0),c.height=2*(a.radiusY||a.webkitRadiusY||0),c.pressure=a.force||a.webkitForce||.5,c.isPrimary=this.isPrimaryTouch(a),c.pointerType=this.POINTER_TYPE,c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey;var e=this;return c.preventDefault=function(){e.scrolling=!1,e.firstXY=null,b.preventDefault()},c},processTouches:function(a,b){var c=a.changedTouches;this.currentTouchEvent=a;for(var d,e=0;e<c.length;e++)d=c[e],b.call(this,this.touchToPointer(d))},shouldScroll:function(a){if(this.firstXY){var b,c=a.currentTarget._scrollType;if("none"===c)b=!1;else if("XY"===c)b=!0;else{var d=a.changedTouches[0],e=c,f="Y"===c?"X":"Y",g=Math.abs(d["client"+e]-this.firstXY[e]),h=Math.abs(d["client"+f]-this.firstXY[f]);b=g>=h}return this.firstXY=null,b}},findTouch:function(a,b){for(var c,d=0,e=a.length;d<e&&(c=a[d]);d++)if(c.identifier===b)return!0},vacuumTouches:function(a){var b=a.touches;if(Q.size>=b.length){var c=[];Q.forEach(function(a,d){if(1!==d&&!this.findTouch(b,d-2)){var e=a.out;c.push(e)}},this),c.forEach(this.cancelOut,this)}},touchstart:function(a){this.vacuumTouches(a),this.setPrimaryTouch(a.changedTouches[0]),this.dedupSynthMouse(a),this.scrolling||(this.clickCount++,this.processTouches(a,this.overDown))},overDown:function(a){Q.set(a.pointerId,{target:a.target,out:a,outTarget:a.target}),u.enterOver(a),u.down(a)},touchmove:function(a){this.scrolling||(this.shouldScroll(a)?(this.scrolling=!0,this.touchcancel(a)):(a.preventDefault(),this.processTouches(a,this.moveOverOut)))},moveOverOut:function(a){var b=a,c=Q.get(b.pointerId);if(c){var d=c.out,e=c.outTarget;u.move(b),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(u.leaveOut(d),u.enterOver(b)):(b.target=e,b.relatedTarget=null,this.cancelOut(b))),c.out=b,c.outTarget=b.target}},touchend:function(a){this.dedupSynthMouse(a),this.processTouches(a,this.upOut)},upOut:function(a){this.scrolling||(u.up(a),u.leaveOut(a)),this.cleanUpPointer(a)},touchcancel:function(a){this.processTouches(a,this.cancelOut)},cancelOut:function(a){u.cancel(a),u.leaveOut(a),this.cleanUpPointer(a)},cleanUpPointer:function(a){Q.delete(a.pointerId),this.removePrimaryPointer(a)},dedupSynthMouse:function(a){var b=M.lastTouches,c=a.changedTouches[0];if(this.isPrimaryTouch(c)){var d={x:c.clientX,y:c.clientY};b.push(d);var e=function(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)}.bind(null,b,d);setTimeout(e,R)}}};L=new c(U.elementAdded,U.elementRemoved,U.elementChanged,U);var V,W,X,Y=u.pointermap,Z=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,$={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(a){u.listen(a,this.events)},unregister:function(a){u.unlisten(a,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(a){var b=a;return Z&&(b=u.cloneEvent(a),b.pointerType=this.POINTER_TYPES[a.pointerType]),b},cleanup:function(a){Y.delete(a)},MSPointerDown:function(a){Y.set(a.pointerId,a);var b=this.prepareEvent(a);u.down(b)},MSPointerMove:function(a){var b=this.prepareEvent(a);u.move(b)},MSPointerUp:function(a){var b=this.prepareEvent(a);u.up(b),this.cleanup(a.pointerId)},MSPointerOut:function(a){var b=this.prepareEvent(a);u.leaveOut(b)},MSPointerOver:function(a){var b=this.prepareEvent(a);u.enterOver(b)},MSPointerCancel:function(a){var b=this.prepareEvent(a);u.cancel(b),this.cleanup(a.pointerId)},MSLostPointerCapture:function(a){var b=u.makeEvent("lostpointercapture",a);u.dispatchEvent(b)},MSGotPointerCapture:function(a){var b=u.makeEvent("gotpointercapture",a);u.dispatchEvent(b)}},_=window.navigator;_.msPointerEnabled?(V=function(a){i(a),j(this),k(a)&&(u.setCapture(a,this,!0),this.msSetPointerCapture(a))},W=function(a){i(a),u.releaseCapture(a,!0),this.msReleasePointerCapture(a)}):(V=function(a){i(a),j(this),k(a)&&u.setCapture(a,this)},W=function(a){i(a),u.releaseCapture(a)}),X=function(a){return!!u.captureInfo[a]},g(),h(),l();var aa={dispatcher:u,Installer:c,PointerEvent:a,PointerMap:p,targetFinding:v};return aa}),function(a){function b(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var c,d=a.ui.mouse.prototype,e=d._mouseInit,f=d._mouseDestroy;d._touchStart=function(a){var d=this;!c&&d._mouseCapture(a.originalEvent.changedTouches[0])&&(c=!0,d._touchMoved=!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))},d._touchMove=function(a){c&&(this._touchMoved=!0,b(a,"mousemove"))},d._touchEnd=function(a){c&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),c=!1)},d._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),e.call(b)},d._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),f.call(b)}}}(jQuery),function(a,b){"use strict";a.TSC=a.TSC||{},a.TSC.log=function(){var a=[],c=[],d=function(a,c){var d=b.inArray(c,a);return d!==-1&&(a.splice(d,1),!0)};return{logException:function(c){b.each(a,function(a,b){b(new Error(c))})},logMessage:function(a){b.each(c,function(b,c){c(a)})},addEventListener:function(b,d){if(!d||"function"!=typeof d)throw new Error("log.js: addEventListener() Listener argument was not a function");if("EXCEPTION"===b)a.push(d);else{if("MESSAGE"!==b)throw new Error("log.js: addEventListener() Type argument was not EXCEPTION or MESSAGE");c.push(d)}},removeEventListener:function(b,e){var f=function(){throw new Error("log.js: removeEventListener() "+e+" was not found within the "+b+" callbacks.")};if("EXCEPTION"===b)d(a,e)||f();else{if("MESSAGE"!==b)throw new Error("log.js: removeEventListener() Type argument was not EXCEPTION or MESSAGE");d(c,e)||f()}},removeAllEventListeners:function(){a=[],c=[]}}}()}(this,window.jQuery),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.timeFormatter=b()}(this,function(){"use strict";var a=function(a){return a>=10?a:"0"+a},b=function(b){b=Math.round(b);var c=Math.floor(b/3600),d=b%3600,e=Math.floor(d/60),f=d%60;return c>0?c+":"+a(e)+":"+a(f):e>0?e+":"+a(f):"0:"+a(f)};return{formatTime:b}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.youtubeIdParser=b()}(this,function(){"use strict";var a=function(a){var b=/(youtu\.be\/|v=)(.{11})/i,c=b.exec(a);return c&&c[2]?c[2]:"*"};return{getIdFromUrl:a}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.localStorageWrapper=b(a)}(this,function(a){"use strict";var b=function(b,c){try{a.localStorage.setItem(b,c)}catch(a){}},c=function(b){try{return a.localStorage.getItem(b)}catch(a){return null}};return{setItem:b,getItem:c}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.performanceWrapper=b(a)}(this,function(a){"use strict";var b=-1,c=a.performance&&a.performance.mark&&a.performance.measure&&a.performance.getEntriesByType,d=function(d){if(!c)return b;try{for(var e=b,f=a.performance.getEntriesByType("measure"),g=0;g<f.length;g++)f[g].name===d&&(e=f[g].duration);return Math.round(e)}catch(a){return b}},e=function(b){if(c)try{a.performance.mark(b)}catch(a){}},f=function(b,d,e){if(c)try{e?a.performance.measure(b,d,e):a.performance.measure(b,d)}catch(a){}},g=function(a){if(!c)return[];var e=[];return a.forEach(function(a){var c=d(a);c!==b&&e.push({name:a,time:c})}),e};return{createMarker:e,createMeasure:f,getRumEventData:g}}),function(a){"use strict";try{new a.CustomEvent("test")}catch(c){var b=function(a,b){var c;return b=b||{bubbles:!1,cancelable:!1,detail:void 0},c=document.createEvent("CustomEvent"),c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c};b.prototype=a.Event.prototype,a.CustomEvent=b}}(this),this.TSC=this.TSC||{},this.TSC.templates=this.TSC.templates||{},this.TSC.templates.before_after_play_controls_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="video-click-to-play-link" tabindex="',(g=c.playButtonIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.playButtonIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\r\n    <button type="button" role="button" class="video-click-to-play ui play-button-overlay-glyph" tabindex="',(g=c.playIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.playIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" aria-label="',(g=c.accessBtnClickToPlay)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnClickToPlay,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></button>\r\n</div>\r\n<div class="video-click-to-replay-link" tabindex="',(g=c.replayButtonIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.replayButtonIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\r\n    <button type="button" role="button" class="video-click-to-replay ui replay-button-overlay-glyph" tabindex="',(g=c.replayIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.replayIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" aria-label="',(g=c.accessBtnClickToReplay)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnClickToReplay,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></button>\r\n</div>\r\n'}),this.TSC.templates.captions_view_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<button class="closed-caption-button ui closed-caption-button-glyph control-button hide" name="ClosedCaption" type="button" role="button" title="',(g=c.accessBtnClosedCaption)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnClosedCaption,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" tabindex="',(g=c.closedCaptionIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.closedCaptionIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></button>\r\n'}),this.TSC.templates.choice_answer_template=Handlebars.template(function(a,b,c,d,e){function f(a,b,d){var e,f,h="";return h+='\r\n     <label class="multiple-choice active-question-item"><img src=\''+k((e=d&&d.placeHolderImg,typeof e===j?e.apply(a):e))+'\' class=\'image-feedback feedback-placeholder\' /><input type="radio" name="multiple-choice" value="',(f=c.answerIndex)?e=f.call(a,{hash:{},data:b}):(f=a&&a.answerIndex,e=typeof f===j?f.call(a,{hash:{},data:b}):f),h+=k(e)+'" ',e=c.if.call(a,a&&a.isChecked,{hash:{},inverse:l.noop,fn:l.program(2,g,b),data:b}),(e||0===e)&&(h+=e),h+=" />",(f=c.answer)?e=f.call(a,{hash:{},data:b}):(f=a&&a.answer,e=typeof f===j?f.call(a,{hash:{},data:b}):f),h+=k(e)+"</label>\r\n     "}function g(a,b){return"checked"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j="function",k=this.escapeExpression,l=this;return i+="<form>\r\n     ",h=c.each.call(b,b&&b.answers,{hash:{},inverse:l.noop,fn:l.programWithDepth(1,f,e,b),data:e}),(h||0===h)&&(i+=h),i+="\r\n </form>\r\n"}),this.TSC.templates.fill_answer_template=Handlebars.template(function(a,b,c,d,e){function f(a,b){return"autofocus"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<label for="',(h=c.inputId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.inputId,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'" class="sr-only float-element-left">',(h=c.inputLabel)?g=h.call(b,{hash:{},data:e}):(h=b&&b.inputLabel,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'</label>\r\n<input type="text" id="',(h=c.inputId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.inputId,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'" class="fill-in-the-blank-input" maxlength="140" name="',(h=c.inputName)?g=h.call(b,{hash:{},data:e}):(h=b&&b.inputName,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'" value="',(h=c.userResponse)?g=h.call(b,{hash:{},data:e}):(h=b&&b.userResponse,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'" ',g=c.if.call(b,b&&b.useAutofocus,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(g||0===g)&&(i+=g),i+=" />\r\n"}),this.TSC.templates.fullscreen_control_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<button name="FullScreen" type="button" role="button" aria-pressed="false" class="ui fullscreen-button-glyph control-button fullscreen-button" title="',(g=c.accessBtnFullScreen)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnFullScreen,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" tabindex="',(g=c.fullscreenIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.fullscreenIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></button>\r\n'}),this.TSC.templates.hotspots_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div id="',(g=c.hotspotsContainerId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.hotspotsContainerId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="hotspots">\r\n    <img class="hotspots-mapimg" hidefocus="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUZFRTQ3RTgzQjlFMTFFMUE1QzU4ODA1ODE4NzA1RTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUZFRTQ3RTkzQjlFMTFFMUE1QzU4ODA1ODE4NzA1RTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRkVFNDdFNjNCOUUxMUUxQTVDNTg4MDU4MTg3MDVFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRkVFNDdFNzNCOUUxMUUxQTVDNTg4MDU4MTg3MDVFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuQAJiQAAAAXSURBVHjaYvz//z8DOmBiwAIoFAQIMAA2UAMHLJ+dVwAAAABJRU5ErkJggg%3D%3D" usemap="#',(g=c.hotspotsContainerId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.hotspotsContainerId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" />\r\n    <map name="',(g=c.hotspotsContainerId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.hotspotsContainerId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="hotspots-map"></map>\r\n</div>\r\n'}),this.TSC.templates.html5_player_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="video-wrapper hide" tabindex="',(g=c.videoWrapperIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.videoWrapperIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\r\n    <div class="click-controls" >\r\n        <div id="',(g=c.videoTagUniqueId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.videoTagUniqueId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="video-div"></div>\r\n        <div class="caption hide">\r\n            <p></p>\r\n            <div class="sr-only captions-aria-label" role="status" aria-live="polite"></div>\r\n        </div>\r\n        <div class="youtube-pointer-event-workaround hide"></div>\r\n        <div class="hotspots-container"></div>\r\n        <div class="play-pause-state">\r\n            <div class="play-state-indicator-container">\r\n                <div class="ui play-pause-state-indicator"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="toc-container"></div>\r\n    <div id="controls" class="ui control-backdrop">\r\n        <div class="progress-bar-control"></div>\r\n        <div class="bottom-left-controls bottom-controls">\r\n            <div class="play-rewind-controls"></div>\r\n            <div class="prev-next-controls"></div>\r\n            <div class="volume-wrapper"></div>\r\n            <div class="play-time" aria-hidden="true">0:00 / 0:00</div>\r\n        </div>\r\n        <div class="bottom-right-controls bottom-controls">\r\n            <div class="fullscreen-wrapper"></div>\r\n            <div class="player-settings-wrapper"></div>\r\n            <div class="toc-button-wrapper"></div>\r\n            <div class="caption-wrapper"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div role="alert" class="alert-dialog"></div>\r\n<div class="screen-text"></div>\r\n<div class="speech-text"></div>\r\n<div class="before-after-play-controls"></div>\r\n'}),this.TSC.templates.image_view_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+=' <div id="imageWrapper" aria-hidden="true">\r\n     <img id="imageDiv"/>\r\n </div>\r\n <div class="alertWindow"></div>\r\n <button role="button" id="quizBar">',(g=c.clickToTakeTheQuiz)?f=g.call(b,{hash:{},data:e}):(g=b&&b.clickToTakeTheQuiz,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"</button>\r\n"}),this.TSC.templates.io_overlay_view_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div style="display:none" class="tsc-io-container">\r\n    <div class="tsc-io-message">\r\n        <span role="status" aria-live="polite"></span>\r\n        <img src="',(g=c.loaderImg)?f=g.call(b,{hash:{},data:e}):(g=b&&b.loaderImg,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" aria-hidden="true"/>\r\n    </div>\r\n</div>\r\n'}),this.TSC.templates.ios_app_slim_splash_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="appplayer">\r\n    <div class="posterFade">\r\n      <div class="centerAbsoluteElement openVideoSmartPlayerContainer">\r\n         <button type="button" class="button openVideoSmartPlayerButton">',(g=c.openWithSmartPlayer)?f=g.call(b,{hash:{},data:e}):(g=b&&b.openWithSmartPlayer,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</button>\r\n         <button type="button" class="button openSmartPlayerAppStoreButton">',(g=c.openSmartPlayerAppStore)?f=g.call(b,{hash:{},data:e}):(g=b&&b.openSmartPlayerAppStore,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"</button>\r\n      </div>\r\n    </div>\r\n</div>\r\n"}),this.TSC.templates.ios_app_splash_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="appplayer">\r\n    <div class="posterFade">\r\n        <div class="topBrdr"><div class="topBrdrInner"></div></div>\r\n        <div class="content">\r\n            <h2>',(g=c.playWithSmartPlayer)?f=g.call(b,{hash:{},data:e}):(g=b&&b.playWithSmartPlayer,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</h2>\r\n            <a class="externalLargePlayBtn"></a>\r\n            <a href="" class="appstoreBtn"></a>\r\n        </div>\r\n        <a class="appNativePlayBtn">\r\n           <div class="appNativePlayBtnText">',(g=c.playVideoOnly)?f=g.call(b,{hash:{},data:e}):(g=b&&b.playVideoOnly,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</div>\r\n        </a>\r\n        <div class="btmBrdr"><div class="btmBrdrInner"></div></div>\r\n    </div>\r\n</div>'}),this.TSC.templates.play_rewind_controls_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<button type="button" role="button" name="Rewind" class="ui rewind-button-glyph control-button rewind-control" title="',(g=c.accessBtnRewind)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnRewind,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" tabindex="',(g=c.rewindIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.rewindIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></button>\r\n<button type="button" role="button" name="Play" aria-pressed="false" class="ui control-button play-control" title="',(g=c.accessBtnPlay)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnPlay,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" tabindex="',(g=c.playIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.playIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\r\n    <div class="ui play-button-glyph"></div>\r\n    <div class="ui pause-button-glyph"></div>\r\n</button>\r\n'}),this.TSC.templates.pre_roll_container_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<iframe id="pre_roll_container" class="preRoll preRollHidden ',(g=c.preRollSizeClass)?f=g.call(b,{hash:{},data:e}):(g=b&&b.preRollSizeClass,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" src="',(g=c.preRollSrc)?f=g.call(b,{hash:{},data:e}):(g=b&&b.preRollSrc,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" scrolling="no"  frameborder="0"></iframe>'}),this.TSC.templates.prev_next_controls_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<button type="button" role="button" name="Previous" class="ui previous-button-glyph disabled-button control-button previous-control" aria-disabled="false" title="',(g=c.accessBtnPrevious)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnPrevious,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" tabindex="',(g=c.previousIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.previousIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></button>\r\n<button type="button" role="button" name="Next" class="ui next-button-glyph control-button next-control" aria-disabled="false" title="',(g=c.accessBtnNext)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnNext,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" tabindex="',(g=c.nextIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.nextIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></button>\r\n'}),this.TSC.templates.progress_bar_control_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="progress-box-outer">\r\n    <div class="progress-box">\r\n        <div class="progress-scrubbar-track" role="slider" tabindex="',(g=c.progressIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.progressIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" aria-label="',(g=c.accessBtnProgressBar)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnProgressBar,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\r\n            <div class="ui scrubbar-track"></div>\r\n            <div class="ui scrubbar-loaded-track load-progress"></div>\r\n            <div class="ui scrubbar-played-track play-progress"></div>\r\n            <div class="markers"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),this.TSC.templates.question_count_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<span class="current-number">',(g=c.currentQuestionNumber)?f=g.call(b,{hash:{},data:e}):(g=b&&b.currentQuestionNumber,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"</span> ",(g=c.prepositionText)?f=g.call(b,{hash:{},data:e}):(g=b&&b.prepositionText,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+" ",(g=c.totalQuestions)?f=g.call(b,{hash:{},data:e}):(g=b&&b.totalQuestions,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"\r\n"}),this.TSC.templates.question_set_confirmation_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="start-question-set-confirmation-container">\r\n   <button type="button" class="review-button button secondary fill-parent top-button-element">',(g=c.reviewText)?f=g.call(b,{hash:{},data:e}):(g=b&&b.reviewText,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</button>\r\n   <button type="button" class="confirm-button button primary fill-parent">',(g=c.confirmationText)?f=g.call(b,{hash:{},data:e}):(g=b&&b.confirmationText,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</button>\r\n   <div class="chat-bubble-arrow"></div>\r\n</div>\r\n'}),this.TSC.templates.question_set_review_confirmation_template=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\r\n       <div class="results-summary" role="status" aria-live="polite">\r\n           <div class="correct-result">',(e=c.numberCorrect)?d=e.call(a,{hash:{},data:b}):(e=a&&a.numberCorrect,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+" <span>",(e=c.percentCorrect)?d=e.call(a,{hash:{},data:b}):(e=a&&a.percentCorrect,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+'</span></div>\r\n           <div class="incorrect-result">',(e=c.numberInCorrect)?d=e.call(a,{hash:{},data:b}):(e=a&&a.numberInCorrect,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+" <span>",(e=c.percentInCorrect)?d=e.call(a,{hash:{},data:b}):(e=a&&a.percentInCorrect,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"</span></div>\r\n       </div>\r\n   "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<div class="review-confirmation-container">\r\n   ',g=c.if.call(b,b&&b.numberCorrect,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(g||0===g)&&(i+=g),i+='\r\n    <div class="controls-container">\r\n        <button type="button" class="review-answers-button button secondary fill-parent top-button-element">',(h=c.reviewAnswerText)?g=h.call(b,{hash:{},data:e}):(h=b&&b.reviewAnswerText,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'</button>\r\n        <button type="button" class="continue-video-button button primary fill-parent">',(h=c.continueText)?g=h.call(b,{hash:{},data:e}):(h=b&&b.continueText,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'</button>\r\n    </div>\r\n    <div class="chat-bubble-arrow"></div>\r\n</div>\r\n'}),this.TSC.templates.question_set_review_status_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="question-set-container">\r\n   <div class="question-set-results" tabindex="',(g=c.questionSetResultsTabIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.questionSetResultsTabIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\r\n      <div class="results-title">',(g=c.txtAnswersSubmitted)?f=g.call(b,{hash:{},data:e}):(g=b&&b.txtAnswersSubmitted,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</div>\r\n      <div class="gradeable-details">',(g=c.gradeableDetails)?f=g.call(b,{hash:{},data:e}):(g=b&&b.gradeableDetails,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</div>\r\n      <div class="ungradeable-details">',(g=c.unGradeableDetails)?f=g.call(b,{hash:{},data:e}):(g=b&&b.unGradeableDetails,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</div>\r\n      <button type="button" class="view-answers-button button quiz-button primary">',(g=c.txtViewAnswers)?f=g.call(b,{hash:{},data:e}):(g=b&&b.txtViewAnswers,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</button>\r\n      <button type="button" class="hide-answers-button button quiz-button secondary">',(g=c.txtHideAnswers)?f=g.call(b,{hash:{},data:e}):(g=b&&b.txtHideAnswers,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</button>\r\n   </div>\r\n   <div class="chat-bubble-arrow"></div>\r\n</div>\r\n'}),this.TSC.templates.question_set_template=Handlebars.template(function(a,b,c,d,e){
function f(a,b){return'\r\n<div class="question-set-container minimized">\r\n'}function g(a,b){return'\r\n<div class="question-set-container">\r\n'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j="",k=this,l="function",m=this.escapeExpression;return h=c.if.call(b,b&&b.minimized,{hash:{},inverse:k.program(3,g,e),fn:k.program(1,f,e),data:e}),(h||0===h)&&(j+=h),j+='\r\n    <div class="submitting-response-container">\r\n        <span class="submitting-text">Submitting...</span>\r\n        <img class="loading-image" src="',(i=c.submittingImg)?h=i.call(b,{hash:{},data:e}):(i=b&&b.submittingImg,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+'" />\r\n    </div>\r\n    <div class="question-set-content">\r\n        <div class="question-content-container">\r\n           <div class="question-header">\r\n             <div class="question-count"><span class="current-number">',(i=c.currentQuestionNumber)?h=i.call(b,{hash:{},data:e}):(i=b&&b.currentQuestionNumber,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+"</span> of ",(i=c.totalNumberQuestions)?h=i.call(b,{hash:{},data:e}):(i=b&&b.totalNumberQuestions,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+'</div>\r\n             <div class="question-text"></div>\r\n          </div>\r\n          <div class="question-feedback hide-element"></div>\r\n          <div class="question-answers"></div>\r\n       </div>\r\n       <div class="question-set-controls">\r\n          <button type="button" class="previous-button button quiz-button secondary">',(i=c.previousButtonName)?h=i.call(b,{hash:{},data:e}):(i=b&&b.previousButtonName,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+'</button>\r\n          <button type="button" class="next-button button quiz-button secondary">',(i=c.nextButtonName)?h=i.call(b,{hash:{},data:e}):(i=b&&b.nextButtonName,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+'</button>\r\n          <button type="button" class="submit-button button quiz-button primary">',(i=c.submitButtonName)?h=i.call(b,{hash:{},data:e}):(i=b&&b.submitButtonName,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+'</button>\r\n          <button type="button" class="continue-button button quiz-button primary">',(i=c.continueButtonName)?h=i.call(b,{hash:{},data:e}):(i=b&&b.continueButtonName,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+'</button>\r\n       </div>\r\n       <div class="chat-bubble-arrow"></div>\r\n    </div>\r\n</div>\r\n'}),this.TSC.templates.question_text_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="question-heading" tabindex="',(g=c.questionTextTabIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.questionTextTabIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\r\n    <p>',(g=c.questionText)?f=g.call(b,{hash:{},data:e}):(g=b&&b.questionText,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</p>\r\n    <div class="question-correct-text hide-element">',(g=c.correctTextString)?f=g.call(b,{hash:{},data:e}):(g=b&&b.correctTextString,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</div>\r\n    <div class="question-incorrect-text hide-element">',(g=c.incorrectTextString)?f=g.call(b,{hash:{},data:e}):(g=b&&b.incorrectTextString,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</div>\r\n    <span class="sr-only">',(g=c.correctAnswerText)?f=g.call(b,{hash:{},data:e}):(g=b&&b.correctAnswerText,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"</span>\r\n</div>\r\n\r\n"}),this.TSC.templates.quiz_setup_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="tsc_quiz_setup_container">\r\n    <h2>',(g=c.setupMessage)?f=g.call(b,{hash:{},data:e}):(g=b&&b.setupMessage,f=typeof g===i?g.call(b,{hash:{},data:e}):g),(f||0===f)&&(h+=f),h+='</h2>\r\n     <div class="tsc_setup_input_container">\r\n         <div class="setup_input_block">\r\n             <input type="text" name="',(g=c.enterName1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.enterName1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" aria-label="',(g=c.setupMessage)?f=g.call(b,{hash:{},data:e}):(g=b&&b.setupMessage,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+" ",(g=c.enterName1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.enterName1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="',(g=c.name1Class)?f=g.call(b,{hash:{},data:e}):(g=b&&b.name1Class,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" placeholder="',(g=c.enterName1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.enterName1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" size="24" spellcheck="false">\r\n         </div>\r\n         <div class="setup_input_block">\r\n             <input type="text" name="',(g=c.enterName2)?f=g.call(b,{hash:{},data:e}):(g=b&&b.enterName2,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="',(g=c.name2Class)?f=g.call(b,{hash:{},data:e}):(g=b&&b.name2Class,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" placeholder="',(g=c.enterName2)?f=g.call(b,{hash:{},data:e}):(g=b&&b.enterName2,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" size="24" spellcheck="false">\r\n         </div>\r\n         <div class="setup_input_block">\r\n             <input type="email" name="',(g=c.enterEmail)?f=g.call(b,{hash:{},data:e}):(g=b&&b.enterEmail,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="email_address" placeholder="',(g=c.enterEmail)?f=g.call(b,{hash:{},data:e}):(g=b&&b.enterEmail,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" size="55"  spellcheck="false">\r\n         </div>\r\n     </div>\r\n     <button type="button" class="tsc_begin_button" disabled>',(g=c.beginButtonText)?f=g.call(b,{hash:{},data:e}):(g=b&&b.beginButtonText,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</button>\r\n     <button type="button" class="skip_control">',(g=c.skipControlText)?f=g.call(b,{hash:{},data:e}):(g=b&&b.skipControlText,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"</button>\r\n </div>\r\n"}),this.TSC.templates.settings_view_template=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\r\n            <option class="player-speed-option" ',d=c.if.call(a,a&&a.selected,{hash:{},inverse:k.noop,fn:k.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+=' value="',(e=c.rateValue)?d=e.call(a,{hash:{},data:b}):(e=a&&a.rateValue,d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+'">',(e=c.rateLabel)?d=e.call(a,{hash:{},data:b}):(e=a&&a.rateLabel,d=typeof e===l?e.call(a,{hash:{},data:b}):e),f+=m(d)+"</option>\r\n          "}function g(a,b){return"selected"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j="",k=this,l="function",m=this.escapeExpression;return j+='<button name="Settings" type="button" role="button" class="settings-button ui settings-button-glyph control-button" title="',(i=c.accessBtnSettings)?h=i.call(b,{hash:{},data:e}):(i=b&&b.accessBtnSettings,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+'" tabindex="',(i=c.settingsIndex)?h=i.call(b,{hash:{},data:e}):(i=b&&b.settingsIndex,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+'" aria-expanded="false"></button>\r\n<div class="player-settings-container ui">\r\n   <div class="player-speed-container">\r\n       <span>',(i=c.playerRateText)?h=i.call(b,{hash:{},data:e}):(i=b&&b.playerRateText,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+'</span>\r\n       <select tabindex="',(i=c.speedSettingIndex)?h=i.call(b,{hash:{},data:e}):(i=b&&b.speedSettingIndex,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+'" aria-label="',(i=c.playerRateText)?h=i.call(b,{hash:{},data:e}):(i=b&&b.playerRateText,h=typeof i===l?i.call(b,{hash:{},data:e}):i),j+=m(h)+'" class="player-speed-select">\r\n          ',h=c.each.call(b,b&&b.playbackRates,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(h||0===h)&&(j+=h),j+="\r\n       </select>\r\n   </div>\r\n</div>\r\n"}),this.TSC.templates.short_answer_template=Handlebars.template(function(a,b,c,d,e){function f(a,b){return"autofocus"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<form>\r\n    <label for="',(h=c.inputId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.inputId,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'" class="sr-only">',(h=c.inputLabel)?g=h.call(b,{hash:{},data:e}):(h=b&&b.inputLabel,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'</label>\r\n    <textarea name="',(h=c.inputName)?g=h.call(b,{hash:{},data:e}):(h=b&&b.inputName,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'" id="',(h=c.inputId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.inputId,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+'" class="short-answer-input" maxlength="2000" rows="5" ',g=c.if.call(b,b&&b.useAutofocus,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(g||0===g)&&(i+=g),i+=">",(h=c.userResponse)?g=h.call(b,{hash:{},data:e}):(h=b&&b.userResponse,g=typeof h===j?h.call(b,{hash:{},data:e}):h),i+=k(g)+"</textarea>\r\n</form>\r\n"}),this.TSC.templates.toc_button_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<button class="toc-button ui toc-button-glyph control-button" name="TableOfContents" role="button" type="button" title="',(g=c.accessBtnTableOfContents)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnTableOfContents,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" tabindex="',(g=c.tocIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tocIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></button>\r\n'}),this.TSC.templates.toc_item_template=Handlebars.template(function(a,b,c,d,e){function f(a,b){return"limit-max-toc-item-height"}function g(a,b){return"center-flex-content"}function h(a,b){return'\r\n        <div class="thumbnail-placeholder"></div>\r\n    '}function i(a,b){var d,e,f="";return f+='\r\n        <div class="toc-item-text">\r\n            ',(e=c.tocItemText)?d=e.call(a,{hash:{},data:b}):(e=a&&a.tocItemText,d=typeof e===m?e.call(a,{hash:{},data:b}):e),(d||0===d)&&(f+=d),f+="\r\n        </div>\r\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k,l="",m="function",n=this,o=this.escapeExpression;return l+='<div class="toc-item ',j=c.if.call(b,b&&b.showText,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(j||0===j)&&(l+=j),l+=" ",j=c.if.call(b,b&&b.centerContent,{hash:{},inverse:n.noop,fn:n.program(3,g,e),data:e}),(j||0===j)&&(l+=j),l+='" ',(k=c.dataTocTime)?j=k.call(b,{hash:{},data:e}):(k=b&&b.dataTocTime,j=typeof k===m?k.call(b,{hash:{},data:e}):k),l+=o(j)+" ",(k=c.dataFileText)?j=k.call(b,{hash:{},data:e}):(k=b&&b.dataFileText,j=typeof k===m?k.call(b,{hash:{},data:e}):k),l+=o(j)+' role="button" aria-label="',(k=c.tocItemRawText)?j=k.call(b,{hash:{},data:e}):(k=b&&b.tocItemRawText,j=typeof k===m?k.call(b,{hash:{},data:e}):k),l+=o(j)+'" tabindex="',(k=c.tocItemIndex)?j=k.call(b,{hash:{},data:e}):(k=b&&b.tocItemIndex,j=typeof k===m?k.call(b,{hash:{},data:e}):k),l+=o(j)+'">\r\n    ',j=c.if.call(b,b&&b.showThumbnail,{hash:{},inverse:n.noop,fn:n.program(5,h,e),data:e}),(j||0===j)&&(l+=j),l+="\r\n    ",j=c.if.call(b,b&&b.showText,{hash:{},inverse:n.noop,fn:n.program(7,i,e),data:e}),(j||0===j)&&(l+=j),l+="\r\n</div>\r\n"}),this.TSC.templates.toc_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+=' <div class="toc-head-container">\r\n     <div class="toc-pip-image-container"></div>\r\n     <h6 class="toc-media-title"></h6>\r\n     <div class="toc-search-container">\r\n         <div class="ui toc-search-glyph"></div>\r\n         <label class="toc-search-input-label">',(g=c.searchLabel)?f=g.call(b,{hash:{},data:e}):(g=b&&b.searchLabel,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'\r\n             <input type="text" class="toc-search-input" placeholder="',(g=c.msgSearch)?f=g.call(b,{hash:{},data:e}):(g=b&&b.msgSearch,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" tabindex="',(g=c.tocSearchIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tocSearchIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"/>\r\n         </label>\r\n         <button class="ui clear-search-button" name="ClearSearch" type="button" role="button" title="',(g=c.accessBtnClearSearch)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnClearSearch,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" tabindex="',(g=c.tocEraseIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tocEraseIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></button>\r\n     </div>\r\n     <div class="toc-full-screen-search-alert">\r\n         <p>',(g=c.msgSearchIsDisabledInFS)?f=g.call(b,{hash:{},data:e}):(g=b&&b.msgSearchIsDisabledInFS,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</p>\r\n     </div>\r\n </div>\r\n <div class="toc-content-scroll-container">\r\n     <div class="toc-content-container"></div>\r\n </div>\r\n'}),this.TSC.templates.volume_control_template=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<button type="button" role="button" title="',(g=c.accessBtnVolume)?f=g.call(b,{hash:{},data:e}):(g=b&&b.accessBtnVolume,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="volume ui volume-button-high-glyph control-button" tabindex="',(g=c.volumeIndex)?f=g.call(b,{hash:{},data:e}):(g=b&&b.volumeIndex,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></button>\r\n<div class="volume-slider-container horizontal ui hide">\r\n    <div class="volume-slider-track-container">\r\n        <div class="volume-slider-track"></div>\r\n        <div class="volume-slider"></div>\r\n    </div>\r\n</div>\r\n'}),function(){"use strict";window.TSC=window.TSC||{},window.TSC.smartPlayerPreRollEventConstants=function(){return{PRE_ROLL_STARTED:"preRollStarted",PRE_ROLL_FINISHED:"preRollFinished",PRE_ROLL_FINISHED_ACTIONS:{REMOVE_NOW:"removeNow"}}}()}(),function(a,b){"use strict";a.TSC=a.TSC||{},a.TSC.preRollView=function(){var a;if(!b||!b.pre_roll_container_template)throw Error("TSC.preRollView: Template not found");return a=b.pre_roll_container_template,{render:function(b){var c={preRollSizeClass:"preRoll-fullPage",preRollSrc:b};return a(c)}}}()}(window,window.TSC.templates),function(a,b,c,d,e){"use strict";a.TSC=a.TSC||{},a.TSC.preRollController=function(){var f,g,h;h=b(a);var i=function(a){if(a=a.originalEvent,a.data&&"function"==typeof a.data.indexOf&&a.data.indexOf("smartPlayerEventName")!==-1){var b=c.parse(a.data);switch(b.smartPlayerEventName){case d.PRE_ROLL_STARTED:f&&f();break;case d.PRE_ROLL_FINISHED:switch(b.data.action){case d.PRE_ROLL_FINISHED_ACTIONS.REMOVE_NOW:k()}}}},j=function(){g.removeClass("preRollHidden")},k=function(){g&&(h.unbind("message",i),g.unbind("load",j),g.remove(),g=void 0,f=void 0)};return{createView:function(a,c){g=b(e.render(a)).appendTo("body"),g.bind("load",j),f=c,h.bind("message",i)},viewExists:function(){return void 0!==g},destroyView:k}}()}(window,window.jQuery,window.JSON,window.TSC.smartPlayerPreRollEventConstants,window.TSC.preRollView),function(a,b){"use strict";a.TSC=a.TSC||{},a.TSC.externalMessageController=function(){var c={},d=!1,e=function(a){if(a.data&&"function"==typeof a.data.indexOf&&a.data.indexOf("smartPlayerEventName")!==-1){var d=b.parse(a.data);c[d.smartPlayerEventName]&&c[d.smartPlayerEventName].call(this,d.data)}},f=function(){d||(a.addEventListener?a.addEventListener("message",e,!1):a.attachEvent("onmessage",e),d=!0)},g=function(){d&&(a.removeEventListener?a.removeEventListener("message",e,!1):a.removeEvent("onmessage",e),d=!1)};return{addCallback:function(a,b){f(),c[a]=b},removeCallback:function(a){c[a]&&delete c[a],0===Object.keys(c).length&&g()},removeAllCallbacks:function(){c={},g()}}}()}(this,JSON),function(a){"use strict";a.TSC=a.TSC||{},a.TSC.windowWrapper=function(){return{getLocationHref:function(){return a.location.href}}}()}(this),function(a){"use strict";a.TSC=a.TSC||{},a.TSC.languageCodes=function(){var a="en-US",b="de-DE",c="ja-JP";return{ENGLISH:a,GERMAN:b,JAPANESE:c,ENU:a,DEU:b,JPN:c,isValid:function(d){return d===a||d===b||d===c}}}()}(this),function(a){"use strict";a.TSC=a.TSC||{},a.TSC.questionGrader=function(){return{FATHOM:"FATHOM",XMP:"XMP"}}()}(this),function(a){"use strict";a.TSC=a.TSC||{},a.TSC.mediaType=function(){return{WEBM:"webm",MP4:"mp4",OGG:"ogg",YOUTUBE:"youtube",JPG:"jpg",PNG:"png",GIF:"gif",TSCPROJ:"tscproj",PLAYLIST:"playlist",UNKNOWN:"unknown",NOT_AVAILABLE:"not available",MULTIPLE_TYPES:"multiple types"}}()}(this),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.cssClasses=b()}(this,function(){"use strict";var a="disabled-button",b="hide",c="volume-muted-button-glyph",d="volume-low-button-glyph",e="volume-medium-button-glyph",f="volume-high-button-glyph",g="play-button-glyph",h="pause-button-glyph",i="fullscreen-button-glyph",j="fullscreen-button-active-glyph",k="full-frame-button-glyph",l="full-frame-button-active-glyph",m="expand-button-glyph",n="closed-caption-glyph",o="closed-caption-active-glyph",p="toc-button-glyph",q="toc-button-active-glyph",r="settings-button-glyph",s="settings-button-active-glyph";return Object.defineProperties({},{hide:{value:b},disabled:{value:a},volumeMutedButtonGlyph:{value:c},volumeLowButtonGlyph:{value:d},volumeMediumButtonGlyph:{value:e},volumeHighButtonGlyph:{value:f},playButtonGlyph:{value:g},pauseButtonGlyph:{value:h},fullscreenButtonGlyph:{value:i},fullscreenButtonActiveGlyph:{value:j},fullFrameButtonGlyph:{value:k},fullFrameButtonActiveGlyph:{value:l},expandButtonGlyph:{value:m},closedCaptionButtonGlyph:{value:n},closedCaptionButtonActiveGlyph:{value:o},tocButtonGlyph:{value:p},tocButtonActiveGlyph:{value:q},settingsButtonGlyph:{value:r},settingsButtonActiveGlyph:{value:s}})}),function(a){"use strict";a.TSC=a.TSC||{},a.TSC.events=function(){var a="tscspClickPrevControl",b="tscspClickNextControl",c="tscspFullScreenChange",d="tscspExpandVideo",e="tscspClickLoadAndPlayControl",f="tscspShowToc",g="tscspHideToc",h="tscspDisableControls",i="tscspEnableControls",j="tscspControlsUpdated",k="play",l="pause",m="tscspSeekMediaToTime",n="tscspReplayMedia",o="ENTER-FULLFRAME",p="EXIT-FULLFRAME",q="tscspUpdateQuizMarkers",r="tscspUpdatePlayProgress",s="tscspUpdateLoadProgress",t="tscspUpdateNextQuestionXPos",u="tscspStartedScrubbing",v="tscspEndedScrubbing",w="tscspQuizComplete",x="tscspQuizReview",y="tscspQuizBegin",z="tscspQuizBeginClicked",A="tscspQuizSkip",B="tscspSkipQuizClicked",C="tscspQuizError",D="tscspQuizStatus",E="tscspSubmittingInstance",F="tscspQuizSubmitted",G="tscspQuizShowSubmissionRetryMessage",H="tscspQuizHideSubmissionRetryMessage",I="tscspQuizHideLoadingMessage",J="tscspTransitionImageQuizToAnswers",K="tscspHideQuiz",L="tscspShowQuizBar",M="tscspCloseQuestionSetView",N="tscspSubmitQuestionSet",O="tscspRationaleActionLocation",P="tscspRationaleActionJumpToTime",Q="tscspCaptionChanged",R="tscspHotspotClicked",S="tscspHotspotAreaActive",T="tscspHotspotAreaInactive",U="smart_player_initialized",V="smart_player_loaded";return{Controls:{ClickPrev:a,ClickNext:b,FullScreenChange:c,ExpandVideo:d,LoadAndPlayControl:e,ShowToc:f,HideToc:g,Disable:h,Enable:i,Updated:j,HotspotClicked:R},Hotspots:{AreaActive:S,AreaInactive:T},Media:{Play:k,Pause:l,SeekToTime:m,Replay:n},IFrame:{EnterFullFrame:o,ExitFullFrame:p},Update:{QuizMarkers:q,PlayProgress:r,LoadProgress:s,NextQuestionPosition:t},Scrubbing:{Started:u,Ended:v},Quizzing:{Complete:w,Review:x,Begin:y,BeginClicked:z,Skip:A,SkipClicked:B,Error:C,Status:D,SubmittingInstance:E,Submitted:F,ShowSubmissionRetryMessage:G,HideSubmissionRetryMessage:H,HideLoadingMessage:I,TransitionImageQuizToAnswers:J,HideQuiz:K,ShowQuizBar:L,CloseQuestionSetView:M,SubmitQuestionSet:N,RationaleActionLocation:O,RationaleActionJumpToTime:P},Captions:{Changed:Q},Timing:{PlayerInitialized:U,PlayerLoaded:V}}}()}(this),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.keyCodes=b()}(this,function(){"use strict";return Object.defineProperties({},{escape:{value:27},space:{value:32},leftArrow:{value:37},upArrow:{value:38},rightArrow:{value:39},downArrow:{value:40},leftMouse:{value:1}})}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.tabIndex=b()}(this,function(){"use strict";return{Disabled:-1,VideoWrapper:-1,questionText:0,QuestionReviewText:0,InitialPlay:1,Progress:2,Rewind:3,Play:4,Previous:5,Next:6,Volume:7,VolumeSlider:8,ClosedCaption:9,TOC:10,Settings:11,SpeedSetting:12,Fullscreen:13,EndReplay:14,TOCSearch:15,TOCErase:16,TOCItem:17}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.rationaleActionType=b()}(this,function(){"use strict";return Object.defineProperties({},{CONTINUE:{value:"continue"},LOCATION:{value:"location"},JUMP_TO_TIME:{value:"jumpToTIme"}})}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.localizationStrings=b(c.languageCodes,c.log)}(this,function(a,b){"use strict";var c=a.ENGLISH,d={},e="",f={};f.xmpError={},f.xmpError[a.ENGLISH]="访问此视频的某些功能似乎存在问题。请与视频作者联系。",f.xmpError[a.GERMAN]="Einige Merkmale dieses Videos sind offenbar nicht zugänglich. Bitte setzen Sie sich mit dem Autor des Videos in Verbindung.",f.xmpError[a.JAPANESE]="このビデオの特定機能にアクセスする時に問題が発生したようです。ビデオの作成者に連絡してください。",f.xmpSecurity={},f.xmpSecurity[a.ENGLISH]="由于本地网络安全, 视频中的某些功能当前已被禁用。当从网站或服务器播放视频时, 这些功能会正常工作。",f.xmpSecurity[a.GERMAN]="Einige Merkmale Ihrem Video sind zurzeit aufgrund der Sicherheitseinstellungen im lokalen Netzwerk deaktiviert. Diese Merkmale funktionieren wie vorgesehen, wenn das Video über eine Website oder einen Server wiedergegeben wird.",f.xmpSecurity[a.JAPANESE]="ローカル ネットワークのセキュリティのために、ビデオの特定機能が現在無効になっています。これらの機能は、Web サイトまたはサーバーからビデオを再生すると正しく動作します。",f.videoNotSupported={},f.videoNotSupported[a.ENGLISH]="您的浏览器无法播放此视频。",f.videoNotSupported[a.GERMAN]="Ihr Browser kann dieses Video nicht wiedergeben.",f.videoNotSupported[a.JAPANESE]="お使いのブラウザではこのビデオを再生できません。",f.noWebMSupport={},f.noWebMSupport[a.ENGLISH]="此浏览器不支持 WebM 视频。",f.noWebMSupport[a.GERMAN]="Dieser Browser bietet keine WebM-Video-Unterstützung.",f.noWebMSupport[a.JAPANESE]="このブラウザは WebM ビデオをサポートしていません。",f.search={},f.search[a.ENGLISH]="搜索",f.search[a.GERMAN]="Suchen",f.search[a.JAPANESE]="検索",f.searchPlaceholder={},f.searchPlaceholder[a.ENGLISH]="搜索...",f.searchPlaceholder[a.GERMAN]="Suchen...",f.searchPlaceholder[a.JAPANESE]="検索...",f.playerRateText={},f.playerRateText[a.ENGLISH]="播放速度",f.playerRateText[a.GERMAN]="Wiedergabe-Geschwindigkeit",f.playerRateText[a.JAPANESE]="再生速度",f.playerRateOptionsText={},f.playerRateOptionsText[a.ENGLISH]={.25:"0.25",.5:"0.5",.75:"0.75",1:"标准",1.25:"1.25",1.5:"1.5",1.75:"1.75",2:"2.0"},f.playerRateOptionsText[a.GERMAN]={.25:"0.25",.5:"0.5",.75:"0.75",1:"normal",1.25:"1.25",1.5:"1.5",1.75:"1.75",2:"2.0"},f.playerRateOptionsText[a.JAPANESE]={.25:"0.25",.5:"0.5",.75:"0.75",1:"標準",1.25:"1.25",1.5:"1.5",1.75:"1.75",2:"2.0"},f.searchDisabledFullScreen={},f.searchDisabledFullScreen[a.ENGLISH]="在全屏模式下禁用搜索。",f.searchDisabledFullScreen[a.GERMAN]="Die Suche ist im Vollbildmodus deaktiviert.",f.searchDisabledFullScreen[a.JAPANESE]="フル画面モードでは検索機能は無効です。",f.mediaNotFound={},f.mediaNotFound[a.ENGLISH]="很抱歉，我们无法连接到此内容。 请尝试刷新页面或 <a href='http://www.techsmith.com/redirect.asp?target=media_not_found&ver=4.*.*&lang=enu&os=na&product=smartplayer' target='_blank'> 单击此处以了解更多帮助。</a>",f.mediaNotFound[a.GERMAN]="Leider können wir im Moment keine Verbindung zu diesen Inhalten herstellen. Bitte versuchen Sie die Seite neu zu laden oder <a href='http://www.techsmith.com/redirect.asp?target=media_not_found&ver=4.*.*&lang=deu&os=na&product=smartplayer' target='_blank'>klicken Sie hier für weitere Hilfe.</a>",f.mediaNotFound[a.JAPANESE]="申し訳ありません。このコンテンツに接続できません。ページを再読み込みするか、<a href='http://www.techsmith.com/redirect.asp?target=media_not_found&ver=4.*.*&lang=jpn&os=na&product=smartplayer' target='_blank'>ここをクリックしてヘルプをご参照ください。</a>",f.videoLoading={},f.videoLoading[a.ENGLISH]="视频正在加载。",f.videoLoading[a.GERMAN]="Das Video wird geladen.",f.videoLoading[a.JAPANESE]="ビデオを読み込んでいます。",f.clickToClose={},f.clickToClose[a.ENGLISH]="点击关闭",f.clickToClose[a.GERMAN]="Hier klicken, um zu schließen",f.clickToClose[a.JAPANESE]="クリックして終了",f.playWithSmartPlayer={},f.playWithSmartPlayer[a.ENGLISH]="单击以退出",f.playWithSmartPlayer[a.GERMAN]="Mit TechSmith Smart Player abspielen",f.playWithSmartPlayer[a.JAPANESE]="クリックして終了",f.playVideoOnly={},f.playVideoOnly[a.ENGLISH]="仅播放视频",f.playVideoOnly[a.GERMAN]="Nur Video wiedergeben",f.playVideoOnly[a.JAPANESE]="ビデオの再生のみ",f.openWithSmartPlayer={},f.openWithSmartPlayer[a.ENGLISH]="TechSmith Smart Player 中打开视频",f.openWithSmartPlayer[a.GERMAN]="Öffnen Sie das Video im TechSmith Smart Player.",f.openWithSmartPlayer[a.JAPANESE]="TechSmith Smart Player でビデオを開く",f.openSmartPlayerAppStore={},f.openSmartPlayerAppStore[a.ENGLISH]="获取 TechSmith Smart Player for iOS",f.openSmartPlayerAppStore[a.GERMAN]="TechSmith Smart Player für iOS",f.openSmartPlayerAppStore[a.JAPANESE]="TechSmith Smart Player for iOS を入手",f.txtRequiredMessage={},f.txtRequiredMessage[a.ENGLISH]="要进行此测验, 必须填写名字、姓氏和电子邮件地址。",f.txtRequiredMessage[a.GERMAN]="Sie müssen Vor- und Nachnamen und eine E-Mail-Adresse angeben, um an diesem Quiz teilzunehmen.",f.txtRequiredMessage[a.JAPANESE]="このクイズに解答するには、氏名と電子メール アドレスを入力する必要があります。",f.txtSkip={},f.txtSkip[a.ENGLISH]="继续而不进行测试",f.txtSkip[a.GERMAN]="Ohne Quiz weiter",f.txtSkip[a.JAPANESE]="クイズに解答しないで続行",f.txtBegin={},f.txtBegin[a.ENGLISH]="提交和查看测验",f.txtBegin[a.GERMAN]="Quiz senden und anschauen",f.txtBegin[a.JAPANESE]="送信してクイズを表示",f.txtEnterFirstName={},f.txtEnterFirstName[a.ENGLISH]="输入名字",f.txtEnterFirstName[a.GERMAN]="Bitte Vornamen eingeben",f.txtEnterFirstName[a.JAPANESE]="名を入力してください",f.txtEnterLastName={},f.txtEnterLastName[a.ENGLISH]="输入姓氏",f.txtEnterLastName[a.GERMAN]="Bitte Nachnamen eingeben",f.txtEnterLastName[a.JAPANESE]="姓を入力してください",f.txtEnterEmail={},f.txtEnterEmail[a.ENGLISH]="输入电子邮件地址",f.txtEnterEmail[a.GERMAN]="Bitte E-Mail Adresse eingeben",f.txtEnterEmail[a.JAPANESE]="メールアドレスを入力してください",f.txtHotspot={},f.txtHotspot[a.ENGLISH]="热点",f.txtHotspot[a.GERMAN]="Hotspot",f.txtHotspot[a.JAPANESE]="ホットスポット",f.txtJumpToMedia={},f.txtJumpToMedia[a.ENGLISH]="跳转到媒体",f.txtJumpToMedia[a.GERMAN]="Zu Medien springen",f.txtJumpToMedia[a.JAPANESE]="メディアへジャンプ",f.txtJumpToTime={},f.txtJumpToTime[a.ENGLISH]="跳转到时间",f.txtJumpToTime[a.GERMAN]="Zu Zeitpunkt springen",f.txtJumpToTime[a.JAPANESE]="時間へジャンプ",f.txtOpenLink={},f.txtOpenLink[a.ENGLISH]="打开链接",f.txtOpenLink[a.GERMAN]="Link öffnen",f.txtOpenLink[a.JAPANESE]="リンクを開く",f.txtReview={},f.txtReview[a.ENGLISH]="重播最后一节",f.txtReview[a.GERMAN]="Letzten Abschnitt erneut wiedergeben",f.txtReview[a.JAPANESE]="最後に選択した範囲をもう一度再生",f.txtAnswerQuestion={},f.txtAnswerQuestion[a.ENGLISH]="立即进行测验",f.txtAnswerQuestion[a.GERMAN]="Jetzt am Quiz teilnehmen",f.txtAnswerQuestion[a.JAPANESE]="今すぐクイズに解答する",f.txtPrev={},f.txtPrev[a.ENGLISH]="上一个",f.txtPrev[a.GERMAN]="Zurück",f.txtPrev[a.JAPANESE]="前へ",f.txtNext={},f.txtNext[a.ENGLISH]="下一个",f.txtNext[a.GERMAN]="Weiter",f.txtNext[a.JAPANESE]="次へ",f.txtSubmit={},f.txtSubmit[a.ENGLISH]="提交答案",f.txtSubmit[a.GERMAN]="Antworten abschicken",f.txtSubmit[a.JAPANESE]="解答・回答の送信",f.txtSubmittingAnswers={},f.txtSubmittingAnswers[a.ENGLISH]="正在提交答案。",f.txtSubmittingAnswers[a.GERMAN]="Antwort wird gesendet.",f.txtSubmittingAnswers[a.JAPANESE]="回答を送信中です。",f.txtContinue={},f.txtContinue[a.ENGLISH]="继续",f.txtContinue[a.GERMAN]="Fortsetzen",f.txtContinue[a.JAPANESE]="続行",f.txtReviewAnswer={},f.txtReviewAnswer[a.ENGLISH]="查看答案",f.txtReviewAnswer[a.GERMAN]="Antworten anzeigen",f.txtReviewAnswer[a.JAPANESE]="解答・回答を表示",f.txtBadImageQuiz={},f.txtBadImageQuiz[a.ENGLISH]="很抱歉, 所请求的测验与图像不兼容, 无法加载。 请与本测验的作者联系。",f.txtBadImageQuiz[a.GERMAN]="Leider ist das angeforderte Quiz nicht kompatibel mit Bildern und konnte nicht geladen werden. Bitte kontaktieren Sie den Autor.",f.txtBadImageQuiz[a.JAPANESE]="申し訳ありません。このクイズは画像と互換性がなくロードできませんでした。このクイズの作成者にお問い合わせください。",f.txtVideoQuizNetworkErrorMessage={},f.txtVideoQuizNetworkErrorMessage[a.ENGLISH]="很抱歉, 网络错误使测验无法加载。该视频可供查看。要尝试重新加载测验, 请刷新浏览器页面或检查网络连接。",f.txtVideoQuizNetworkErrorMessage[a.GERMAN]="Das Quiz konnte aufgrund eines Netzwerkfehlers nicht geladen werden. Das Video steht zur Ansicht bereit. Sie können versuchen das Quiz erneut zu laden, indem Sie die Browserseite aktualisieren bzw. Ihre Netzwerkverbindung überprüfen.",f.txtVideoQuizNetworkErrorMessage[a.JAPANESE]="申し訳ありませんが、ネットワーク エラーによりクイズを読み込めませんでした。ビデオは表示できます。クイズを再度読み込むには、ブラウザのページを更新するか、ネットワーク接続を確認してください。",f.txtImageQuizNetworkErrorMessage={},f.txtImageQuizNetworkErrorMessage[a.ENGLISH]="很抱歉, 网络错误使测验无法加载。该图像可供查看。要尝试重新加载测验, 请刷新浏览器页面或检查网络连接。",f.txtImageQuizNetworkErrorMessage[a.GERMAN]="Leider hat ein Netzwerkfehler das Laden des Quiz verhindert. Das Bild kann angeschaut werden. Um das Quiz neu zu laden, aktualisieren Sie die Browser-Seite oder prüfen Sie Ihre Netzwerkverbindung.",f.txtImageQuizNetworkErrorMessage[a.JAPANESE]="申し訳ありません。ネットワーク エラーによりクイズがロードされませんでした。画像は表示できます。クイズを再度ロードするには、ブラウザーのページを再読み込みするか、またはご使用のネットワーク接続を確認してください。",f.txtQuizErrorMessage={},f.txtQuizErrorMessage[a.ENGLISH]="我们正在尝试保存您的回复。 请确保您有一个有效的互联网连接。",f.txtQuizErrorMessage[a.GERMAN]="Wir versuchen, Ihre Antworten zu speichern. Bitte achten Sie darauf, dass Sie eine aktive Internet Verbindung haben.",f.txtQuizErrorMessage[a.JAPANESE]="返答の保存を試みています。インターネットに正しく接続しているか確認してください。",f.txtLoaderMessageDefinition={},f.txtLoaderMessageDefinition[a.ENGLISH]="测验正在加载。",f.txtLoaderMessageDefinition[a.GERMAN]="Das Quiz wird geladen.",f.txtLoaderMessageDefinition[a.JAPANESE]="クイズを読み込んでいます。",f.txtQuestionCount={},f.txtQuestionCount[a.ENGLISH]="{{currentQuestion}} 问 {{totalQuestions}} 问中",f.txtQuestionCount[a.GERMAN]="{{currentQuestion}} von {{totalQuestions}}",f.txtQuestionCount[a.JAPANESE]="{{currentQuestion}} 問 ({{totalQuestions}} 問中)",f.txtResults={},f.txtResults[a.ENGLISH]="结果: ",f.txtResults[a.GERMAN]="Ergebnisse: ",f.txtResults[a.JAPANESE]="結果: ",f.txtCorrectString={},f.txtCorrectString[a.ENGLISH]="正确",f.txtCorrectString[a.GERMAN]="Richtig",f.txtCorrectString[a.JAPANESE]="正解",f.txtIncorrectString={},f.txtIncorrectString[a.ENGLISH]="不正确",f.txtIncorrectString[a.GERMAN]="Falsch",f.txtIncorrectString[a.JAPANESE]="不正解",f.txtCorrect={},f.txtCorrect[a.ENGLISH]="{{numberCorrect}} 正确",f.txtCorrect[a.GERMAN]="{{numberCorrect}} Richtig",f.txtCorrect[a.JAPANESE]="正解 {{numberCorrect}}",f.txtIncorrect={},f.txtIncorrect[a.ENGLISH]="{{numberIncorrect}} 不正确",f.txtIncorrect[a.GERMAN]="{{numberIncorrect}} Falsch",f.txtIncorrect[a.JAPANESE]="不正解 {{numberIncorrect}}",f.txtYourAnswer={},f.txtYourAnswer[a.ENGLISH]=". 您的答案: ",
f.txtYourAnswer[a.GERMAN]=". Ihre Antwort: ",f.txtYourAnswer[a.JAPANESE]=". 解答/回答: ",f.txtCorrectAnswer={},f.txtCorrectAnswer[a.ENGLISH]=". 正确答案: ",f.txtCorrectAnswer[a.GERMAN]=". Richtige Antwort: ",f.txtCorrectAnswer[a.JAPANESE]=". 正解: ",f.accessBtnClearSearch={},f.accessBtnClearSearch[a.ENGLISH]="清除搜索",f.accessBtnClearSearch[a.GERMAN]="Suche löschen",f.accessBtnClearSearch[a.JAPANESE]="検索をクリア",f.accessBtnRewind={},f.accessBtnRewind[a.ENGLISH]="倒带",f.accessBtnRewind[a.GERMAN]="Zurückspulen",f.accessBtnRewind[a.JAPANESE]="巻き戻し",f.accessBtnPlay={},f.accessBtnPlay[a.ENGLISH]="播放",f.accessBtnPlay[a.GERMAN]="Wiedergabe",f.accessBtnPlay[a.JAPANESE]="再生",f.accessBtnPrevious={},f.accessBtnPrevious[a.ENGLISH]="上一个",f.accessBtnPrevious[a.GERMAN]="Zurück",f.accessBtnPrevious[a.JAPANESE]="前へ",f.accessBtnNext={},f.accessBtnNext[a.ENGLISH]="下一个",f.accessBtnNext[a.GERMAN]="Weiter",f.accessBtnNext[a.JAPANESE]="次へ",f.accessBtnProgressBar={},f.accessBtnProgressBar[a.ENGLISH]="进度条滑块",f.accessBtnProgressBar[a.GERMAN]="Fortschrittsbalken",f.accessBtnProgressBar[a.JAPANESE]="進行状況バー スライダー",f.accessBtnVolume={},f.accessBtnVolume[a.ENGLISH]="静音",f.accessBtnVolume[a.GERMAN]="Stumm",f.accessBtnVolume[a.JAPANESE]="ミュート",f.accessTxtVolume={},f.accessTxtVolume[a.ENGLISH]="音量",f.accessTxtVolume[a.GERMAN]="Volumen",f.accessTxtVolume[a.JAPANESE]="音量",f.accessBtnClosedCaption={},f.accessBtnClosedCaption[a.ENGLISH]="关闭字幕",f.accessBtnClosedCaption[a.GERMAN]="Geschlossene Beschriftung",f.accessBtnClosedCaption[a.JAPANESE]="クローズド キャプション",f.accessBtnTableOfContents={},f.accessBtnTableOfContents[a.ENGLISH]="目录",f.accessBtnTableOfContents[a.GERMAN]="Inhaltsverzeichnis",f.accessBtnTableOfContents[a.JAPANESE]="目次",f.accessBtnSettings={},f.accessBtnSettings[a.ENGLISH]="播放器设置",f.accessBtnSettings[a.GERMAN]="Einstellungen",f.accessBtnSettings[a.JAPANESE]="プレーヤー設定",f.accessBtnFullScreen={},f.accessBtnFullScreen[a.ENGLISH]="全屏",f.accessBtnFullScreen[a.GERMAN]="Vollbild",f.accessBtnFullScreen[a.JAPANESE]="全画面",f.accessBtnFullScreenExpand={},f.accessBtnFullScreenExpand[a.ENGLISH]="在新标签中打开",f.accessBtnFullScreenExpand[a.GERMAN]="In neuem Tab öffnen",f.accessBtnFullScreenExpand[a.JAPANESE]="新しいタブで開く",f.accessBtnTakeQuiz={},f.accessBtnTakeQuiz[a.ENGLISH]="点击进行测验。",f.accessBtnTakeQuiz[a.GERMAN]="Klicken Sie hier, um die Quizfragen zu beantworten.",f.accessBtnTakeQuiz[a.JAPANESE]="クリックしてクイズに答える。",f.accessBtnShowQuiz={},f.accessBtnShowQuiz[a.ENGLISH]="显示测验",f.accessBtnShowQuiz[a.GERMAN]="Quiz anzeigen",f.accessBtnShowQuiz[a.JAPANESE]="クイズの表示",f.accessBtnHideQuiz={},f.accessBtnHideQuiz[a.ENGLISH]="隐藏测验",f.accessBtnHideQuiz[a.GERMAN]="Quiz ausblenden",f.accessBtnHideQuiz[a.JAPANESE]="クイズの非表示",f.accessBtnShowAnswer={},f.accessBtnShowAnswer[a.ENGLISH]="显示答案",f.accessBtnShowAnswer[a.GERMAN]="Antworten anzeigen",f.accessBtnShowAnswer[a.JAPANESE]="解答・回答の表示",f.accessBtnHideAnswer={},f.accessBtnHideAnswer[a.ENGLISH]="隐藏答案",f.accessBtnHideAnswer[a.GERMAN]="Antworten ausblenden",f.accessBtnHideAnswer[a.JAPANESE]="解答・回答の非表示",f.accessBtnAnswersSubmitted={},f.accessBtnAnswersSubmitted[a.ENGLISH]="答案提交！",f.accessBtnAnswersSubmitted[a.GERMAN]="Antworten wurden übermittelt!",f.accessBtnAnswersSubmitted[a.JAPANESE]="解答・回答を送信しました!",f.accessBtnWereNotGraded={},f.accessBtnWereNotGraded[a.ENGLISH]=" 分数中未包含的问题。",f.accessBtnWereNotGraded[a.GERMAN]=" wurden nicht bewertet.",f.accessBtnWereNotGraded[a.JAPANESE]=" スコアに含まれない質問。",f.accessBtnWasNotGraded={},f.accessBtnWasNotGraded[a.ENGLISH]=" 分数中未包含的问题。",f.accessBtnWasNotGraded[a.GERMAN]=" wurden nicht bewertet.",f.accessBtnWasNotGraded[a.JAPANESE]=" スコアに含まれない質問。",f.accessBtnCorrectOutOf={},f.accessBtnCorrectOutOf[a.ENGLISH]=" 问中 ",f.accessBtnCorrectOutOf[a.GERMAN]=" korrekte Antworten von ",f.accessBtnCorrectOutOf[a.JAPANESE]=" 問中 ",f.accessBtnGradedQuestions={},f.accessBtnGradedQuestions[a.ENGLISH]=" 分数中包含的问题。",f.accessBtnGradedQuestions[a.GERMAN]=" bewerteten Antworten.",f.accessBtnGradedQuestions[a.JAPANESE]=" 分数中包含的问题。",f.accessBtnClickToReplayLink={},f.accessBtnClickToReplayLink[a.ENGLISH]="重播",f.accessBtnClickToReplayLink[a.GERMAN]="Wiederholen",f.accessBtnClickToReplayLink[a.JAPANESE]="再生";var g=function(b){a.isValid(b)&&(c=b)},h=function(){return c},i=function(a,b){if(void 0===f[a])throw new Error("setString(): '"+a+"' string does not exist in the player.");f[a][c]=b},j=function(){if(!e)for(var a=f.txtQuestionCount[c].split(" "),b=0;b<a.length;b++)if(a[b].indexOf("{{")===-1){e=a[b];break}return e},k=function(a){a.controllerParameters.forEach(function(a){switch(a.name.toLowerCase()){case"locale":g(a.value)}})},l=function(a){a.quizParameters.forEach(function(a){try{i(a.name,a.value)}catch(a){b.logMessage(a.message)}})},m=function(a){k(a),l(a)},n=function(){d={},Object.keys(f).forEach(function(a){Object.defineProperty(d,a,{get:function(){return f[a][c]}})})};return n(),Object.defineProperties({setLanguage:g,getLanguage:h,getQuestionCountPreposition:j,configureFromXmp:m},{strings:{get:function(){return d}}})}),function(a,b,c){"use strict";a.TSC=a.TSC||{},a.TSC.iOSTextInputFix=function(){var d,e,f=b(a),g=a.document.getElementsByTagName("body")[0],h=8,i=0,j=0,k=function(a){a.keyCode===h?i--:i++;var b=d.value,c=b.length-i;if(c<0){var f=d.cloneNode(!0);g.appendChild(f),j++,setTimeout(function(){f.focus(),g.removeChild(f),e&&e(j)},100),i=d.value.length}},l=function(){d=void 0,f.unbind("keyup",k)};return{setOnBugCallback:function(a){e=a},watch:function(a){l(),d=a,i=d.value===c.strings.search?0:d.value.length,f.bind("keyup",k)},clear:l}}()}(this,window.jQuery,window.TSC.localizationStrings),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.ieFullscreenDimensionsFix=b(a,a.document,a.$)}(this,function(a,b,c){"use strict";var d,e={width:c.fn.width,innerWidth:c.fn.innerWidth,outerWidth:c.fn.outerWidth,height:c.fn.height,innerHeight:c.fn.innerHeight,outerHeight:c.fn.outerHeight,offset:c.fn.offset},f=function(a){return parseInt(a.css("margin-left"),10)+parseInt(a.css("margin-right"),10)},g=function(a){return parseInt(a.css("margin-top"),10)+parseInt(a.css("margin-bottom"),10)},h=function(a){return parseInt(a.css("padding-left"),10)+parseInt(a.css("padding-right"),10)},i=function(a){return parseInt(a.css("padding-top"),10)+parseInt(a.css("padding-bottom"),10)},j=function(a){return parseInt(a.css("border-left-width"),10)+parseInt(a.css("border-right-width"),10)},k=function(a){return parseInt(a.css("border-top-width"),10)+parseInt(a.css("border-bottom-width"),10)},l=function(l){d=c("body");var m=function(){return b.msFullscreenElement&&e.width.call(d)!==e.width.call(l)};c.fn.width=function(){return 0===arguments.length&&0 in this&&m()&&this[0]!==a?Math.round(100*this[0].getBoundingClientRect().width-h(this)-j(this)):e.width.apply(this,c.makeArray(arguments))},c.fn.innerWidth=function(){return 0===arguments.length&&0 in this&&m()&&this[0]!==a?Math.round(100*this[0].getBoundingClientRect().width-j(this)):e.innerWidth.apply(this,c.makeArray(arguments))},c.fn.outerWidth=function(b){var d;return arguments.length<=1&&0 in this&&m()&&this[0]!==a?(d=Math.round(100*this[0].getBoundingClientRect().width),b?d+f(this):d):e.outerWidth.apply(this,c.makeArray(arguments))},c.fn.height=function(){return 0===arguments.length&&0 in this&&m()&&this[0]!==a?Math.round(100*this[0].getBoundingClientRect().height-i(this)-k(this)):e.height.apply(this,c.makeArray(arguments))},c.fn.innerHeight=function(){return 0===arguments.length&&0 in this&&m()&&this[0]!==a?Math.round(100*this[0].getBoundingClientRect().height-k(this)):e.innerHeight.apply(this,c.makeArray(arguments))},c.fn.outerHeight=function(b){var d;return arguments.length<=1&&0 in this&&m()&&this[0]!==a?(d=Math.round(100*this[0].getBoundingClientRect().height),b?d+g(this):d):e.outerHeight.apply(this,c.makeArray(arguments))},c.fn.offset=function(){var a;return 0===arguments.length&&0 in this&&m()?(a=e.offset.apply(this),a&&(a.top=Math.round(100*a.top),a.left=Math.round(100*a.left)),a):e.offset.apply(this,c.makeArray(arguments))}};return{initialize:l}}),function(a){"use strict";a.TSC=a.TSC||{},a.TSC.playerType=function(){return{HTML5_VIDEO:"html5",YOUTUBE:"youtube",IMAGE:"image",TSCPROJ:"tscproj",NOT_SUPPORTED:"not_supported"}}()}(this),function(a){"use strict";a.TSC=a.TSC||{},a.TSC.mediaMimeType=function(){return{JSON:"application/json",M3U:"application/mpegurl",MP4:"video/mp4",WEBM:"video/webm",OGV:"video/ogg",JPEG:"image/jpeg",PNG:"image/png",GIF:"image/gif",UNKNOWN:""}}()}(this),function(a,b){"use strict";a.TSC=a.TSC||{},a.TSC.deviceInfo=function(){var c=!1,d=!1,e=!1,f=!1,g=!1,h=!1,i=null,j=null,k=null,l=!1,m=!1,n=!1,o=!1,p=!1,q=!1,r=!1,s=!1,t=!1,u=!1,v=!1,w=function(){switch(a.location.protocol){case"http:":case"https:":return!1;case"file:":return!0}},x=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]}},y=function(){var w=document.createElement("video")||!1;if(c=w&&"undefined"!=typeof w.canPlayType,d=c&&w.canPlayType(b.MP4),e=c&&w.canPlayType(b.OGG),f=c&&w.canPlayType(b.WEBM),n=null!==navigator.userAgent.match(/iPad/i),o=null!==navigator.userAgent.match(/iPhone/i),p=null!==navigator.userAgent.match(/iPod/i),q=n||o||p,r=navigator.userAgent.toLowerCase().indexOf("android")!==-1,m=navigator.userAgent.toLowerCase().indexOf("chrome")!==-1,g="Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),h=null!==navigator.userAgent.match(/Edge/i),l=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=null!==navigator.userAgent.match(/Safari/i)&&!m,s=null!==navigator.userAgent.match(/Nuevo/i),g){var y=navigator.userAgent,z=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!==z.exec(y)&&(i=parseFloat(RegExp.$1))}if(q&&x()&&(k=x()[0]),t){var A=new RegExp("Version/(.*) Safari"),B=navigator.appVersion.match(A).slice(1)[0];j=B.substring(0,B.indexOf("."))}v=screen.availWidth<640&&screen.availHeight<480||screen.availWidth<480&&screen.availHeight<640,u=a.devicePixelRatio&&a.devicePixelRatio>1,(o||p)&&s&&u&&(n=!0,o=p=!1)};return{isSmallScreen:function(){return v},isRetinaDisplay:function(){return u},isNuevoApp:function(){return s},isIPad:function(){return n},isIPhoneOrIPod:function(){return o||p},isIOS:function(){return q},isIE:function(){return g},isEdge:function(){return h},getIEVersion:function(){return i},getSafariMajorVersion:function(){return j},getIOSMajorVersion:function(){return k},getIOSSupportsInlineVideo:function(){return n||s||(o||p)&&k>=10},isFirefox:function(){return l},isChrome:function(){return m},isSafari:function(){return t},isAndroid:function(){return r},canPlayHTML5Video:function(){return c},canPlayMP4:function(){return d},canPlayOgg:function(){return e},canPlayWebM:function(){return f},isTouchInterface:function(){return"ontouchstart"in document.documentElement||this.isTouchIEInterface()},isTouchIEInterface:function(){return navigator.msMaxTouchPoints},getFullScreenChangeEventNames:function(){return"webkitfullscreenchange MSFullscreenChange mozfullscreenchange fullscreenchange"},requiresManualPreload:function(){return q&&this.getIOSSupportsInlineVideo()||r},supportsFullScreen:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled},mediaLocation:function(){var a=document.location.href,b=a.lastIndexOf("/"),c=a.substring(0,b+1);return g&&(c=encodeURI(c)),c=c.split("%25").join("%")},isLocal:function(){return w()},lookAtDevice:function(){y()}}}()}(this,window.TSC.mediaMimeType),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.urlService=b(a)}(this,function(a){"use strict";var b=function(a){return"string"==typeof a&&0!==a.indexOf("http://")&&0!==a.indexOf("https://")&&(a="http://"+a),a},c=function(c,d){c=b(c),d?a.open(c,d):a.open(c)},d=function(a){return 0===a.indexOf("http://")||0===a.indexOf("https://")};return{openUrl:c,isUrlAbsolute:d}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.BackoffStrategyFactory=b(a.Q)}(this,function(a){"use strict";var b=2,c=2e3,d=2e4,e=function(e,f,g){"undefined"==typeof e&&(e=b),"undefined"==typeof f&&(f=c),"undefined"==typeof g&&(g=d);var h=function(){var b=0,c=function(){if(b++,b>e)return a.reject();var c=Math.min(f*b,g);return a.delay(c)};return{backoff:c}};return{create:h}},f=function(b,e){"undefined"==typeof b&&(b=c),"undefined"==typeof e&&(e=d);var f=function(){var c=0,d=function(){c++;var d=Math.min(b*c,e);return a.delay(d)};return{backoff:d}};return{create:f}};return{create:e,createWithUnlimitedRetries:f}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.HttpService=b(a.JSON,a.$,a.Q,c.log,c.BackoffStrategyFactory)}(this,function(a,b,c,d,e){"use strict";b.support.cors=!0;var f=1e4,g=function(g,h){g=g||e.create(),"undefined"==typeof h&&(h=!0);var i=function(a,c){return j(a,b.param(c),"application/x-www-form-urlencoded; charset=UTF-8","POST")},j=function(e,i,j,k){var l=g.create(),m={url:e,type:k,data:i,contentType:j,crossDomain:!0,timeout:f},n=function(f){var g=c.defer();return c(b.ajax(m)).then(g.resolve).catch(function(b){if(h&&b&&"timeout"!==b.statusText){var c="";try{c="Error: "+a.stringify(b,null,2)+" Url: "+e+" Data: "+a.stringify(i,null,2)}catch(a){c="(response failed conversion into a JSON string.)"}d.logException(c)}l.backoff().then(function(){f++,g.notify(f),n(f).progress(g.notify).then(g.resolve).catch(g.reject)}).catch(function(a){d.logException("Call to "+e+" failed after "+f+" retries."),g.reject(a)})}),g.promise};return n(0)};return{sendFormDataPost:i}};return{create:g}}),function(a,b,c){"use strict";a.TSC=a.TSC||{},a.TSC.playerConfiguration=function(){var d,e,f,g,h,i,j,k,l,m,n,o,p=[],q="100%",r="100%",s=0,t="stop",u=!0,v=!0,w=!1,x=-1,y=null,z=!1,A=!1,B="left",C="#000",D=!1,E=!1,F=!0,G=!1,H=!0,I=!0,J=!1,K=!1,L=!1,M=!0,N=!0,O=!1,P=!1,Q=!1,R=!1,S=!1,T="",U=!0,V=!1,W="",X=["none","metadata","auto"],Y=X[0],Z=!0,$="",_=!1,aa=function(a){return a.replace(/&#8217;/g,"'")},ba=function(a){return/[^\u0000-\u00ff]/.test(a)},ca=function(){return 0===a.document.location.href.indexOf("http")},da=function(a){$=a},ea=function(a){return void 0===a?a:E?b.isIE()?ca()?ba(a)?encodeURI(a):a:decodeURI(a):encodeURI(a):a};return{isIEOnServerWithUnicode:function(){return b.isIE()&&ca()&&E},runOnServer:ca,getUnicodeSafeString:ea,getMediaSrc:function(){return p.length>0?p[0]:""},clearConfiguration:function(){p=[],z=!1,y=null},setMediaSrc:function(a){p[0]=aa(a)},addMediaSrc:function(a){"string"==typeof a?p.push(aa(a)):p.push(a)},getMediaSources:function(){return p},getMediaFileName:function(){var a=p.length>0?p[0]:void 0;if(a){var b=a.split("/"),c=b[b.length-1];return c.split("?")[0]||"Unnamed Media"}return"No Media"},getXMPSrc:function(){return ea(d)},setXMPSrc:function(a){d=aa(a)},getPosterImageSrc:function(){return ea(e)},setPosterImageSrc:function(a){e=a},getTOCSpriteSrc:function(){return ea(f)},setTOCSpriteSrc:function(a){f=a},getUnableToDisplayContentString:function(){return c.strings.videoNotSupported},getPlayerWidth:function(){return q},setPlayerWidth:function(a){q=a},getPlayerHeight:function(){return r},setPlayerHeight:function(a){r=a},getMediaRotation:function(){return s},setMediaRotation:function(a){s=a},getEndActionType:function(){return t},setEndActionType:function(a){t=a},getEndActionParam:function(){return u},setEndActionParam:function(a){u=a},getIsSearchable:function(){return v},setIsSearchable:function(a){v=a},getAutoPlayMedia:function(){return w},setAutoPlayMedia:function(a){w=a},getAllowRewind:function(){return x},setAllowRewind:function(a){x=a},getCaptionsEnabled:function(){return y===!0},setCaptionsEnabled:function(a){y=a},getIgnoreStoredCaptionVisibleSetting:function(){return z},setIgnoreStoredCaptionVisibleSetting:function(a){z=a},getSidebarEnabled:function(){return A},setSidebarEnabled:function(a){A=a},getSidebarLocation:function(){return B},setSidebarLocation:function(a){B=a},getBackgroundColor:function(){return C},setBackgroundColor:function(a){C=a},setDebugHotspot:function(a){D=a},getDebugHotspot:function(){return D},setAutoHideControls:function(a){F=a},getAutoHideControls:function(){return F},setProcessUnicodeNames:function(a){E=a},getProcessUnicodeNames:function(){return E},setReportScormComplete:function(a){G=a},getReportScormComplete:function(){return G},setEnforceLinearAssessment:function(a){H=a},getEnforceLinearAssessment:function(){return H},setDisableFullframeMode:function(a){I=a},getDisableFullframeMode:function(){return I},getDisableControls:function(){return J},setDisableControls:function(a){J=a},getMobileWebViewCanAutoPlay:function(){return K},setMobileWebViewCanAutoPlay:function(a){K=a},setGoogleAnalyticsID:function(a){g=a},getGoogleAnalyticsID:function(){return g},setGAPageViewTracking:function(a){M=a},getGAPageViewTracking:function(){return M},setGAEventTracking:function(a){N=a},getGAEventTracking:function(){return N},useCustomEventTracking:function(a,b){O=a,h=b},getTrackEvents:function(){return O||void 0!==g},getCustomEventTracking:function(){return O},getCustomEventCallback:function(){return h},setAltEventCategoryAsFilename:function(a){P=a},getAltEventCategoryAsFilename:function(){return P},setAltLoadTimeAsSeconds:function(a){Q=a},getAltLoadTimeAsSeconds:function(){return Q},setAdvancedSeeking:function(a){L=a},getAdvancedSeeking:function(){return L},setTechSmithAccessToken:function(a){j=a,S=!0},getTechSmithAccessToken:function(){return j},getIsUserIdentified:function(){return S},setJumpToTime:function(a){i=a},getJumpToTime:function(){return i},setDebugUIMode:function(a){R=a},getDebugUIMode:function(){return R},setFathomId:function(a){k=a},getFathomId:function(){return k},setAdditionalAppQueryParamsFromJson:function(a){var b="";for(var c in a)b+="&"+c+"="+a[c];T=b},getAdditionalAppQueryString:function(){return T},setScormStartPt:function(a){m=a},getScormStartPt:function(){return m},setEmbedIFrameId:function(a){l=a},getEmbedIFrameId:function(){return l},setUseSlimAppSplashScreen:function(a){U=a},getUseSlimAppSplashScreen:function(){return U},getDisableContextMenuForVideo:function(){return _},setDisableContextMenuForVideo:function(a){_=a},saveConfigurationFromQueryString:function(a){if(a instanceof Array)for(var b,c=a.length,d=0;d<c;d++)if(b=a[d].split("="),2===b.length)switch(b[0].toLowerCase()){case"embediframeid":l=b[1];break;case"t":i=b[1];break;case"autoplay":"true"===b[1].toLowerCase()?w=!0:"false"===b[1].toLowerCase()&&(w=!1);break;case"autohidecontrols":"true"===b[1].toLowerCase()?F=!0:"false"===b[1].toLowerCase()&&(F=!1)}},getShowYouTubeAnnotations:function(){return V},setShowYouTubeAnnotations:function(a){V=a},getPreRollSrc:function(){return n},setPreRollSrc:function(a){n=a},setContentBase:da,getContentBase:function(){return $},getContentType:function(){return W},setContentType:function(a){W=a},getPreload:function(){return Y},setPreload:function(a){X.indexOf(a)!==-1&&(Y=a)},getFullViewPort:function(){return Z},setFullViewPort:function(a){Z=a},getWebConnector:function(){return o},setWebConnector:function(a){o=a},configureFromXmp:function(a){a.controllerParameters.forEach(function(a){switch(a.name.toLowerCase()){case"autohide":F="true"===a.value;break;case"autostart":case"autoplay":w||(w="true"===a.value);break;case"searchable":v="true"===a.value;break;case"captionsenabled":z||(y="true"===a.value);break;case"sidebarenabled":A="true"===a.value;break;case"unicodeenabled":E="true"===a.value;break;case"backgroundcolor":var b=a.value;b.indexOf("#")===-1&&(b="#"+b),C=b;break;case"sidebarlocation":var c="right"===a.value||"r"===a.value?"right":"left";B=c;break;case"endaction":t=a.value;break;case"endactionparam":u=a.value}});var b=t.toLowerCase();if("jumptourl"===b||"jumptourlnew"===b){var c=u.toLowerCase();0!==c.indexOf("http://")&&0!==c.indexOf("https://")&&(t="stop",u="true")}},setSwfBase:function(a){da(a)},setFlashUpdateBootstrapSwf:function(){},setFlashPlayerSwf:function(){},setForceFlashPlayer:function(){},setForceHtml5Player:function(){},setConfigurationSrc:function(){},setPrioritizeFullScreen:function(){}}}()}(this,window.TSC.deviceInfo,window.TSC.localizationStrings),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.textSanitizer=b()}(this,function(){"use strict";var a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,b=function(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):a},c=function(b){return a.test(b)};return{htmlEncode:b,isValidEmail:c}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.highlightDisabler=b()}(this,function(){"use strict";var a="outline-style",b=function(b){b.css(a,"none").on("blur",function(){b.off("blur").css(a,"")})},c=function(a,c){(c.screenX||c.screenY)&&b(a)},d=function(b){var c=b.css(a);return"none"!==c&&""!==c};return{disableHighlights:b,disableHighlightsOnMouseClick:c,checkIfElementIsHighlighted:d}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.CaptionService=b(a.tscme,a.tinycolor)}(this,function(a,b){"use strict";var c=Object.freeze(b({r:255,g:255,b:255,a:1})),d=Object.freeze(b({r:0,g:0,b:0,a:.9})),e=Object.freeze({captionFontFamily:"Arial, Helvetica, sans-serif;",captionFontSize:24,captionFontSizeMin:14,captionFontSizeMax:144,captionTextColor:c,captionBgColor:d,captionPosition:"overlay",captionBarHeight:0}),f=function(){var c=e.captionPosition,d=e.captionBarHeight,f=e.captionFontFamily,g=e.captionFontSize,h=e.captionFontSizeMin,i=e.captionFontSizeMax,j=e.captionTextColor.clone(),k=e.captionBgColor.clone(),l=a.CaptionTrack.create({captions:[]}),m=function(a){g=Math.min(Math.max(a,h),i)},n=function(a){c=a.captionPosition,d=a.captionBarHeight,f=a.captionFontFamily,g=a.captionFontSize,h=a.minCaptionFontSize,i=a.maxCaptionFontSize,j=b(a.captionTextColor),k=b(a.captionBg),l=a.captionTrack};return Object.defineProperties({initFromXmp:n},{position:{get:function(){return c}},height:{get:function(){return d}},font:{get:function(){return f},set:function(a){f=a}},fontEnclosedWithQuotes:{get:function(){var a=f.split(","),b=a.map(function(a){return"'"+a.trim()+"'"});return b.join(",")}},fontSize:{get:function(){return g},set:m},fontSizeMin:{get:function(){return h}},fontSizeMax:{get:function(){return i}},textColor:{get:function(){return j},set:function(a){j=b(a)}},backgroundColor:{get:function(){return k},set:function(a){k=b(a)}},backgroundOpacity:{get:function(){return k.getAlpha()},set:function(a){k.setAlpha(a)}},captionTrack:{get:function(){return l},set:function(a){l=a,k=b({r:l.bgColor.r,g:l.bgColor.g,b:l.bgColor.b,a:l.bgOpacity}),j=b({r:l.fgColor.r,g:l.fgColor.g,b:l.fgColor.b}),m(l.fontSize),f=l.fontFamily,d=l.barHeight,c=l.position}},hasCaptions:{get:function(){return l.captionCollection.captions.length>0}}})};return{create:function(){return f()},defaults:function(){return e}}}),function(a){"use strict";a.TSC=a.TSC||{},a.TSC.questionType=function(){return{FILL_IN:"FITB",CHOICE:"MC",SHORT:"SHORT"}}()}(this),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.quizDataXmlConverter=b(c.textSanitizer,c.questionType)}(this,function(a,b){"use strict";var c=1,d=function(d,e){var f='<?xml version="1.0" encoding="UTF-8" ?>';return f+='<UserResponse instance="'+e+'" quiz="'+d.quizId+'" order="'+d.order+'" version="'+c+'">',d.questions.forEach(function(c){f+='<Question type="'+c.type+'" id="'+c.id+'">',f+="<Duration>"+c.duration+"</Duration>",f+="<Response>"+a.htmlEncode(c.response)+"</Response>",c.type!==b.SHORT&&void 0!==c.correct&&(f+="<Correct>"+(c.correct?"True":"False")+"</Correct>"),f+="<SegmentWatched>"+c.segmentWatched+"</SegmentWatched>",f+="</Question>"}),f+="</UserResponse>"},e=function(d){var e='<?xml version="1.0" encoding="UTF-8" ?>';return e+='<QuizDefinition  version="'+c+'" quiz="'+d.quizId+'" locale="'+d.lang+'">',e+="<ProjectName>"+a.htmlEncode(d.projectName)+"</ProjectName>",e+="<ProductionName>"+d.productionName+"</ProductionName>",e+="<OriginId>"+d.originId+"</OriginId>",e+="<MediaDuration>"+d.mediaDuration+"</MediaDuration>",e+="<ReportRecipients>",d.reportRecipients.forEach(function(a){e+="<Email>"+a+"</Email>"}),e+="</ReportRecipients>",e+="<QuestionSets>",d.questionSets.forEach(function(c){e+='<QuestionSet name="'+a.htmlEncode(c.name)+'" mediaTimePosition="'+c.mediaTimePosition+'" order="'+c.order+'">',c.questions.forEach(function(c){e+='<Question type="'+c.type+'" id="'+c.id+'">',e+="<QuestionText>"+a.htmlEncode(c.questionText,!0)+"</QuestionText>",c.type===b.CHOICE?(e+="<Choices>",c.choices.forEach(function(b){e+="<Answer>"+a.htmlEncode(b,!0)+"</Answer>"}),e+="</Choices>",e+="<CorrectAnswer>"+c.correctAnswer+"</CorrectAnswer>"):c.type===b.FILL_IN&&(e+="<Answers>",c.choices.forEach(function(b){e+="<Answer>"+a.htmlEncode(b,!0)+"</Answer>"}),e+="</Answers>"),e+="</Question>"}),e+="</QuestionSet>"}),e+="</QuestionSets>",e+="</QuizDefinition>"};return{questionSetToXml:d,quizDefinitionToXml:e}}),function(a){"use strict";a.TSC=a.TSC||{},a.TSC.reportType=function(){var a="NONE",b="API",c="SCORM",d="APIANDSCORM";return{NONE:a,API:b,SCORM:c,APIANDSCORM:d,isValid:function(e){return e===a||e===b||e===c||e===d}}}()}(this),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.QuestionSetMarker=b()}(this,function(){"use strict";var a=250,b=100,c=function(c,d){var e=c,f=d.startTime,g=d.startTime-a,h=d.startTime+b,i=!1;return Object.defineProperties({},{questionSetIndex:{get:function(){return e},set:function(a){e=a}},rangeStart:{get:function(){return g},set:function(a){g=a}},rangeEnd:{get:function(){return h},set:function(a){h=a}},startTime:{get:function(){return f},set:function(a){f=a}},completed:{get:function(){return d.completed}},canSeekPast:{get:function(){return d.completed||i},set:function(a){i=a}}})};return{create:c}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.Question=b(c.questionType)}(this,function(a){"use strict";var b=function(b){var c,d,e,f=!1,g=0,h=!1,i=!1,j=function(b,c,d){return b===a.CHOICE&&c&&c>0||b===a.FILL_IN&&d.length>0};f=j(b.type,b.correctAnswer,b.answers),e=b.correctAnswer;var k=function(){return{id:b.id,type:b.type,questionText:b.text,choices:b.answers.map(function(a){return a.text}),correctAnswer:e}},l=function(f){var h={type:b.type,id:b.id,duration:g,response:c,correct:d,segmentWatched:f};return b.type===a.CHOICE&&0===e&&delete h.correct,h},m=function(a){var c=null;return b.feedback.forEach(function(b){b.reason===a&&(c=b)}),c};return Object.defineProperties({toJSON:k,getQuizServiceData:l,getFeedbackForReason:m},{id:{get:function(){return b.id}},type:{get:function(){return b.type}},text:{get:function(){return b.text}},correctAnswer:{get:function(){return e},set:function(a){e=a}},answers:{get:function(){return b.answers}},feedback:{get:function(){return b.feedback}},isGraded:{get:function(){return f},set:function(a){f=a}},userResponse:{get:function(){return c},set:function(a){h||(c=a)}},isResponseCorrect:{get:function(){return d},set:function(a){d=a}},attemptDuration:{get:function(){return g},set:function(a){h||(g=a)}},responseLocked:{get:function(){return h},set:function(a){h=a}},feedbackActionExecuted:{get:function(){return i},set:function(a){i=a}}})};return{create:b}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.QuestionSet=b(c.Question)}(this,function(a){"use strict";var b=function(b,c){var d=[],e=c,f=0,g=0,h=0,i=function(){b.questions.forEach(function(b){d.push(a.create(b))})},j=function(){g=0,h=0,d.forEach(function(a){a.isGraded?g++:h++})},k=function(){return{name:b.name,mediaTimePosition:b.startTime,order:e,questions:d.map(function(a){return a.toJSON()})}},l=function(a){var b={};return b.quizId=a,b.order=e,b.questions=d.filter(function(a){return a.responseLocked}).map(function(a){return a.getQuizServiceData(f)}),JSON.stringify(b)};return i(),j(),Object.defineProperties({toJSON:k,getQuizServiceData:l,cacheQuestionDetails:j},{name:{get:function(){return b.name}},displayFeedback:{get:function(){return b.feedback}},startTime:{get:function(){return b.startTime}},questions:{get:function(){return d}},inProgress:{get:function(){return d.some(function(a){return a.responseLocked})}},completed:{get:function(){return d.every(function(a){return a.responseLocked})}},percentOfVideoSegmentWatched:{get:function(){return f},set:function(a){f=a}},numberGradedQuestions:{get:function(){return g}},numberUngradedQuestions:{get:function(){return h}},numberCorrectQuestions:{get:function(){var a=d.filter(function(a){return a.isGraded&&a.isResponseCorrect});return a.length}},usesRationale:{get:function(){return d.some(function(a){return a.feedback.length>0})}}})};return{create:b}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.Quiz=b(a,a.JSON,c.reportType,c.questionType,c.QuestionSetMarker,c.QuestionSet)}(this,function(a,b,c,d,e,f){"use strict";var g=2e3,h=function(a){var d,h,i,j,k,l,m,n,o=c.NONE,p=!0,q=!1,r=[],s=[],t=0,u="",v=!0,w=function(){var a={};return a.quizId=k,a.lang=u,a.projectName=i,a.productionName=d,a.originId=h,a.mediaDuration=t,a.reportRecipients=[l],a.questionSets=[],r.forEach(function(b){a.questionSets.push(b.toJSON())}),b.stringify(a)},x=function(a){v=!("0"===a||a===!1)},y=function(a){c.isValid(a)&&(o=a)},z=function(a){if(!(a<0||a>=r.length))return r[a].getQuizServiceData(k)},A=function(){s=[],r.forEach(function(a,b){s.push(e.create(b,a))})},B=function(){d=a.title,h=a.originId,i=a.project,u=a.quizLocale,j=a.title,k=a.quizGuid,p=a.quizRequireUserId,q=a.quizHideReplay,l=a.quizAuthoredEmail,m=a.quizClientId,n=a.quizHash,t=a.mediaDuration,y(a.quizReportMethod),x(a.quizAllowSkipQuiz),a.quizQuestionSetArray.forEach(function(a,b){r.push(f.create(a,b+1))})},C=function(){var a=0,b=0,c=0;return r.forEach(function(a){b+=a.numberGradedQuestions,c+=a.numberCorrectQuestions}),0!==b&&(a=c/b*100),a},D=function(a){return void 0===a&&(a=-1),r.every(function(b,c){return 0===b.numberGradedQuestions||b.completed||c===a})},E=function(a){var b,c=0;if(a>0)if(a>=r.length)c=r[r.length-1].startTime;else for(var d=a-1;d>=0;d--)if(r[d].completed&&(b=r[a].startTime-r[d].startTime,b>=g)){c=r[d].startTime;break}return c};return B(),A(),Object.defineProperties({getApiDataForQuestionSet:z,getScormScore:C,isLastQuestionComplete:D,getPreviousMarkerTimeForMarker:E},{quizDefinition:{get:function(){return w()}},useQuizApi:{get:function(){return o===c.API||o===c.APIANDSCORM}},useScorm:{get:function(){return o===c.SCORM||o===c.APIANDSCORM}},quizTitle:{get:function(){return j}},quizID:{get:function(){return k}},authoredEmail:{get:function(){return l}},clientId:{get:function(){return m}},quizHash:{get:function(){return n}},mediaDuration:{get:function(){return t}},reportMethod:{set:y,get:function(){return o}},requireUserId:{get:function(){return p}},hideReplay:{get:function(){return q}},allowSkipQuiz:{get:function(){return v}},locale:{get:function(){return u}},questionSetMarkerTimes:{get:function(){return s}},numberQuestionSets:{get:function(){return r.length}},questionSets:{get:function(){return r}},minMarkerTimeDiff:{get:function(){return g}},totalNumberOfGradedQuestionSets:{get:function(){var a=0;return r.forEach(function(b){b.numberGradedQuestions>0&&a++}),a}}})};return{create:h}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.quizService=b(a.$,a.Q,c.HttpService,c.log,c.quizDataXmlConverter,c.BackoffStrategyFactory)}(this,function(a,b,c,d,e,f){"use strict";var g="v/1/quiz/definition",h="v/1/quiz/instance?noop=1",i="v/1/quiz/response?noop=1",j="v/1/quiz/progress?noop=1",k=[{label:"Local",url:"https://quiz.techsmith.localhost:11443/"},{label:"Dev",url:"https://quiz.cloud.tsc-dev.co/"},{label:"Stage",url:"https://quiz.cloud.tsc-stage.co/"},{label:"Live",url:"https://quiz.cloud.techsmith.com/"},{label:"TE",url:"https://quizzingtest2.cloud.tsc-dev.co/"}],l=3,m=b.defer(),n=c.create(),o=c.create(f.createWithUnlimitedRetries()),p=c.create(f.create(),!1),q=function(){
o=c.create(f.createWithUnlimitedRetries()),n=c.create(),p=c.create(f.create(),!1),m=b.defer()},r=function(c,d,f){if(!c)return b();"string"==typeof c&&(c=a.parseJSON(c));var h=e.quizDefinitionToXml(c),i=k[l].url+g+"?Quiz-Checksum="+d+"&Quiz-ClientId="+f+"&noop=1",j={DefinitionText:h};return n.sendFormDataPost(i,j).then(function(){return h})},s=function(a,b,c,d,e){var f=k[l].url+h,g={QuizId:a.quizID,CheckForQuizDefinition:void 0===e.getFathomId()};return e.getIsUserIdentified()?g.AccessToken=e.getTechSmithAccessToken():(g.FirstName=b?b:"",g.LastName=c?c:"",g.Email=d?d:""),n.sendFormDataPost(f,g).then(function(b){return b.DefinitionRequired?r(a.quizDefinition,a.quizHash,a.clientId).then(function(){return b}):b}).then(function(a){m.resolve({analyticsSampleRate:a.SampleRate,quizInstanceId:a.Id})}).catch(m.reject),m.promise},t=function(a,b){if(b&&b.length>0)return m.promise.then(function(c){var d=k[l].url+j,e={InstanceId:c.quizInstanceId,Interval:a,ViewedSegments:b};return p.sendFormDataPost(d,e,0)})},u=function(a){l=a},v=function(){return l},w=function(c){return m.promise.then(function(d){if(!d.quizInstanceId)return b.reject("No quiz instance ID found");"string"==typeof c&&(c=a.parseJSON(c));var f=e.questionSetToXml(c,d.quizInstanceId),g=k[l].url+i,h={ResponseText:f};return o.sendFormDataPost(g,h).then(function(a){return a.results})})},x=function(){return m.promise.then(function(a){return a.analyticsSampleRate})};return{setEnvironment:u,getEnvironment:v,startQuizInstance:s,submitQuestionSet:w,sendProgress:t,getAnalyticsRate:x,reset:q}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.Xmp=b(a,a.$,a.Q,a.tscme,c.log,c.playerConfiguration,c.urlService,c.CaptionService)}(this,function(a,b,c,d,e,f,g,h){"use strict";var i=function(){var a=c.defer(),i=null,j=5e3,k=2,l=0,m=null,n=h.defaults(),o=function(c,d,f){b.ajax({type:"GET",url:c,crossDomain:f,dataType:"text",timeout:j}).done(function(a){d<k&&e.logMessage("xmp: loadXMP() succeeded after "+(k-d)+" failed attempts."),q(a)}).fail(function(){d>0?setTimeout(function(){o(c,--d)},l,f):a.reject("xmp: loadXMP() failed after "+k+" retries.")})},p=function(a,b){o(a,k,b)},q=function(b){try{i=d.Xmp.create(b),a.resolve()}catch(b){a.reject("xmp - failed to parse XMP string")}},r=function(){var a=null,b=-1;m=[],i.screenTextTrack.markers.forEach(function(c){c.startTime!==a&&(b++,a=c.startTime,m[b]={startTime:c.startTime,file:c.file,image:c.image,imageRectangle:c.imageRectangle,items:[]}),m[b].items.push(c)}),m.forEach(function(a){a.text=a.items.map(function(a){return a.name}).reduce(function(a,b){return a+" "+b})})};return Object.defineProperties({load:p,parse:q},{ready:{get:function(){return a.promise}},hasAdvancedFeatures:{get:function(){return i.containsToc||i.containsCaptions||i.containsHotspots||i.containsQuiz}},hasTocItems:{get:function(){return i.containsToc}},hasCaptionItems:{get:function(){return i.containsCaptions}},hasHotspotItems:{get:function(){return i.containsHotspots}},hasQuiz:{get:function(){return i.containsQuiz}},hasScreenTextItems:{get:function(){return i.containsScreenText}},hasSpeechTextItems:{get:function(){return i.containsSpeechText}},hasSearchableItems:{get:function(){return i.containsToc||i.containsCaptions||i.containsScreenText||i.containsSpeechText}},project:{get:function(){return i.project}},originId:{get:function(){return i.originId}},mediaDuration:{get:function(){return i.duration.value}},title:{get:function(){return i.title}},controllerParameters:{get:function(){return i.controller&&i.controller.parameters?i.controller.parameters:[]}},tocImageSrc:{get:function(){return i.containsToc?i.tableOfContentsTrack.image:null}},tocCellLayoutType:{get:function(){return i.containsToc?i.tableOfContentsTrack.cellLayout:null}},tocItemArray:{get:function(){return i.containsToc?i.tableOfContentsTrack.items:[]}},speechTextItemArray:{get:function(){return i.containsSpeechText?i.speechTrack.markers:[]}},screenTextItemArray:{get:function(){return i.containsScreenText&&null===m&&r(),i.containsScreenText?m:[]}},hotspotItemArray:{get:function(){return i.containsHotspots?i.hotspotTrack.hotspots:[]}},quizGuid:{get:function(){return i.containsQuiz?i.quizTrack.quizGuid:null}},quizAuthoredEmail:{get:function(){return i.containsQuiz?i.quizTrack.authoredEmail:null}},quizRequireUserId:{get:function(){return i.containsQuiz?i.quizTrack.requireUserId:null}},quizLocale:{get:function(){return i.containsQuiz?i.quizTrack.locale:null}},quizReportMethod:{get:function(){return i.containsQuiz?i.quizTrack.reportMethod:null}},quizClientId:{get:function(){return i.containsQuiz?i.quizTrack.clientId:null}},quizHash:{get:function(){return i.containsQuiz?i.quizTrack.quizHash:null}},quizHideReplay:{get:function(){return i.containsQuiz?i.quizTrack.hideReplay:null}},quizAllowSkipQuiz:{get:function(){return i.containsQuiz?i.quizTrack.allowSkipQuiz:null}},quizParameters:{get:function(){return i.containsQuiz&&i.quizTrack.parameters?i.quizTrack.parameters:[]}},quizQuestionSetArray:{get:function(){return i.containsQuiz?i.quizTrack.questionSets:[]}},captionCollection:{get:function(){return i.containsCaptions?i.captionTrack.captionCollection:null}},captionTrack:{get:function(){return i.containsCaptions?i.captionTrack:d.CaptionTrack.create({captions:[]})}},captionItems:{get:function(){return i.containsCaptions?i.captionTrack.captionCollection.captions:[]}},captionFontFamily:{get:function(){return i.containsCaptions&&void 0!==i.captionTrack.fontFamily?i.captionTrack.fontFamily:n.captionFontFamily}},captionFontSize:{get:function(){return i.containsCaptions&&void 0!==i.captionTrack.fontSize?i.captionTrack.fontSize:n.captionFontSize}},minCaptionFontSize:{get:function(){return n.captionFontSizeMin}},maxCaptionFontSize:{get:function(){return n.captionFontSizeMax}},captionBgOpacity:{get:function(){return i.containsCaptions&&void 0!==i.captionTrack.bgOpacity?i.captionTrack.bgOpacity:n.captionBgColor.getAlpha()}},captionTextColor:{get:function(){return i.containsCaptions&&void 0!==i.captionTrack.fgHexColor?i.captionTrack.fgHexColor:n.captionTextColor.toHexString()}},captionBgColor:{get:function(){return i.containsCaptions&&void 0!==i.captionTrack.bgColor?i.captionTrack.bgColor:n.captionBgColor.toHexString()}},captionBg:{get:function(){return i.containsCaptions&&i.captionTrack.bgRGBACssColor?i.captionTrack.bgRGBACssColor:n.captionBgColor.toRgbString()}},captionPosition:{get:function(){return i.containsCaptions&&void 0!==i.captionTrack.position?i.captionTrack.position:n.captionPosition}},captionBarHeight:{get:function(){return i.containsCaptions&&void 0!==i.captionTrack.barHeight?i.captionTrack.barHeight:n.captionBarHeight}},tocContainsThumbs:{get:function(){return i.containsTocThumbnails}},tocThumbImageSrc:{get:function(){return f.getTOCSpriteSrc()?f.getTOCSpriteSrc():g.isUrlAbsolute(i.tocThumbnailImageSrc)?f.getUnicodeSafeString(i.tocThumbnailImageSrc):f.getContentBase()+f.getUnicodeSafeString(i.tocThumbnailImageSrc)}}})};return{create:i}}),function(a,b,c,d,e){"use strict";a.TSC=a.TSC||{},a.TSC.fathomService=function(){var a,b,c,f,g,h,i=!1;a="/Assessment/Xmp/",b=[],b.push({label:"Local",url:"https://results.localhost:444"}),b.push({label:"Dev",url:"https://results.cloud.tsc-dev.co"}),b.push({label:"Stage",url:"https://results.tsc-stage.co"}),b.push({label:"Live",url:"https://results.techsmith.com"}),b.push({label:"TE",url:"https://fathomtest2.cloud.tsc-dev.co"}),c=3;var j=function(a){g&&g.call(this,a)},k=function(){h&&h.call()},l=function(){if(i)setTimeout(j,1e3);else{var g=b[c].url+a+f+"?noop=1",h=e.create();h.load(g,!0),h.ready.then(function(){j(h)}).catch(function(a){d.logMessage("fathom-service: getFathom() failed. "+a),k()})}};return{setEnvironment:function(a){isNaN(a)||a<0||a>b.length-1||(c=a)},getEnvironment:function(){return c},getFathom:function(a){f=a,l()},addEventListener:function(a,b){"GET_COMPLETE"===a?g=b:"ERROR"===a&&(h=b)},removeEventListener:function(a){"GET_COMPLETE"===a?g=void 0:"ERROR"===a&&(h=void 0)}}}()}(this,window.jQuery,window.TSC.deviceInfo,window.TSC.log,window.TSC.Xmp),function(a,b){"use strict";a.TSC=a.TSC||{},a.TSC.progressTracker=function(){var c,d,e=!1,f=!1,g=15e3,h=500,i=1e3,j=function(a){var b=a.length;if(b<1)return[];var c,d=[{start:1e3*a.start(0),end:1e3*a.end(0)}],e=0;for(c=1;c<b;c++)d[e].end>=1e3*a.start(c)-h?d[e].end=1e3*a.end(c):(d.push({start:1e3*a.start(c),end:1e3*a.end(c)}),e++);return d},k=function(a){var c,e,f,h,k,l,m,n,p,q=[],r=1e3*a.duration;for(p=j(a.played),c=0;c<p.length;c++)if(f=p[c].start,h=p[c].end,k=r-1e3*a.currentTime<i,(k||!(h-f<g))&&(l=Math.floor(f/g),f%g!==0&&(l+=1),m=Math.floor(h/g),k||(m-=1),!(m<l)))for(e=l;e<=m;e++)q.push(e);b.sendProgress(g,q),n=q.length===Math.ceil(r/g),n&&(o(),a.removeEventListener("play",d,!1))},l=function(a){var b=function(){n(a),o()};a.addEventListener("ended",b,!1),e=!0},m=function(a){d=function(){c===-1&&p(a)},a.addEventListener("play",d,!1),f=!0},n=function(a){a&&(e||l(a),f||m(a),k(a))},o=function(){c!==-1&&(a.clearInterval(c),c=-1)},p=function(b){var d=function(){n(b),b.paused&&(a.clearInterval(c),c=-1)};c=a.setInterval(d,g)},q=function(a,b){e=!1,f=!1,g=b,o(),p(a)};return{start:q}}()}(window,window.TSC.quizService),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.TscProjTheme=b(a,a.$,a.Q,c.playerConfiguration)}(this,function(a,b,c,d){"use strict";var e=function(a){var b=null,e={},f=d.getWebConnector();return b=f?f.getModule("theme").then(function(b){return b.getThemeByUri(a).then(function(a){return e=a.data})}):c.reject("TscProjTheme: webconnector player configuration required to load TSC proj theme"),Object.defineProperties({},{ready:{get:function(){return b}},theme:{get:function(){return e}}})};return{create:e}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.MediaLibModel=b(a,a.$,a.Q,a.tscml,c.TscProjTheme,c.playerConfiguration)}(this,function(a,b,c,d,e,f){"use strict";var g=function(a){var g,h=null,i=c.defer(),j=function(a){h=d.Project.createFromJSON(a),e.create(h.themeFile.uri).ready.then(function(a){g=a,i.resolve(h)}).catch(function(a){i.reject(a)})},k=f.getWebConnector();return k&&"object"!=typeof a?k.getModule("storage").then(function(b){b.loadProject(a).then(function(a){var b;if("string"==typeof a.projectFileData)try{b=JSON.parse(a.projectFileData)}catch(a){i.reject("Media lib - failed to parse project JSON")}else i.reject("Media lib - invalid response loading project");j(b)})}):"object"==typeof a?j(a.tscproj):b.getJSON(a,j),Object.defineProperties({},{ready:{get:function(){return i.promise}},model:{get:function(){return h}},theme:{get:function(){return g}},uri:{get:function(){return a}}})};return{create:g}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.viewHelper=b(a,a.document,a.$,c.highlightDisabler)}(this,function(a,b,c,d){"use strict";var e,f,g=c(a),h=function(){try{var a=b.activeElement;a&&i(a)}catch(a){}},i=function(b){setTimeout(function(){var d=b.currentTarget?b.currentTarget:b,e=c(d).scrollParent();if(d&&e&&d.scrollIntoViewIfNeeded){var f=d.offsetHeight<=e.innerHeight()&&d.offsetHeight<a.innerHeight;d.scrollIntoViewIfNeeded(f)}},200)},j=function(){try{e=b.activeElement,f=d.checkIfElementIsHighlighted(c(b.activeElement))}catch(a){}},k=function(){if(e){var a=c(e);f||d.disableHighlights(a)}},l=function(){if(e){var a=c(e);a.focus(),k()}},m=function(a){try{return a.is(":focus")||a.has(b.activeElement).length>0}catch(a){return!1}},n=function(){g.blur(j).focus(k)};return n(),{scrollActiveElementIntoView:h,scrollIntoView:i,saveActiveElement:j,focusPreviousElement:l,elementOrChildHasFocus:m}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.RenderLibView=b(a,a.Q,a.tscrl,c.playerConfiguration)}(this,function(a,b,c,d){"use strict";var e=!1,f=function(f,g){var h,i=null,j=b.defer(),k=b.defer(),l=b.defer(),m=["video/mp4","image/png","image/jpg","image/jpeg","image/gif"],n=null,o=function(){n=c.ProjectView.create(m),n.on("ready",p),n.on("error",q),n.on("loadedmetadata",r),n.on("canplay",s),n.theme=g,n.seamlessScenePlayback=!0,n.src=f,n.addEventListener=t,n.removeEventListener=u,n.videoWidth=a.innerWidth,n.videoHeight=a.innerHeight,i=n.element},p=function(){n.canvasNeedsResizing(),v(i,100),j.resolve()},q=function(){j.reject()},r=function(){k.resolve()},s=function(){l.resolve()},t=function(a,b){n.on(a,b)},u=function(a,b){n.off(a,b)},v=function(a,b){h=a.getBoundingClientRect();var c=function(){var b=a.getBoundingClientRect();b.width===h.width&&b.height===h.height||(h=b,n.canvasNeedsResizing())};setInterval(c,b)},w=function(){return a.innerWidth},x=function(){return a.innerHeight},y=function(){if(1===arguments.length){if("object"==typeof arguments[0]){var a=arguments[0];Object.keys(a).forEach(function(b){t(b,a[b])})}}else 2===arguments.length&&"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&t(arguments[0],arguments[1])},z=function(){if(1===arguments.length){var a=arguments[0];"object"==typeof arguments[0]&&Object.keys(a).forEach(function(b){u(b,a[b])})}else 2===arguments.length&&"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&u(arguments[0],arguments[1])},A=function(){var a=d.getWebConnector();if(!a)throw Error("RenderLibView: webconnector player configuration is not loaded and is required to playback tscproj files");if(e)o();else{var f={id:"webConnectorFileResolver",canResolve:function(c){return a.hasModuleByUrn(c,"resolver").then(function(){return!0}).catch(function(){return b(!1)})},getUri:function(c){return a.hasModuleByUrn(c,"resolver").then(function(a){return a.getFileUrl(c)}).catch(function(){return b.defer().reject("webConnectorFileResolver: could not find file resolver for sourceUrn("+c+")")})}};c.UriBuilder.registerFileResolver(f),e=!0,o()}};return A(),Object.defineProperties({width:w,height:x,bind:y,unbind:z},{element:{get:function(){return i}},ready:{get:function(){return j.promise}},metadataReady:{get:function(){return k.promise}},canPlayReady:{get:function(){return l.promise}},view:{get:function(){return n}}})};return{create:f}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.BubbleView=b(a.$)}(this,function(a){"use strict";var b=function(b){var c=2,d=48,e=9,f=!1,g=b,h=".tsc_overlay",i=".chat-bubble-arrow",j='<div class="tsc_overlay"></div>',k=null,l=null,m=null,n=null,o=function(a){a.stopPropagation()},p=function(){return k=k||a(g).parents(".tsc-smartplayer"),k.hasClass("small-desktop-width")&&k.hasClass("small-desktop-height")},q=function(){l=l||a(g),m=m||a(h),n=n||a(i)},r=function(a){f=void 0!==a&&a,q(),l.css("opacity",1),m.css("opacity",.7),l.on("click",o)},s=function(){l.css("opacity",0),m.css("opacity",0),l.off("click",o)},t=function(){q(),f||p()?l.css("bottom",d+"px"):l.css("bottom","0px")},u=function(a){a&&m.remove(),l.remove(),l=null,m=null,n=null},v=function(){return j},w=function(a){d=a},x=function(a){if(null!==l){var b,d,g=k?k.outerWidth(!0):window.innerWidth,h=l.outerWidth(!0),i=h/2,j=n.css("border-left-width").replace(/px/,""),m=2*j;f||p()?a-(i+c)<0?(b=c,d=a-c-j):a+i+c>g?(b=g-(h+c),d=a-b-j):(b=a-i,d=i-j):(b=0,d=0),l.css("left",b),n.css("left",d),d<e||h-d-m<e?n.hide():n.show()}};return{showView:r,hideView:s,updateViewPosition:t,removeView:u,getOverlayMarkup:v,setBottomOffset:w,pointAt:x}};return{create:b}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.QuizSetupView=b(a,a.jQuery,c.templates,c.deviceInfo,c.viewHelper,c.textSanitizer,c.localizationStrings,c.languageCodes,c.events)}(this,function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b(a),l="first_name",m="last_name";if(!c||!c.quiz_setup_template)throw Error("quizSetupView: Quiz Setup Template not found.");j=c.quiz_setup_template;var n=function(a,c){var n,o,p,q,r=c,s=null,t=null,u=null,v=null,w=null,x=null,y=g.getLanguage()===h.JAPANESE,z=g.strings.txtRequiredMessage,A=g.strings.txtEnterEmail,B=g.strings.txtBegin,C=g.strings.txtSkip;y?(n=g.strings.txtEnterLastName,o=g.strings.txtEnterFirstName,p=m,q=l):(n=g.strings.txtEnterFirstName,o=g.strings.txtEnterLastName,p=l,q=m);var D=function(){var a={setupMessage:z,enterName1:n,enterName2:o,name1Class:p,name2Class:q,enterEmail:A,beginButtonText:B,skipControlText:C},c=j(a);s=b(b.parseHTML(c)),t=s.find("."+l),u=s.find("."+m),v=s.find(".email_address"),w=s.find(".tsc_begin_button"),x=s.find(".skip_control")},E=function(){var a=t.val().replace(/ /g,""),b=u.val().replace(/ /g,""),c=v.val().replace(/ /g,"");""!==a&&""!==b&&""!==c&&f.isValidEmail(c)?w.removeAttr("disabled"):w.attr("disabled","disabled")},F=function(){(d.isIPhoneOrIPod()||d.isAndroid()||d.isNuevoApp())&&(k.off("resize",e.scrollActiveElementIntoView),t.off("focus keydown",e.scrollIntoView),u.off("focus keydown",e.scrollIntoView),v.off("focus keydown",e.scrollIntoView)),t.off("keyup",E),t.off("change",E),u.off("keyup",E),u.off("change",E),v.off("keyup",E),v.off("change",E),w.off("click",H),x.off("click",I)},G=function(){x.hide()},H=function(a){a.preventDefault();var b={firstName:t.val().replace(/ /g,""),lastName:u.val().replace(/ /g,""),email:v.val().replace(/ /g,"")};r.trigger(i.Quizzing.BeginClicked,b)},I=function(a){a.preventDefault(),r.trigger(i.Quizzing.SkipClicked,{})},J=function(){(d.isIPhoneOrIPod()||d.isAndroid()||d.isNuevoApp())&&(k.on("resize",e.scrollActiveElementIntoView),t.on("focus keydown",e.scrollIntoView),u.on("focus keydown",e.scrollIntoView),v.on("focus keydown",e.scrollIntoView)),t.on("keyup",E),t.on("change",E),u.on("keyup",E),u.on("change",E),v.on("keyup",E),v.on("change",E),w.on("click",H),x.on("click",I),a.append(s),d&&!d.isNuevoApp()&&e.elementOrChildHasFocus(a)&&t.focus()};return D(),J(),Object.defineProperties({hideSkipButton:G,destroy:F},{$view:{get:function(){return s}}})};return{create:n}}),function(a,b,c,d){"use strict";a.TSC=a.TSC||{},a.TSC.questionSetConfirmationView=function(){var e,f=".start-question-set-confirmation-container",g=c.create(f),h=".review-button",i=".confirm-button";if(!b||!b.question_set_confirmation_template)throw Error("questionSetConfirmationView: Question Set Confirmation Template not found.");return e=b.question_set_confirmation_template,{getViewMarkup:function(a,b){var c={reviewText:a,confirmationText:b};return e(c)+g.getOverlayMarkup()},getReviewControlRef:function(){return h},getConfirmControlRef:function(){return i},showView:function(){g.showView(!0);var b=a.$(f).find(i);b.focus(),d.disableHighlights(b)},removeView:g.removeView,updateViewPosition:g.updateViewPosition,setBottomOffset:g.setBottomOffset,pointAt:g.pointAt}}()}(this,window.TSC.templates,window.TSC.BubbleView,window.TSC.highlightDisabler),function(a,b,c,d,e,f){"use strict";a.TSC=a.TSC||{},a.TSC.questionSetReviewStatusView=function(){var g,h,i,j=".question-set-container",k=c.create(j),l=".view-answers-button",m=".hide-answers-button",n=".question-set-results";if(!b||!b.question_set_review_status_template)throw Error("questionSetReviewStatusView: Question Set Review Status Template not found.");return g=b.question_set_review_status_template,{setGradeableDetails:function(a){h=a},setUngradeableDetails:function(a){i=a},getViewMarkup:function(){var a={gradeableDetails:h,unGradeableDetails:i,txtAnswersSubmitted:d.strings.accessBtnAnswersSubmitted,txtViewAnswers:d.strings.accessBtnShowAnswer,txtHideAnswers:d.strings.accessBtnHideAnswer,questionSetResultsTabIndex:f.QuestionReviewText};return g(a)+k.getOverlayMarkup()},getHideAnswersControlRef:function(){return m},getShowAnswersControlRef:function(){return l},showView:function(){var b=a.$(j);b.removeClass("minimized"),k.showView();var c=b.find(n);c.focus(),e.disableHighlights(c)},hideView:function(){a.$(j).addClass("minimized"),k.hideView()},removeView:k.removeView,updateViewPosition:k.updateViewPosition,setBottomOffset:k.setBottomOffset,pointAt:k.pointAt}}()}(this,window.TSC.templates,window.TSC.BubbleView,window.TSC.localizationStrings,window.TSC.highlightDisabler,window.TSC.tabIndex),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.AnswersView=b(a,a.$,c.templates,c.deviceInfo,c.textSanitizer,c.questionType,c.log,c.viewHelper,c.localizationStrings)}(this,function(a,b,c,d,e,f,g,h,i){"use strict";var j='<svg id="Correct" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42 42"><style>.st0{fill-rule:evenodd;clip-rule:evenodd;fill:#97C93D;} .st1{fill:#82AD40;} .st2{fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;}</style><path class="st0" d="M21 39c-9.9 0-18-8.1-18-18S11.1 3 21 3s18 8.1 18 18-8.1 18-18 18z"/><path class="st1" d="M21 5c8.8 0 16 7.2 16 16s-7.2 16-16 16S5 29.8 5 21 12.2 5 21 5m0-4C10 1 1 10 1 21s9 20 20 20 20-9 20-20S32 1 21 1z"/><path class="st2" d="M30 16.6l-11.2 12c-.8.8-1.8.3-2.3-.2l-4.8-5.9c-.5-.7-.4-1.6.3-2.2.7-.5 1.6-.4 2.1.3l3.7 4.5 10-10.8c.6-.6 1.5-.6 2.1 0 .7.7.7 1.7.1 2.3z"/></svg>',k='<svg id="Wrong" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42 42"><style>.st0{fill-rule:evenodd;clip-rule:evenodd;fill:#EF4546;} .st1{fill:#B93130;} .st2{fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;}</style><path class="st0" d="M21 39c-9.9 0-18-8.1-18-18S11.1 3 21 3s18 8.1 18 18-8.1 18-18 18z"/><path class="st1" d="M21 5c8.8 0 16 7.2 16 16s-7.2 16-16 16S5 29.8 5 21 12.2 5 21 5m0-4C10 1 1 10 1 21s9 20 20 20 20-9 20-20S32 1 21 1z"/><path class="st2" d="M24.2 21l4.1 4.1c.9.9.9 2.4 0 3.3-.9.9-2.4.9-3.3 0l-4-4.2-4 4c-.9.9-2.3.9-3.2 0s-.9-2.3 0-3.2l4-4-4.1-4.1c-.9-.9-.9-2.4 0-3.3.9-.9 2.4-.9 3.3 0l4.1 4.1 4-4c.9-.9 2.3-.9 3.2 0 .9.9.9 2.3 0 3.2L24.2 21z"/></svg>',l="data:image/svg+xml,"+a.encodeURIComponent(j),m="data:image/svg+xml,"+a.encodeURIComponent(k),n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAChJREFUeNpi/P//PwM1ARMDlcGogaMGjho4auCogUPFQAAAAAD//wMAaQsDJYnTLeIAAAAASUVORK5CYII=",o="active-question-item",p=i.strings.txtCorrectAnswer,q=i.strings.txtYourAnswer,r=function(e,i,j){var k=b(a),r=null,s=null,t=null,u=null;c&&c.choice_answer_template?r=c.choice_answer_template:g.logException("Answers View: Multiple Choice Answer Template not found."),c&&c.fill_answer_template?s=c.fill_answer_template:g.logException("Answers View: Fill In The Blank Answer Template not found."),c&&c.short_answer_template?t=c.short_answer_template:g.logException("Answers View: Short Answer Template not found.");var v=function(){switch(i.type){case f.CHOICE:return e.find("input[name=multiple-choice]:checked").val();case f.FILL_IN:return e.find("input").val();case f.SHORT:return e.find("textarea").val().replace(/^[ \t]+|[ \t]+$/,"")}},w=function(){if(i.isGraded){var a=b("<img src='"+l+"' class='image-fill-in-the-blank-feedback' />"),c=b("<img src='"+m+"' class='image-fill-in-the-blank-feedback' />");i.isResponseCorrect?e.prepend(a):e.prepend(c)}},x=function(){for(var a=i.answers.length,b=i.correctAnswer,c=0;c<a;c++)if(1<<c===Number(b))return c;return-1},y=function(){var a,c,d,f,g,h,k=i.userResponse,n=e.find("label");n.removeClass(o),j&&i.isGraded&&(a=x(),c=e.find("label img"),d=e.find("label:eq("+k+") img"),f=e.find("label:eq("+a+") img"),g=b("<img src='"+l+"' class='image-feedback' />"),h=b("<img src='"+m+"' class='image-feedback' />"),c.removeClass("feedback-placeholder"),k===a?(d.replaceWith(g),g.css("opacity",0),g.animate({opacity:1},200)):(f.replaceWith(g),g.css("opacity",0),g.animate({opacity:1},200),d.replaceWith(h),h.css("opacity",0),h.animate({opacity:1},200))),e.find("input").hide(),void 0!==k&&e.find("label:eq("+k+")").addClass("picked-quiz-item")},z=function(){var a=null;switch(i.type){case f.CHOICE:case f.FILL_IN:a=e.find("input");break;case f.SHORT:a=e.find("textarea")}a&&a.attr("disabled",!0)},A=function(){switch(i.type){case f.CHOICE:y();break;case f.FILL_IN:w()}z()},B=function(a,b){var c={};return c.answers=[],c.placeHolderImg=n,a.forEach(function(a,d){b&&d===parseInt(b,10)?c.answers.push({answerIndex:d,answer:a.text,isChecked:!0}):c.answers.push({answerIndex:d,answer:a.text})}),c},C=function(a,b){var c={};return c.inputLabel="Fill in question answer",c.inputId="fill-in-the-blank-input",c.inputName="fill-in-the-blank-input",c.userResponse=a,b&&(c.useAutofocus="true"),c},D=function(a,b){var c={};return c.inputLabel="Supply your response",c.inputId="short-answer-input",c.inputName="short-answer-input",c.userResponse=a,b&&(c.useAutofocus="true"),c},E=function(a){switch((d.isNuevoApp()||d.isIOS()||d.isAndroid())&&(a=!1),i.type){case f.CHOICE:return r(B(i.answers,i.userResponse));case f.FILL_IN:return s(C(i.userResponse,a));case f.SHORT:return t(D(i.userResponse,a));default:g.logException("Answers-view: unsupported question type ("+i.type+")")}},F=function(){(!j&&d.isIPhoneOrIPod()||d.isAndroid()||d.isNuevoApp())&&k.off("resize",h.scrollActiveElementIntoView),u&&(i.type===f.FILL_IN||i.type===f.SHORT)&&(d.isIPhoneOrIPod()||d.isAndroid()||d.isNuevoApp())&&u.off("focus keydown",h.scrollIntoView)},G=function(){var a=!(null===i.userResponse||"undefined"==typeof i.userResponse);if(i.type===f.CHOICE){a=a&&i.answers[i.userResponse];var b=i.answers[x()].text,c=p+b;return a&&(c+=q+i.answers[i.userResponse].text),c}return a?q+i.userResponse:""},H=function(){j?A():((d.isIPhoneOrIPod()||d.isAndroid()||d.isNuevoApp())&&k.on("resize",h.scrollActiveElementIntoView),i.type===f.CHOICE&&d.isTouchInterface()&&e.find(".multiple-choice").removeClass(o),u=e.find("input[type=text], textarea"),!u||i.type!==f.FILL_IN&&i.type!==f.SHORT||(d.isIPhoneOrIPod()||d.isAndroid()||d.isNuevoApp())&&u.on("focus keydown",h.scrollIntoView))},I=function(){var a=E();a&&e.html(a),e.find(".multiple-choice > input").focus(function(){b(this).parent().addClass("highlight-background")}).blur(function(){b(this).parent().removeClass("highlight-background")})};return I(),H(),{getUserResponse:v,destroy:F,getCorrectAnswerText:G}};return{create:r}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.QuestionView=b(c.templates,c.localizationStrings,c.log,c.tabIndex,c.AnswersView)}(this,function(a,b,c,d,e){"use strict";var f=".question-correct-text",g=".question-incorrect-text",h=".question-heading",i=function(i,j,k,l,m){var n,o=null;a&&a.question_text_template?o=a.question_text_template:c.logException("Question View: Question Text Template not found.");var p=function(){n=e.create(k,l,m),j.addClass("hide-element");var a=m&&l.isGraded?n.getCorrectAnswerText():"",c={questionText:l.text,correctTextString:b.strings.txtCorrectString,incorrectTextString:b.strings.txtIncorrectString,questionTextTabIndex:d.questionText,correctAnswerText:a},f=o(c);i.html(f)},q=function(){var a=null;l.feedback.forEach(function(b){l.isResponseCorrect&&"correct"===b.reason?a=b.markupText:l.isResponseCorrect||"incorrect"!==b.reason||(a=b.markupText)}),a&&(j.html(a),j.removeClass("hide-element"))},r=function(){m&&l.isGraded&&(q(),l.isResponseCorrect?i.find(f).removeClass("hide-element"):i.find(g).removeClass("hide-element")),i.find(h).focus()};return p(),r(),{destroy:n.destroy,getUserResponse:n.getUserResponse}};return{create:i}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.QuestionSetView=b(a.$,c.templates,c.BubbleView,c.localizationStrings,c.log,c.events,c.rationaleActionType,c.QuestionView,c.deviceInfo)}(this,function(a,b,c,d,e,f,g,h,i){"use strict";var j="data:image/gif;base64,R0lGODlhUABQANU/ALW2uPX19WJjZdXV1qusrerq6m1ucMDBwZeXmba2t4KDhIyNjnd4evb29u7v76Gio8vLzPv7+/j4+f39/sDCxN3e35qcnujp6drb2/n5+XZ3euTk5fHy8n+Ag8nKy/z8/PLz88TGyO3t7enq66Gipff399bX2Obn58jIyr+/wZKSlaSlps3O0Ly9v66wsu/w8ezt7vT09eLi49XW2NDQ0snKzIiJjNHS06epq+vs7Obn6JOVmLy+wG1ucVhZW////yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiOWFhNzdiZC01YTI1LTQyNjctOWIwYS02ZmE4Mjg4MTMwNTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzM5RTQ0RkE2QzE1MTFFNDk5MThBRTMzOThEQjZENTAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzM5RTQ0Rjk2QzE1MTFFNDk5MThBRTMzOThEQjZENTAiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpiOWFhNzdiZC01YTI1LTQyNjctOWIwYS02ZmE4Mjg4MTMwNTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6YjlhYTc3YmQtNWEyNS00MjY3LTliMGEtNmZhODI4ODEzMDU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEBQoAPwAsAAAAAFAAUAAABv/An3BILBqPSJ1yqUQ6n9Co1MlkTq/Y7LO61Hq/P8csym1CEQMwuMTi8QrQsg4K8fkUcPU1UnG7Q3FlUAZ2dgQBelEnFH5+FVuCTgSFhQIHiU4yjY0UEVSRRwEClJQJmEcRjJtuY0mgRgiklYinRpqrbg6uXEgDsoWmtUchuDwsu1VICr8+BsJIDsU8J0dyRwfMPmnPRzfFIZ5F1kUBhL8L3Egl0o/ir0KTzHnpRn3FJe68RAXZBPRIqYrdyJeMyAJmAmhhoiFBkTRdQ8YJ8cXsEpQAwaCY2GGBRpQaxWoQkfiDATMGURKMsuhEgoUdMElseBKtGDUp2Jht62XOR8L/Jx5gCt0BgIOTGbhY4JNSYJksBE4KHCTlDwmHoVg9NDRSQtUfiFgG9PQ5j0iAeL/KEnGBFasFE0fsUZChRqWha6OyKTiyoa1fHDOJRAiBIZyaAA8MKJxoMluhnUNa+J3cwui/fbEcU4Jaj8Tktha0Xj6bV3MzCEBffh5K4vJYxwKqQpEgeTVMCpcfmPaBYHGUDWw/W9hKT5RjBZCxmPDs1+PlHwmYGWD5RUJQrK2fC3nt49ApDgCGBtZO0c4CtZg24NjhQjuRZQySPzNh2f2PAtTt69/Pv79/KD0EKOCABAr4326kFKgggQciWMiCEPbQoIM+RLjghA5aqCCGCGpY/yCHu3nIoH8U2iHigCCa9t+KLLboojAHoHcZfpcNYNJe+sEnXyJSUbJjOuX5cN4pZ8nijHvceafGAdzZkdE/0f0y3RcDOIWQb88Yp9ePSASQmWYP5LZbb1IQUJpmR9LT5C+xPQHBmrLEhqUwpCFoAGqwOIiAjOkU8KVpnBERZDbxkWPAA3NmgZhiRdi4245WspkfPHYI8KQWdnWH13FI8MOMkkUUcKYBXDohFiUCyFikPJLIMiQSfxaCxxRN/RKoET1S9YSWzZQ6KCWTIpHTL7729NMT2FgaRWOyoDQEM0QwS4qzT9gVrBEJJErEsLJABu0QvxZyrVmXHnYmJegQ8ZXtEFPFqW06aMmi1rpCePqLbNrZKwu+QtBLKavutUsKo0X4+0M5zKT7XLh2BGvwD9ySUuopa+JoxMM/REpJmvRESSwSGDPsQ7m18ErKrQX/4kSss3R8pRMYH3wuMP8cMDO/KcvyRLyVjktkvBwfEfN2lID6XK0+4Amzym7aMSt/A6AsNNNPoPHi0jpfDcbQWkPBNSZBAAAh+QQFCgA/ACwAAAAAQAAsAAAG/8CfcEgsGo9InnKpRDqf0KiRyZRar1bqEst1blpRbRP6ynSRHNduV4GKedCSTgf7nIcSz3pNcouhI3NzIBNnJhZ7ex5Pb08ggoIXDVw0iYkWEk6NSBMXkJAxWBKIlmtgSX9IL5+RhViVpWsbqFpIGayCoV0ksTsutFRIMLg6I3cbvTsmR5tFDcQ6ZncAvSSZRc1DE4G4DndCHMmL2KlEj8R23z96vRzktUQf0CDqQqO9AO/BRA7EF65OUkyCYiLZrCHZbhEb6ARFDw0pouDohYNIthzEckBpoKGHxw4YniDrtUzKM2LSnCTwyLKHBRFOWsRy4U7Kh2GsXkAR0bJnAquGRDiQ4nMQSwZucy6kc6KiZ08NKI6ws0BDXQxPOug9weC0q42QRCSQoHBN3QQOIwAiWdG17QqY9erd6NDWqYafcesl6Fi3ZYe89Rqw7euRAOC4GJrW1QD08DcUdLtGdJy3wcqefykfFmGhJVjNhzHY6KECNGgUcE2rXs26tevDPmLLnk1b9msktXPTvn1Et28fvI381h28yPDcxYkcr518yPLdzX88nx39RxAAIfkEBQoAPwAsAwAAAEoAIQAABv/An3BILBqPxZ1yqUQ6n9CodMhkTq/YLLG61HqvmFWU24TOHF+sSNXr3aDkHbTA47FKaWgj0W534GRQIXV1FRF5RygafX0JT3FPFYSEFCeIRCmMjBoNTpBIERSTkzKXQg2Lmm1iSJ9HM6OUh6Y/maptGK2BRw6xhKW0Qh23PSq6XEgsvjwhwUMYxD0oR65EJ8s8aM5CFsQdnUm7RBGDvm/bQiLRjuHIRZLLeOhCfMQi7VVFJdgV80OoxCzgs0LkxjIKs7wkCBAFRbRcVMT96LXMEpQJMY4c8CGA3RMbxGxskVhjWY0oMS7oADckgAAfMA0MeAKN2DQp15ZpQ5JhhI7snxcmECEAs6iPBQWcrLil4p6UEspizXDywcHPqzpADClgtCsBhkZEpPIDEYuDcnUoyCsyAQTWtx+EKOjaVcCBI/U0pMgjQxSPfkYaqHyLFcaPAXQTM5hJpEEHAizTRMAQIqGQDDkIa86AILFnBEn9FfnwQrPpFz8gGPBMV8BX0T/aDjaNdcTaHwResjZqALZP2lgvaDUSoPNumA9gcwB+9YVQJwPmshYA1t+E2ZphZJhyYHVij6JjmB4RWUoAol17wx7yGyuI51oKLDDKeP2PDFgdxEU0gIEPBfYRAYMOOWwXzAGhBfjDB+U9EQQAIfkEBQoAPwAsEAAAAEAALAAABv/An3BILBZ7yCTSyGw6n9CjMhmtWq/CKRXLbQ4QUe0S2tp0mwWFzweBinvQym7n4pyHAcJ6bXCLoSRzcx4SZwcCe3sET29PHoKCFiZcCYmJAgFOjU0SFpCQNFgBiJZrYE2bTC2fkYVYlaVrA6h/TBusgqFdBrE+CrRaTS64OyR3A70+B0ypRCbEO2Z3C70GmVLBRRKBuAB3QgXJi9hTRo/Edt8/er0F5EpFHNAe6kKjvQvvW0MAxBau9Q4kmzWk2S1ik6BEkFGFQS8GRJrhIIYjigwKPE5EQdZrWZVnxKQ1cRCCh0kKEaIgiKXAXRUOw1i1cFLihsmbPCpEKUCKD0GoLBu4zbGQrkiECjiTlojCTkACdTQ87aBn5ATGpDhZRAlg4ME1dRIokAAoxEENrGgd1KtXYgbatzPW3jl69S3OEC7ldilpFycFnXrvYOh7c0bKwHPromWhFrE6GW9DaHS8li/OCocp13OA88ZSzXpZ8KjRGLTeEpNNq17NurXr10J0yJ5Nu/Zs2EZs666Nu8ju3zp6EwG+W/gQ4rqNx0bOWznz5saf0w4CACH5BAUKAD8ALCQAAAAsAEAAAAb/QJ9wKPwZj8ikcskkEpnQKNQ5lFqv1KJ0hblOs9Jbr6cSeZVZn7QzHica52M6mmi3Naj4b85saOx2KXF8SyuAd3BnhEkYh22Cg2BLKo49HXp7kkkolT1deotGDWyOFpiZVEp1lWaYoSKdCaeoTkkWlRqJrpo/jZV5UhI0S4s2lTZWNBY7JnqclZ9MGyQ71RYScSKUhytQHADV4TsemBikYxqtSRIe4u4cpyl/PbJKJsvu4i6zDQQdukY24MhHcMMsJRxaEFzY4uARdvgWiiNRweERahLFWSBn8QiFjOFaYOv4MCJBFwZJJqGxkEQzlUswivMwEqaSDeIAwLMJxcUOnBwpeXp7KbSo0aNIvfBYyrSpU6Yqn0p1GnWq1apWpWLNSpUkV61ev3btKHZs0rNo0y75ADAtDB05MqjNoKOuDgcf0I6waxfEBKQx+PId0RbmhAuCBcOQy5ND4scv/sLc+zjxBRCGQSCuLHhECZgfXnBO/MJmhhyj7TK22WBzZRhGJ4DgnPfoBweJMZ/NQFnHBcloYyAunHRCjCVBAAAh+QQFCgA/ACwvAAMAIQBKAAAG/8CfcDhEDIjIpHIJ8fkUhaV0+jM4nYQAdSskXK+CA3caEHy/ifEScQZr1chB+5qGIxVzn8GOPOR9R3xCAVZzC4JDXnlRiAV/BIhCC3kCb4JyeWJUDSlLDHkMWykaPShJfnmBSxgdPa4aDUgFeG0IUiIWrro9dXGFTgKMSA0Ju8YiSwlmPpBJKKTGuypSAQ8GlkIYNtHcGGoiK9ziK1zE0OK7HTdjrei7Gr1cBO66K7FwDefcKt6CKeIdTEX60W5XgnsDMeyygGwgERU9bPRzSESEQIoYM2rcuKOjx48gPaoJSRLkyJIoT6IkqXKlyTEuWcKM+ZILzZobc+ocWOLETtQWPGo42OiAh1EeN0pkDHH0aIUIDmU0bRrCJ6IIFKZOZTGUDwatYGdAhcMUrFYKFeBEqJDV7NQQwriUmOFW64wlEziMmIDEQY26R7siiXFBhw4QSk60NcsiSYYRhg1f+KBkrVulQz7AiMz5hZQSN7SmJdKAs+kMUxyU5UFhLJEcpiPn2CIjq1UkGWJHRiglggwpDnTruMA30gfhhx2CQE450gTIugUjKi0c9cDNukc4zC08hsMXwokPnFBYt/eBy01f4B0JumEQxSmWMAyjucYX1hEFAQAh+QQFCgA/ACwkABAALABAAAAG/8CfcEgsGo/HQALJbDqHCYHv8KxWBwafVhCweo2FhXbsI3zPAQJ5XThbD9I1WeF2Dhjy/KB+LCDygAh8RGlxgGQGEINEWYdkAmaLRA+OYwhdkoSGeQp7mUYJgAZUn0iNZASYpUcDZAttq00KPgyesU0FpLe7vL2+dT3BwsPEwqXFyMTHyczLzMjOz8qf0tDU1dOZ2Nm/3d7fThwm4EQuOzgb5Bs77DsAHN8k7e0eEr808/Mk47wSFvn5XKS7RQGgwRb2VskzCNCCh1USPPxjmI9EhVUcWlAE2KJOBAwhIhTZgGNju4FfZFDgweOiERMTGbo44yAES5YUShyJSBGelZ8SLG4KncGEAwCAD72cEMrUQZMNC3dYSDhEh9WrVonUYHqzxhMa//gRwYqViAOuN088kUDjCNmrRW6g5UFBZJ23WYmUmNuSD14dRirw1enmr5EINtHeuIv3yNK5Ts8YPhIUbYjCjY+cnStDcuYjM+bW/TL5SISVaDt7KX1EMFMKakl/RpKYZQW7st86KcCSBWHMup3MiOx3di/Wx43zCgIAIfkEBQoAPwAsEAAkAEAALAAABv/An3BILBqPyOTPx2w6n02ldEqFWp/UrJZ47fq24KrXGi4nx2SzmovGrt9t91sdd87v+Lx+z+9vRSh+fCo9NhiCeBg9iz0WIohvHYyMCQ2QZSmTkx2Bl1oNGpqaKoeeUwSiqSuWpkmSqaIaCa1IDQmhsJodN7RHIiu5oitSEyMcE3MSFCQSRRg2wYylSSA6OhcxazQWOzseRyi4sCpSHxfW1iMZYRsk3d0WHEe2uY9KL+j5MB9ZHC7vAFskEWFB1CwlGfIpZDXFBMCHG5RgeNVDA0MkORSiy0GEh8ePHongePgOx5QUoTolaaAR3bohIEES2UDynYkpDVIQO9fSQZGpmB+LAKi5w0KzN9Va6uDXESiPIhyIenvzQakOEEacPi3iQao8NQ6UjkD206kRCe5qAlCTUOlFmGaNOCQascwIpTCQaEXyryaJMjGsvswa1whNojTATOCp8UWSvUhaEDW6JXDLC2SPQD4igVvNxFsaMEaH9XHhI10fWrgZZkLSdFI2I0nbzcNRMx9gWCsR+/SRCt1cfJ2TwXFvoFNa1KUlu9fxmM6zNO8TBAAh+QQFCgA/ACwDAC8ASgAhAAAG/8CfcEgsNj7FpHLJLBYOzagyk9PBpNjsT+FjDLTMj0NH1mXA6OLAx/YtCmnhBFQuj+JxQ7tNCKAbI3V1MXhgCXt7BlBYGTCCghcThVgBAoiICl9MEy+PnhyTUg+XpAh+SSAXnp53oU16pJcCBEQlgauQIJKuTAEElrGIBhA/nbiCL0i8UgUIwZcIGcdlOWdEESEYEa4NBB0NagzPbV+OuBfgSRU8PBQykykaPT0JSgfAsQpCH7i6SiUU2LEL4SANhg7z5mkQocRXMDhC6AhyoEzJDIEYWZTIIkJFwo8rmBRYcInWkAmqyIywtsQBxpcnsqD4SBNDkwGwfAg4NaSBjuMLhKLUeCmwBpEdSJMiJWKDZkIbUhJYWlQkxq4mJ4gKLDhEqVIiGJwmRCElQD08EQJqvVHEa9IiFsT20JBumTqt7DYedbujiAi59OwmKYGXR4UkfPsWSQCYoeAhN/CG2NaWb5IGCMVaeCzEJd6YiC0nmSnX5uMQeFksSbzEo9gOj2UU5hra7ZKwclPYTYt3BhPWS1bIpbtMtlYKlJUAV9JAnljdy06oxXj4t+gljGlqICs4wjqBIaIsX5J5XoK6j0uwYAfRuu0mN+apcMyZiAPf4q8zWWG6fpzx/nEGYICCDWhXEAAh+QQFCgA/ACwAACQAQAAsAAAG/0CdcEgsDn/IpHLJbDqfP6O0CK1ar9Os7srtKrVTrxgLNo7Pz7IZzf6qie149H2U2+/4vH7P7ydPJX54DjU8LIJyJTc8jDwOiGgRFY2NIZBjJyGUlDKXXA4sm5sUEZ5QETOiqhimThUUqqqWrUoFmrGjFaW0SKm4mzOBvEkOv401j0oSJBQScgEPBgFWobgUJ00eOzsWNG0JAj4+BFYluLpNHBbb2yQbYwMG4uICBVaTmzfCTS3s/i4cuBRQMK8gAisRYDEKkczJBn8QTXA5ULDiACsneFDoVAUHRHY4lPQYSXKkEgYV5zG4ImMXFBMf2b1LUrKkkgEp5x2wI2FdTKoAS2qSXLIgpw8B0+Joi7kjoEihPZYUMDouDgemOzwwgRp1CQGq9tgAYErCWVCoTALIy7mAzUOmEreiZULR6MUzJJi6cMLVCcGcBs7QwDpTrlAnOI0mENOTaYsnfZ0gMIrUy+CYFsw2idwkQLici72Y8OlPK+S5Tr5WFLBzjISl7apwdrJWHIGkaDi42FZBNmonEMQpCCtnw2Pfh6sguNtq9rDTyZ9Dcd4lCAAh+QQFCgA/ACwAABAALABAAAAG/8CfcPiLTYjIpHLJFDZ0l1hzSk1OLrrsKFPtNkHZsM7x8ZqHH7EadDx3YWr1peGmZuL4HLe+fOH/L2V8SSUjf3EXbINJIFiHYiOLVn6PWRySShlwhxdtmEkNhnhSn0sTYGqRpU0fDmJ7q00ZOTowsV0Ngre7vL29PMDBwsPBpcTHw8bIy8rLx83OyZ/Rz9PU0pjX2L7c3d7dJpffQhs4Oy7jHAA77Dsb3RIe7e0k3CYk8/M0vBsu+fkWJMSS0OKfQQqrPFgwaLAepgr4GAL0IFBSQYn5WojDtAFjOxzviDToQIBOHX8SLZhQkqBHDw0p6nCQSFGJCA0uXXbA4EZePp0AG5OsyElUhQgzEhayIxFyCQaiUFGcMbHDwr4pNqDmtEHEh9evXpXQqNgEhdacPIeABcunAc6zFpCs/cqn5dkeR7vO9VFHxN0eCZLs5evGwt0OJvXOdfP0rlTBe910uKtiyeAzKf6mhbzYi9u7K5hc9pL5rIbEnNeeQfGWaGDRkc80sKtzymg3IlS4vGE7Nh8MoXt35nbbV/Feg4MAACH5BAUKAD8ALAAAAwAhAEoAAAb/wJ9wSCwaf5nXccksfmA6XalJLU5A0eioym1cslkQtxkDgy+T8XLyNUeV6mPZHc3EjyO6DnY3ZvQ6DX1FDnojaYNCH4BiiUJYeh+OP2x6DkwyEVUNgHZGJzwUMlU5ejlGERQ8qyGXTH96gkQVq7U8N1NLL3QwkkMltsEVmkYfbVqeRCzBwRQnR5AXMUcOzNY1rkMTIxyIRjPW4TO5YwUh4cwUw3EVqui2IXcR4O+rGIMOy+gUxIMn59ZGTYpAK1i8Sb9u2MqGUIiDGjxYNDxygtzEixgzDtnBsaPHjx3VgBz5USTJkyZPjkypsuSYlitfwnTJZSZNjThz6jyCQoRG0ww2eqjAKMJCj6M97iFskAAp0g4IUXRw6jRFIgwqqFLVIEtNgxVawxKIk0BD2LBQudyYenZrgq5NwLalusLnGAxzkdpQOiSAgQcBmGRtqwHFEQI+fAhIsERE27dHCghInNjAgCNNqVqwewQB5c8KChRpYPZoB75HBnxefcAIih4arFJhsJoygyUp4C45UJvy5UQBJvdeMAlxbx+iExU47mOsowXHDQROpPp4a0cGjiuYlID570HBjyPgflzAdEcHhH92jjCA8coZCyhIDAHngPFLggAAOw==",k=".question-set-container",l=".previous-button",m=".next-button",n=".submit-button",o=".continue-button",p=".question-count",q=".question-text",r=".question-heading",s=".question-answers",t=".question-feedback",u=function(a,u,v,w,x){
var y,z,A=0,B=a,C=0,D=0,E=null,F=null,G=null,H=null,I=null,J=null,K=null,L=null,M=null,N=null,O=null,P=c.create(k);b&&b.question_set_template?y=b.question_set_template:e.logException("questionSetView: Question Set Template not found."),b&&b.question_count_template?z=b.question_count_template:e.logException("questionSetView: Question Count Template not found.");var Q=function(){return 0===A},R=function(){return A===u.questions.length-1},S=function(){F.removeClass("minimized"),P.showView()},T=function(){F.addClass("minimized"),P.hideView()},U=function(){C=(new Date).getTime()},V=function(){D=(new Date).getTime();var a=D-C;u.questions[A].attemptDuration+=a},W=function(){var a=E.getUserResponse();void 0!==a&&""!==a&&(u.questions[A].userResponse=a)},X=function(){x||(W(),V())},Y=function(){u.usesRationale?u.questions[A].responseLocked=!0:u.questions.forEach(function(a){a.responseLocked=!0})},Z=function(){var a,b=g.CONTINUE;if(u.questions[A].isGraded){var c=u.questions[A].isResponseCorrect?"correct":"incorrect";a=u.questions[A].getFeedbackForReason(c),null!==a&&(void 0!==a.location?b=g.LOCATION:void 0!==a.jumpToTime&&(b=g.JUMP_TO_TIME))}return{feedback:a,actionType:b}},$=function(){R()?a.trigger(f.Quizzing.CloseQuestionSetView):aa()},_=function(){var b;switch(u.questions[A].feedbackActionExecuted?b={actionType:g.CONTINUE}:(b=Z(),u.questions[A].feedbackActionExecuted=!0),b.actionType){case g.CONTINUE:$();break;case g.LOCATION:a.trigger(f.Quizzing.RationaleActionLocation,{location:b.feedback.location}),$();break;case g.JUMP_TO_TIME:u.startTime!==b.feedback.jumpToTime?a.trigger(f.Quizzing.RationaleActionJumpToTime,{jumpToTime:b.feedback.jumpToTime}):$()}},aa=function(){X(),A++,ia()},ba=function(a){a.preventDefault(),X(),A--,ia()},ca=function(a){a.preventDefault(),aa()},da=function(b){b.preventDefault(),u.usesRationale&&!x?_():a.trigger(f.Quizzing.CloseQuestionSetView)},ea=function(b){b.preventDefault(),O.attr("disabled","disabled"),X(),Y(),a.trigger(f.Quizzing.SubmitQuestionSet)},fa=function(){F.find(".fill-in-the-blank-input").blur()},ga=function(){var a=u.questions[A],b=Q(),c=R(),d=b&&c,e={showSubmitNav:!1,showContinueNav:!1,showPrevNav:!1,showNextNav:!1,prevDisabled:!1,nextDisabled:!1};return u.usesRationale&&!x?(a.responseLocked?a.feedbackActionExecuted&&!c?e.showNextNav=!0:e.showContinueNav=!0:e.showSubmitNav=!0,e.showPrevNav=!d&&!b):(e.showSubmitNav=!x&&c,e.showContinueNav=x&&c&&!w,e.showPrevNav=!d,e.showNextNav=!d&&!e.showSubmitNav&&!e.showContinueNav,e.prevDisabled=0===A,e.nextDisabled=c),e},ha=function(){var a=ga();L.css("display","none"),M.css("display","none"),O.css("display","none"),N.css("display","none"),a.showPrevNav&&(L.css("display","inline"),a.prevDisabled?L.attr("disabled","disabled"):L.removeAttr("disabled")),a.showNextNav&&(M.css("display","inline"),a.nextDisabled?M.attr("disabled","disabled"):M.removeAttr("disabled")),a.showSubmitNav&&(O.removeAttr("disabled"),O.css("display","inline")),a.showContinueNav&&N.css("display","inline")},ia=function(){var a=x;u.usesRationale&&u.questions[A].responseLocked&&(a=!0),null!==E&&E.destroy(),E=h.create(G,J,I,u.questions[A],a),ja(),ha(),U()},ja=function(){var a={currentQuestionNumber:A+1,totalQuestions:u.questions.length,prepositionText:d.getQuestionCountPreposition()},b=z(a);K.html(b)},ka=function(){ia(),ha()},la=function(){var a={questionSetTitle:u.name,previousButtonName:d.strings.txtPrev,nextButtonName:d.strings.txtNext,submitButtonName:d.strings.txtSubmit,continueButtonName:d.strings.txtContinue,minimized:!1,submittingImg:j},b=y(a);v&&(b+=P.getOverlayMarkup()),B.append(b),F=B.find(k),G=B.find(q),I=B.find(s),J=B.find(t),K=B.find(p),L=B.find(l),M=B.find(m),N=B.find(o),O=B.find(n),H=B.find(r),H.focus(function(){I.children().attr("aria-hidden",!1)}).blur(function(){I.children().attr("aria-hidden",!0)})},ma=function(){L.off("click",ba),M.off("click",ca),O.off("click",ea),N.off("click",da),i.isIPhoneOrIPod()&&F.off("touchstart",fa)},na=function(){L.on("click",ba),M.on("click",ca),O.on("click",ea),N.on("click",da),i.isIPhoneOrIPod()&&F.on("touchstart",fa)},oa=function(){if(!x)for(var a=0;a<u.questions.length;a++)if(!u.questions[a].responseLocked){A=a;break}},pa=function(a,b){ma(),E.destroy(),P.removeView(a,b)};return la(),oa(),na(),ia(),{showView:S,hideView:T,removeView:pa,showFeedbackForCurrentQuestion:ka,updateViewPosition:P.updateViewPosition,setBottomOffset:P.setBottomOffset,pointAt:P.pointAt}};return{create:u}}),function(a,b,c,d){"use strict";a.TSC=a.TSC||{},a.TSC.reviewAnswersConfirmationView=function(){var e,f=c.create(".review-confirmation-container");if(!b||!b.question_set_review_confirmation_template)throw Error("reviewAnswersConfirmationView: Review Answer Confirmation View Template not found.");e=b.question_set_review_confirmation_template;var g=".controls-container",h=".continue-video-button",i=".review-answers-button";return{getViewMarkup:function(a,b,c,d,f,g){var h={numberCorrect:a,percentCorrect:b,numberInCorrect:c,percentInCorrect:d,continueText:f,reviewAnswerText:g};return e(h)},getContinueControlRef:function(){return h},getReviewControlRef:function(){return i},showView:function(){f.showView(!0);var b=a.$(g).find(i);b.focus(),d.disableHighlights(b)},removeView:f.removeView,updateViewPosition:f.updateViewPosition,setBottomOffset:f.setBottomOffset,pointAt:f.pointAt}}()}(this,window.TSC.templates,window.TSC.BubbleView,window.TSC.highlightDisabler),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.xmpGrader=b(c.questionType)}(this,function(a){"use strict";var b=function(a,b){var c,d=a.correctAnswer,e=parseInt(b,10);c=!isNaN(e)&&1<<e===d,a.isResponseCorrect=c,a.isGraded=void 0!==d&&d>0},c=function(a,b){var c=void 0!==b?b.toLowerCase():"",d=a.answers,e=d?d.length:0;if(a.isGraded=e>0,a.isGraded){a.isResponseCorrect=!1;for(var f=0;f<e;f++)if(c===d[f].text.toLowerCase()){a.isResponseCorrect=!0;break}}},d=function(d){d.type===a.CHOICE?b(d,d.userResponse):d.type===a.FILL_IN&&c(d,d.userResponse)},e=function(a){a.questions.forEach(function(a){a.responseLocked&&d(a)})};return Object.defineProperties({gradeQuestionSet:e},{doesLocalGrading:{value:!0}})}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.fathomGrader=b()}(this,function(){"use strict";var a=function(a,b){var c=a.id,d=b[c];void 0!==d&&(a.isResponseCorrect=d.isCorrect,a.correctAnswer=d.correctAnswer,a.isGraded=d.isGraded)},b=function(b,c){b.questions.forEach(function(b){a(b,c)}),b.cacheQuestionDetails()};return Object.defineProperties({processQuestionSetResults:b},{doesLocalGrading:{value:!1}})}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.quizController=b(a,a.$,a.Q,c.localizationStrings,c.deviceInfo,c.QuestionSetView,c.questionSetConfirmationView,c.QuizSetupView,c.reviewAnswersConfirmationView,c.quizService,c.questionType,c.playerConfiguration,c.progressTracker,c.questionGrader,c.fathomGrader,c.xmpGrader,c.questionSetReviewStatusView,c.events,c.urlService)}(this,function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";var t,u=null,v=null,w=null,x=null,y=null,z=0,A=0,B=14,C=0,D=null,E=!0,F=!1,G=!0,H=null,I=!1,J="",K=function(){y.useScorm&&"undefined"!=typeof a.userSubmitToLMS&&a.userSubmitToLMS(y.getScormScore(),y.isLastQuestionComplete(A))},L=function(){x.trigger(r.Quizzing.Complete)},M=function(){A=-1,w.removeView(!0),w=null,L()},N=function(a){J=a,x.trigger(r.Quizzing.Status,{message:a})},O=function(){x.off(r.Quizzing.CloseQuestionSetView,O),M()},P=function(a){var b=f.create(x,y.questionSets[A],a,I,!0);x.on(r.Quizzing.CloseQuestionSetView,O),w=b,ja(),null!==D&&w.pointAt(D),w.showView(),w.updateViewPosition()},Q=function(){b(i.getContinueControlRef()).unbind("click",Q),b(i.getReviewControlRef()).unbind("click",R),i.removeView(!0),w=null,L()},R=function(){b(i.getContinueControlRef()).unbind("click",Q),b(i.getReviewControlRef()).unbind("click",R),i.removeView(!1),w=null,P()},S=function(){var a=null,c=null,e=null,f=null,g=0,h=0,j=0,k=y.questionSets[A].numberGradedQuestions;k>0&&(g=y.questionSets[A].numberCorrectQuestions,h=k-g,j=y.questionSets[A].numberUngradedQuestions,a=d.strings.txtCorrect.replace("{{numberCorrect}}",g),c=Math.round(100*(g/k))+"%",e=d.strings.txtIncorrect.replace("{{numberIncorrect}}",h),f=Math.round(100*(h/k))+"%"),1===j?q.setUngradeableDetails(j+d.strings.accessBtnWasNotGraded):q.setUngradeableDetails(j+d.strings.accessBtnWereNotGraded);var l=i.getViewMarkup(a,c,e,f,d.strings.txtContinue,d.strings.txtReviewAnswer);x.append(l),w=i,b(w.getContinueControlRef()).bind("click",Q),b(w.getReviewControlRef()).bind("click",R),w.showView(),ja(),null!==D&&w.pointAt(D)},T=function(){var a=y.questionSets[A].numberCorrectQuestions,c=y.questionSets[A].numberGradedQuestions,e=y.questionSets[A].numberUngradedQuestions;q.setGradeableDetails(a+d.strings.accessBtnCorrectOutOf+c+d.strings.accessBtnGradedQuestions),1===e?q.setUngradeableDetails(e+d.strings.accessBtnWasNotGraded):q.setUngradeableDetails(e+d.strings.accessBtnWereNotGraded);var f=q.getViewMarkup();x.append(f),w=q,b(q.getHideAnswersControlRef()).bind("click",V),b(q.getShowAnswersControlRef()).bind("click",U),q.showView(),w.updateViewPosition()},U=function(){b(q.getHideAnswersControlRef()).unbind("click",V),b(q.getShowAnswersControlRef()).unbind("click",U),q.removeView(!1),w=null,P()},V=function(){x.trigger(r.Quizzing.HideQuiz),w.hideView()},W=function(a,b){a.type===r.Quizzing.RationaleActionLocation?s.openUrl(b.location,"_blank"):a.type===r.Quizzing.RationaleActionJumpToTime&&(x.off(r.Quizzing.CloseQuestionSetView,X),x.off(r.Quizzing.SubmitQuestionSet,_),x.off(r.Quizzing.RationaleActionLocation,W),x.off(r.Quizzing.RationaleActionJumpToTime,W),M())},X=function(){x.off(r.Quizzing.CloseQuestionSetView,X),x.off(r.Quizzing.SubmitQuestionSet,_),x.off(r.Quizzing.RationaleActionLocation,W),x.off(r.Quizzing.RationaleActionJumpToTime,W),x.trigger(r.Quizzing.Submitted),y.questionSets[A].displayFeedback?I?(x.trigger(r.Quizzing.TransitionImageQuizToAnswers),w.removeView(!0),T()):(w.removeView(!1),S()):M()},Y=function(){if(N(d.strings.txtSubmittingAnswers),y.useQuizApi){var a=y.getApiDataForQuestionSet(A);return j.submitQuestionSet(a).progress(function(){x.trigger(r.Quizzing.ShowSubmissionRetryMessage)}).then(function(a){return x.trigger(r.Quizzing.HideSubmissionRetryMessage),t.doesLocalGrading||void 0!==a?a:c.reject("Failed to get results for question set submission")})}return c()},Z=function(a){return!t.doesLocalGrading&&a?t.processQuestionSetResults(y.questionSets[A],a):t.gradeQuestionSet(y.questionSets[A]),c()},$=function(){y.useScorm&&K(),y.questionSets[A].usesRationale?(x.trigger(r.Quizzing.HideLoadingMessage),w.showFeedbackForCurrentQuestion()):X()},_=function(){Y().then(Z).then($).catch(la)},aa=function(a){var b=f.create(x,y.questionSets[A],a,I,!1);y.questionSets[A].usesRationale?(x.on(r.Quizzing.SubmitQuestionSet,_),x.on(r.Quizzing.CloseQuestionSetView,X),x.on(r.Quizzing.RationaleActionLocation,W),x.on(r.Quizzing.RationaleActionJumpToTime,W)):x.on(r.Quizzing.SubmitQuestionSet,_),w=b,ja(),null!==D&&w.pointAt(D),w.showView(),w.updateViewPosition()},ba=function(){w.removeView(!0),w=null,x.trigger(r.Quizzing.Review)},ca=function(){A<z&&aa(!1)},da=function(){w.removeView(),w=null,ca()},ea=function(){var a;a=G?d.strings.txtReview:d.strings.txtContinue;var c=g.getViewMarkup(a,d.strings.txtAnswerQuestion);x.append(c),w=g,ja(),y.hideReplay===!0&&b(g.getReviewControlRef()).hide(),b(g.getReviewControlRef()).bind("click",ba),b(g.getConfirmControlRef()).bind("click",da),g.showView(),g.updateViewPosition()},fa=function(){v&&(u.off(r.Quizzing.BeginClicked,ga),u.off(r.Quizzing.SkipClicked,ha),v.destroy(),v.$view.remove(),v=null)},ga=function(a,b){a.preventDefault(),fa(),x.trigger(r.Quizzing.SubmittingInstance),y.useQuizApi&&ka(b.firstName,b.lastName,b.email),x.trigger(r.Quizzing.Begin)},ha=function(a){a.preventDefault(),E=!1,fa(),x.trigger(r.Quizzing.Skip)},ia=function(){v=h.create(x,u),u.on(r.Quizzing.BeginClicked,ga),y.allowSkipQuiz?u.on(r.Quizzing.SkipClicked,ha):v.hideSkipButton()},ja=function(){w&&w.setBottomOffset&&(w.setBottomOffset(C),w.updateViewPosition())},ka=function(a,b,d){return y?(x.trigger(r.Quizzing.ShowQuizBar),F=!0,x.trigger(r.Quizzing.Begin),j.startQuizInstance(y,a,b,d,l).catch(function(a){return la(),c.reject(a)})):c()},la=function(){E=!1,x.trigger(r.Quizzing.Error)},ma=function(){return y&&y.quizID&&E&&y.requireUserId&&!l.getIsUserIdentified()},na=function(a,b,c){u=a,G=b,H=c,y.useQuizApi?y.requireUserId&&!l.getIsUserIdentified()?ia():ka():(F=!0,x.trigger(r.Quizzing.Begin))},oa=function(){ma()||ka()},pa=function(a){u=a},qa=function(){ma()&&ia()},ra=function(){return J},sa=function(a){x=a},ta=function(){A<z&&aa(!0)},ua=function(){return z>1},va=function(a){for(var b=-1,c=-1,d=y.questionSetMarkerTimes,e=d.length,f=0;f<e;f++)if(!d[f].completed&&(G&&d[f].startTime<=a&&!d[f].canSeekPast||d[f].rangeStart<=a&&a<=d[f].rangeEnd)){b=d[f].questionSetIndex,c=d[f].startTime;break}return{id:b,markerTime:c}},wa=function(a){return y.getPreviousMarkerTimeForMarker(a)},xa=function(a,b){y.questionSets[a].percentOfVideoSegmentWatched=b},ya=function(a){w||(A=a,G&&y.questionSets[a].startTime<=y.minMarkerTimeDiff||y.questionSets[a].inProgress?aa(!0):ea())},za=function(){null===w?aa(!0):w.showView()},Aa=function(){w.hideView()},Ba=function(a){D=a,w&&(w.pointAt&&w.pointAt(D),ja())},Ca=function(a){C=a+B,ja()},Da=function(a){switch(a){case n.FATHOM:t=o;break;case n.XMP:t=p;break;default:throw new Error("Grader type not recognized")}},Ea=function(){return j.getAnalyticsRate().then(function(a){return m.start(H(),a),c()})},Fa=function(a,b){return j.sendProgress(a,b)},Ga=function(){fa(),w&&(w.removeView(!0),w=null),x&&(x.off(r.Quizzing.SubmitQuestionSet,_),x.off(r.Quizzing.CloseQuestionSetView,X),x.off(r.Quizzing.RationaleActionLocation,W),x.off(r.Quizzing.RationaleActionJumpToTime,W),x=null),u=null,y=null,z=0,A=0,B=14,C=0,D=null,E=!0,F=!1,G=!0,H=null,I=!1,J="",t=null};return Object.defineProperties({reset:Ga,init:na,simpleInit:oa,hasMultipleQuestionSets:ua,gatherSetupIfNeeded:qa,setSmartplayerElement:pa,getLastStatusMessage:ra,displayNextQuestionSet:ta,findQuestionSet:va,findPrevMarkerTimeForMarker:wa,updatePercentWatchedForQuestionSet:xa,setViewContainer:sa,displayConfirm:ya,showQuiz:za,hideQuiz:Aa,pointViewAt:Ba,setViewControlBarOffset:Ca,startTrackingProgress:Ea,setQuestionGrader:Da,forceProgressUpdate:Fa},{quizEnabled:{get:function(){return E},set:function(a){E=a}},quizReady:{get:function(){return F}},hasQuiz:{get:function(){return y&&y.quizID}},viewIsOpen:{get:function(){return null!==w}},mediaIsImage:{set:function(a){I=a}},quizModel:{get:function(){return y},set:function(a){y=a,z=y.numberQuestionSets}}})}),function(a){"use strict";a.TSC=a.TSC||{},a.TSC.videoAnalytics=function(){var a,b,c,d,e,f,g,h=3e4,i=0,j=[{duration:3e5,segmentLength:2e3},{duration:18e5,segmentLength:5e3}],k=0,l=!1;return{setVideoLoadStartTime:function(b){a=b},setVideoLoadEndTime:function(a){b=a},getVideoLoadTime:function(){var c=0;return a&&b&&(c=b-a),c},getNumberSegments:function(){return d},setCurrentPlayTime:function(a){f=a},getCurrentPlayTime:function(){return f},getNumberWatchedSegments:function(){return k},isPercentWatchedInitialized:function(){return i>0},clearPercentWatched:function(){i=0},initPercentWatched:function(a){if(!(a<=0)){i=a,c=h;for(var b=0;b<j.length;b++)if(a<=j[b].duration){c=j[b].segmentLength;break}e=[],d=Math.ceil(a/c);for(var f=0;f<d;f++)e.push(!1);k=0}},markTimeWatched:function(a){a=Math.min(a,i),f=a/1e3,g=Math.floor(a/c),g<0||g>=d||e[g]||(k++,e[g]=!0)},getPercentageWatched:function(){return d&&d>0?k/d:0},getPercentageWatchedForVideoSegment:function(a,b){var d=0;if(i>0&&a<=b){for(var f=Math.floor(a/c),g=Math.floor(b/c),h=0,j=g-f+1,k=f;k<=g;k++)e[k]&&h++;d=h/j}return d},setEnabled:function(a){l=a},isEnabled:function(){return l}}}()}(this),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.Media=b(a)}(this,function(){"use strict";var a=function(a,b,c,d){var e=a,f=b,g=c,h=d;return Object.defineProperties({},{media:{get:function(){return e}},type:{get:function(){return f}},mimeType:{get:function(){return g}},uri:{get:function(){return h}}})};return{create:a}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.MediaListParser=b(a,a.$,a.Q,c.playerConfiguration,c.mediaType,c.mediaMimeType,c.Media,c.MediaLibModel)}(this,function(a,b,c,d,e,f,g,h){"use strict";var i="m3u",j="tscproj",k="json",l="urn:",m=function(a){return a.split("#")[0].split("?")[0].split(".").pop().toLowerCase()},n=function(a){var d=c.defer();return b.ajax({type:"HEAD",url:a}).done(function(a,b,c){var e=c.getResponseHeader("content-type")||f.UNKNOWN;d.resolve(e)}).fail(function(){d.resolve(f.UNKNOWN)}),d.promise},o=function(a){switch(a){case j:case k:return f.JSON;case i:return f.M3U;case"mp4":case"m4v":case"mov":return f.MP4;case"webm":return f.WEBM;case"ogv":return f.OGV;case"jpg":case"jpeg":return f.JPEG;case"png":return f.PNG;case"gif":return f.GIF;default:return f.UNKNOWN}},p=function(a){switch(a){case f.M3U:return e.PLAYLIST;case f.JSON:return e.TSCPROJ;case f.MP4:return e.MP4;case f.WEBM:return e.WEBM;case f.OGV:return e.OGG;case f.PNG:return e.PNG;case f.GIF:return e.GIF;case f.JPEG:return e.JPG;default:return e.UNKNOWN}},q=function(a){return b.ajax({type:"GET",url:a,isLocal:!0,dataType:"text"})},r=function(a){var b=[],r=null,s=[],t=function(a){var b=[],d=[],e=c.defer(),f=a.split(/\r?\n/g).filter(function(a){return""!==a});return f.forEach(function(a,c){b.push(y(a,d,c))}),c.all(b).then(function(){e.resolve(d)}).catch(function(){e.reject("Failed to create media objects for the playlist sources.")}),e.promise},u=function(a){var b=h.create(a);return b.ready.then(function(){return g.create(b,e.TSCPROJ,f.JSON,a)})},v=function(a,e){var h=d.getWebConnector();if(!h)return c.reject("Media List: webconnector player configuration is not available and is required to load a URN uri");var i=!0;return h.hasModuleByUrn(a,"resolver").then(function(b){return i=!1,b.getContentType(a).then(function(d){switch(d){case f.JSON:return u(a);case f.MP4:case f.WEBM:case f.OGV:case f.PNG:case f.GIF:case f.JPEG:return b.getFileUrl(a).then(function(b){return g.create(b,p(d),d,a)});default:return c.reject("MediaListParser: Media Source ("+a+") has unsupported contentType of ("+d+")")}})}).then(function(a){return b[e]=a,a}).catch(function(b){return i?c.reject("MediaListParser - no resolver found for urn("+a+")"):c.reject(b)})},w=function(a,d){var h=g.create(a,e.YOUTUBE,f.UNKNOWN,a);return b[d]=h,c(h)},x=function(a,d){var h=c.defer(),i=q(a);return i.done(function(c){t(c).then(function(c){var i=g.create(c,e.PLAYLIST,f.M3U,a);b[d]=i,h.resolve(i)}).catch(function(){h.reject()})}),i.fail(function(){h.reject("Failed to load the supplied playlist ("+a+")")}),h.promise},y=function(a,b,e){var h=c.defer(),i=null;if(d.getContentType())i=g.create(a,p(d.getContentType()),d.getContentType(),a),b[e]=i,h.resolve(i);else{var j=o(m(a));j===f.UNKNOWN?n(a).then(function(c){c!==f.UNKNOWN?(i=g.create(a,p(c),c,a),b[e]=i,h.resolve(i)):h.reject("Could not determine the content type of media ("+a+")")}):(i=g.create(a,p(j),j,a),b[e]=i,h.resolve(i))}return h.promise},z=function(a,d){return void 0!==a.tscproj?u(a).then(function(a){return b[d]=a,a}):c.reject("MediaListParser: unknown object passed in as media source.")},A=function(a,c){return u(a).then(function(a){return b[c]=a,a})},B=function(a,c){if("object"==typeof a)return z(a,c);var d=/youtu(?:\.be|be\.com)\//;return d.test(a)?w(a,c):0===a.indexOf(l)?v(a,c):m(a)===i?x(a,c):m(a)===j||m(a)===k?A(a,c):y(a,b,c)};return a.forEach(function(a,b){s.push(B(a,b))}),r=c.all(s),Object.defineProperties({},{mediaList:{get:function(){return[].concat(b)}},ready:{get:function(){return r}}})};return{create:r}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.MediaList=b(a,a.Q,c.MediaListParser,c.mediaType)}(this,function(a,b,c,d){"use strict";var e=function(a){var e,f,g=b.defer(),h=0;e=c.create(a),e.ready.then(function(){f=e.mediaList[0].type===d.PLAYLIST?e.mediaList[0].media:e.mediaList,g.resolve()}).catch(function(){g.reject()});var i=function(a){var b=-1;return f.some(function(c,d){return c.uri===a&&(b=d),c.uri===a}),b},j=function(a){return f.some(function(b){return a===b.type})},k=function(a){return"string"==typeof a?"next"===a?h<f.length-1&&h++:"previous"===a&&h>0&&h--:"number"==typeof a&&a>=0&&a<f.length&&(h=a),h};return Object.defineProperties({getMediaIndexByUri:i,isMediaTypeAvailable:j},{ready:{get:function(){return g.promise}},currentMedia:{get:function(){return f[h]}},currentMediaIndex:{get:function(){return h},set:k},mediaList:{get:function(){return f}},currentMediaType:{get:function(){return f[h].type}},onFirstMedia:{get:function(){return 0===h}},onLastMedia:{get:function(){return h+1===f.length}},hasImage:{get:function(){return f[0].type===d.JPG||f[0].type===d.GIF||f[0].type===d.PNG}},isPlaylist:{get:function(){return e.mediaList[0].type===d.PLAYLIST}},isTscProj:{get:function(){return f[0].type===d.TSCPROJ}}})};return{create:e}}),function(a,b,c,d,e){"use strict";a.TSC=a.TSC||{},a.TSC.mediaPlayerController=function(){var a,c=9,f=function(a){var f=a.hasImage,g=a.isMediaTypeAvailable(d.WEBM)&&e.canPlayWebM(),h=a.isMediaTypeAvailable(d.MP4)&&e.canPlayMP4(),i=a.isMediaTypeAvailable(d.OGG)&&e.canPlayOgg(),j=a.isMediaTypeAvailable(d.YOUTUBE);return e.isIE()&&null!==e.getIEVersion()&&e.getIEVersion()<=c?b.NOT_SUPPORTED:a.isTscProj?b.TSCPROJ:j?b.YOUTUBE:g||h||i?b.HTML5_VIDEO:g||h||i?b.HTML5_VIDEO:f?b.IMAGE:b.NOT_SUPPORTED};return{getPlayerType:function(b){return a||(a=f(b))},clearPlayerType:function(){a=void 0}}}()}(this,window.TSC.playerType,window.TSC.playerConfiguration,window.TSC.mediaType,window.TSC.deviceInfo),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.iFrameBridge=b(a,a.JSON,c.playerConfiguration)}(this,function(a,b,c){"use strict";var d=function(d,e,f){var g={};g.smartPlayerEventName=d,c.getEmbedIFrameId()&&(g.iFrameId=c.getEmbedIFrameId()),f&&(g.data=f),a.top.postMessage(b.stringify(g),e)},e=function(){return a!==a.top};return{postMessage:d,isInIframe:e}}),function(a,b,c,d,e){"use strict";a.TSC=a.TSC||{},a.TSC.queryParamsStripper=function(){var a=function(a){var b=a.slice(a.indexOf("?")+1).split("&");b&&b.length>0&&c.saveConfigurationFromQueryString(b)},f=function(){b.addCallback("PARENT-URL-PARAMS",g),d.postMessage("GET-EMBEDDED-URL-VARS","*")},g=function(c){b.removeCallback("PARENT-URL-PARAMS"),a(c)};return{strip:function(){a(e.getLocationHref()),d.isInIframe()&&f()}}}()}(this,window.TSC.externalMessageController,window.TSC.playerConfiguration,window.TSC.iFrameBridge,window.TSC.windowWrapper),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.responsiveController=b(a.$)}(this,function(a){"use strict";var b=null,c=null,d={width:null,height:null},e={"small-mobile":{width:1,height:1},"medium-mobile":{width:250,height:250},"small-desktop":{width:400,height:400}},f=function(){c.width()===d.width&&c.height()===d.height||(d.width=c.width(),d.height=c.height(),c.trigger("resize",d))},g=function(a){b&&clearInterval(b),c=a,b=setInterval(f,250)},h=function(){c&&a.each(e,function(a,b){var e=[a,"width"].join("-"),f=[a,"height"].join("-");b.width&&d.width>b.width?c.addClass(e):c.removeClass(e),b.height&&d.height>b.height?c.addClass(f):c.removeClass(f)})},i=function(){b&&clearInterval(b),b=null,c=null,d={width:null,height:null}};return{monitorContainerSize:g,forgetContainerSize:i,manageResponsiveClasses:h}}),function(a,b){"use strict";var c=a.TSC||{};c.IoOverlayView=b(c.templates)}(this,function(a){"use strict";var b="data:image/gif;base64,R0lGODlhIAAgAPMAAAAAAP///zg4OHp6ekhISGRkZMjIyKioqCYmJhoaGkJCQuDg4Pr6+gAAAAAA AAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJ CgAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6 k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1Z BApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYty WTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/ nmOM82XiHRLYKhKP1oZmADdEAAAh+QQJCgAAACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDU olIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY /CZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB+A4k8gTwJhFuiW4dokXil oUepBAp5qaKpp6+Ho7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx6 1WiSR92E4lbFoq+B6QDtuetcaBPnW6+O7wDHpIiK9SaVK5GgV543tzjgGcghAgAh+QQJCgAAACwA AAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZ KYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCE WBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKU MIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK++G+w48edZPK+M6hLJ pQg484enXIdQFSS1u6UhksENEQAAIfkECQoAAAAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg 1aBSh2GUVEIQ2aQOE+G+cD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFh lQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWM PaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm+FNRPIhjBJxKZteWuIBMN4zRMIVIhffcgo jwCF117i4nlLnY5ztRLsnOk+aV+oJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkECQoAAAAsAAAA ACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQk WyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0/VNB0AlcvcAYHRyZPdEQFYV8c cwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIG wAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhk PJMgTwKCdFjyPHEnKxFCDhEAACH5BAkKAAAALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBSh pkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuH jYB1kYc1mwruwXKC9gmsJXliGxc+XiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOU qjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQ CdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5 BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA 7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyND J0uIiRMDjI0Fd30/iI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQUL XAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3x EgfLpBtzE/jiuL04RGEBgwWhShRgQExHBAAh+QQJCgAAACwAAAAAIAAgAAAE7xDISWlSqerNpyJK hWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTE SJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR+ipslWIRLAgMD OR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ 0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIA ACH5BAkKAAAALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqU ToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyA SyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwID aH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLr ROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAkKAAAALAAAAAAgACAAAATrEMhJ aVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ 9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOU jY+Yip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgG BqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd+MFCN6HAAIKgNggY 0KtEBAAh+QQJCgAAACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9Uk UHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCX aiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgev r0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1+vsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfL zOlD4WvzAHaoG9nxPi5d+jYUqfAhhykOFwJWiAAAIfkECQoAAAAsAAAAACAAIAAABPAQyElpUqnq zaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLK F0tYGKYSg+ygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0+bm4g5 VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h+Kr0SJ8MFihpNbx+4Erq7BYBu zsdiH1jCAzoSfl0rVirNbRXlBBlLX+BP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaL Cwg1RAAAOwAAAAAAAAAAAA==",c=function(c){var d=!1,e=a.io_overlay_view_template({loaderImg:b});c.append(e);var f=c.find(".tsc-io-container"),g=f.find("span"),h=f.find("img"),i=function(a){g.html(a)},j=function(){h.hide()},k=function(){h.show()},l=function(){f.stop().css("opacity",0).show().animate({opacity:1},300),d=!0},m=function(a){d&&(d=!1,f.stop().animate({opacity:0},200,function(){a&&a.call(),f.hide()}))},n=function(a,b){i(a),b?j():k(),d||l()};return{hideView:m,displayMessage:n}};return{create:c}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.PlayerSettingsView=b(a,a.$,c.templates,c.localizationStrings,c.deviceInfo,c.cssClasses,c.keyCodes,c.tabIndex,c.events,c.highlightDisabler)}(this,function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=1,l=[.25,.5,.75,1,1.25,1.5,1.75,2],m=function(a){a.find(".settings-button").hide()},n=function(a,b,m){var n=!1,o=k,p=m||l,q=p[0],r=p[p.length-1],s=!1;b.playbackRate=o,b.defaultPlaybackRate=o;var t=function(){for(var a=d.strings.playerRateOptionsText,b=[],c=p.length-1;c>=0;c--){var e=p[c];b.push({rateValue:e,rateLabel:a[e],selected:e===k})}return b},u={playerRateText:d.strings.playerRateText,playbackRates:t(),accessBtnSettings:d.strings.accessBtnSettings,settingsIndex:h.Settings,speedSettingIndex:h.SpeedSetting},v=c.settings_view_template(u);a.find(".player-settings-wrapper").html(v);var w=a.find(".player-settings-container"),x=w.find(".player-speed-select"),y=a.find(".settings-button"),z=function(){n=!1,w.hide(),y.removeClass(f.settingsButtonActiveGlyph).addClass(f.settingsButtonGlyph).attr("aria-expanded",!1),C()},A=function(){n=!0,w.show(),y.removeClass(f.settingsButtonGlyph).addClass(f.settingsButtonActiveGlyph).attr("aria-expanded",!0),B()},B=function(){a.mouseup(D)},C=function(){a.off("mouseup",D)},D=function(a){n&&(w.is(a.target)||0!==w.has(a.target).length||setTimeout(function(){z()},50))},E=function(){var a=b.playbackRate;a!==Number(x.find(":selected").val())&&(a>r?F(r):a<q?F(q):x.find('.player-speed-option[value="'+b.playbackRate+'"]').prop("selected",!0))},F=function(a){a?a<q?a=q:a>r&&(a=r):a=k,o=a,b.playbackRate=a,b.defaultPlaybackRate=a,e.isIOS()&&!b.paused&&(b.pause(),b.play())},G=function(){var a=Number(x.find(":selected").val());F(a)},H=function(){E()},I=function(){var a=p.indexOf(o);a!==-1&&a+1<p.length&&F(p[a+1])},J=function(){var a=p.indexOf(o);a!==-1&&a>0&&F(p[a-1])},K=function(a){a.keyCode===g.upArrow&&a.shiftKey?(a.preventDefault(),I()):a.keyCode===g.downArrow&&a.shiftKey?(a.preventDefault(),J()):a.keyCode===g.escape&&n&&(x.is(":focus")&&y.focus(),z())},L=function(a){a.stopPropagation()},M=function(){y.attr("tabindex",h.Disabled)},N=function(){y.attr("tabindex",h.Settings)},O=function(){s=!0},P=function(){s=!1},Q=function(a){a.preventDefault(),n?z():(A(),x.focus(),j.disableHighlightsOnMouseClick(x,a))},R=function(){s||z()},S=function(){x.on("click",L),x.on("mouseup",L),x.on("change",G),w.on("focusout",R),y.on("click",Q),b.addEventListener?b.addEventListener("ratechange",H,!1):b.on&&b.on("ratechange",H),a.on(i.Controls.Disable,M),a.on(i.Controls.Enable,N),a.on("keydown",K),a.on("keydown",P),a.on("click",O)},T=function(){x.off("click",L),x.off("mouseup",L),x.off("change",G),w.off("focusout",R),y.off("click",Q),b.removeEventListener?b.removeEventListener("ratechange",H):b.off&&b.off("ratechange",H),a.off(i.Controls.Disable,M),a.off(i.Controls.Enable,N),a.off("click",O),a.off("keydown",K),a.off("keydown",P)},U=function(){n||A()},V=function(){n&&z()};return S(),z(),Object.defineProperties({open:U,close:V,destroy:T},{isOpen:{get:function(){return n}},playbackRate:{get:function(){return o},set:F}})};return{create:n,hideButton:m}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.FullscreenControlView=b(a,a.$,c.templates,c.localizationStrings,c.deviceInfo,c.cssClasses,c.playerConfiguration,c.iFrameBridge,c.events,c.tabIndex,c.urlService)}(this,function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l="fullScreenMode",m="fullFrameMode",n="expandMode",o="hiddenMode",p=function(p){var q,r=!1,s=!1,t=b(a.document),u=null,v=function(){u=e.supportsFullScreen()&&!e.getIOSSupportsInlineVideo()?l:h.isInIframe()?g.getDisableFullframeMode()?n:m:o},w=function(){var a=d.strings.accessBtnFullScreen;
u===n&&(a=d.strings.accessBtnFullScreenExpand);var b=c.fullscreen_control_template({accessBtnFullScreen:a,fullscreenIndex:j.Fullscreen});p.find(".fullscreen-wrapper").html(b),q=p.find(".fullscreen-button"),(u===o||e.getIOSSupportsInlineVideo())&&q.hide()},x=function(){r=!r,r?(q.removeClass(f.fullscreenButtonGlyph),q.addClass(f.fullscreenButtonActiveGlyph),q.attr("aria-pressed",!0)):(q.removeClass(f.fullscreenButtonActiveGlyph),q.addClass(f.fullscreenButtonGlyph),q.attr("aria-pressed",!1)),p.trigger(i.Controls.FullScreenChange)},y=function(a){switch(u){case l:var b=e.getFullScreenChangeEventNames();t.off(b,x),t.on(b,x);break;case m:q.removeClass(f.fullscreenButtonGlyph),q.addClass(f.fullFrameButtonGlyph),q.show();break;case n:a?(q.removeClass(f.fullscreenButtonGlyph),q.addClass(f.expandButtonGlyph),q.show()):q.hide()}},z=function(){q.attr("aria-pressed",!1),a.document.exitFullscreen?a.document.exitFullscreen():a.document.webkitExitFullscreen?a.document.webkitExitFullscreen():a.document.msExitFullscreen?a.document.msExitFullscreen():a.document.mozCancelFullScreen&&a.document.mozCancelFullScreen()},A=function(){q.attr("aria-pressed",!0);var a=p.get(0);a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen&&a.mozRequestFullScreen()},B=function(){z()},C=function(){r?B():A()},D=function(){s=!s,s?(q.removeClass(f.fullFrameButtonGlyph),q.addClass(f.fullFrameButtonActiveGlyph),q.attr("aria-pressed",!0),h.postMessage(i.IFrame.EnterFullFrame,"*")):(q.removeClass(f.fullFrameButtonActiveGlyph),q.addClass(f.fullFrameButtonGlyph),h.postMessage(i.IFrame.ExitFullFrame,"*"),q.attr("aria-pressed",!1))},E=function(){p.trigger(i.Controls.ExpandVideo),k.openUrl(a.location,"_blank")},F=function(){switch(u){case l:C();break;case m:D();break;case n:E()}},G=function(){switch(u){case l:C();break;case m:D()}},H=function(){q.click(function(a){F(),a.preventDefault()});var a=function(){q.attr("tabindex",j.Disabled)},b=function(){q.attr("tabindex",j.Fullscreen)};p.on(i.Controls.Disable,a),p.on(i.Controls.Enable,b)},I=function(){r&&z()};return v(),w(),H(),Object.defineProperties({initializeFullScreenSupport:y,onVideoEnd:I,onDoubleClick:G},{isFullScreen:{get:function(){return r}},isFullFrame:{get:function(){return s}}})};return{create:p}}),function(a){"use strict";a.TSC=a.TSC||{},a.TSC.playedTracker=function(a){var c=.5,d=function(){var c=[],d=0,e=this;this.start=function(a){if(a<0||a>c.length-1)throw new Error("INDEX_SIZE_ERR");return c[a].start},this.end=function(a){if(a<0||a>c.length-1)throw new Error("INDEX_SIZE_ERR");return c[a].end},Object.defineProperty(this,"length",{get:function(){return c.length}});var f=function(){c.push(new b),d=c.length-1},g=function(a){0===e.length&&(f(),c[0].recordTime(0)),c[d].recordTime(a.data),c.length>1&&i()},h=function(a){var b=k(a.data);b===-1&&f()},i=function(){for(var a=c.length,b=0;b<a;b++)if(d!==b&&e.areMediaSegmentsOverlapping(c[d],c[b])){j(d,b);break}},j=function(a,b){var e=Math.min(a,b),f=Math.max(a,b);c[e].start=Math.min(c[a].start,c[b].start),c[e].end=Math.max(c[a].end,c[b].end),c.splice(f,1),d=e},k=function(a){for(var b=-1,d=c.length,e=0;e<d;e++)if(a>=c[e].start&&a<=c[e].end){b=e;break}return b};a.addEventListener("seeked",h),a.addEventListener("timeupdate",g)};return d.prototype.areMediaSegmentsOverlapping=function(a,b){var d=b.start>=a.start-c&&b.start<=a.end+c,e=b.end>=a.start-c&&b.end<=a.end+c;return d||e},new d};var b=function(){var a=-1,b=-1,c={};return Object.defineProperty(c,"start",{get:function(){return a},set:function(b){a=+b}}),Object.defineProperty(c,"end",{get:function(){return b},set:function(a){b=+a}}),c.recordTime=function(c){(a===-1||c<a)&&(a=c),c>b&&(b=c)},c}}(window),function(a,b,c,d,e,f,g,h){"use strict";var i=a.TSC=a.TSC||{};i.youTube=i.youTube||{},a.onYouTubeIframeAPIReady=function(){a.onYouTubeIframeAPIReady.ready=!0;for(var b=0;b<a.onYouTubeIframeAPIReady.queued.length;b++)a.onYouTubeIframeAPIReady.queued[b]()};var j="https://www.youtube.com/iframe_api";a.onYouTubeIframeAPIReady.queued=[];var k=d.defer();i.youTube.playbackReadyPromise=k.promise;var l=function(d,h,i,j,m,n,o,p){if(!(this instanceof l))return new l;var q=this,r={},s=0,t=0,u=0,v=1,w=-1,x=!1,y=.5,z=!1,A=[],B=!1,C=3;"number"!=typeof p&&(p=0),q.playbackReadyPromise=k.promise,this.addEventListener=function(a,b){r[a]=r[a]||[],r[a].push(b)},this.removeEventListener=function(a,b){if(r[a]&&0!==r[a].length){var c=r[a].indexOf(b);c!==-1&&r[a].splice(c,1)}},this.bind=function(a,b){if("string"==typeof a)this.addEventListener(a,b);else if("object"==typeof a)for(var c=Object.keys(a),d=0;d<c.length;d++){var e=c[d];q.addEventListener(e,a[e])}},this.on=this.bind,this.unbind=function(a,b){"undefined"!=typeof b?this.removeEventListener(a,b):r[a]=[]},this.off=this.unbind;var D=function(a){switch(a.data){case 2:K("error","Invalid video url.");break;case 5:K("error","The video cannot be played.");break;case 100:K("error","This video has been removed from YouTube and is no longer available for playback.");break;case 101:case 150:K("error","This video is unavailable.  Its YouTube owner either disabled embedding or marked it private.")}};m&&this.addEventListener("error",m);var E=function(){t=J.getDuration(),K("durationchange"),f.requiresManualPreload()&&j(),K("loadedmetadata"),K("loadeddata"),K("canplay"),q.removeEventListener("playing",E),K("playing"),K("play")},F=function(b){switch(w=b.data,b.data){case a.YT.PlayerState.PAUSED:K("pause");break;case a.YT.PlayerState.ENDED:B=!0,K("ended");break;case a.YT.PlayerState.PLAYING:K("playing"),K("play");break;case a.YT.PlayerState.BUFFERING:K("waiting")}},G=function(a){v=a.data,K("ratechange",v)},H=function(){var a=c("#"+h),b=["allowfullscreen","webkitAllowFullScreen","mozallowfullscreen"];b.forEach(function(b){a.removeAttr(b)})},I=function(){if(K("loadstart"),H(),A=J.getAvailablePlaybackRates(),A.length>1&&(x=!0),f.requiresManualPreload())return i(),void q.addEventListener("playing",E);var a=J.getVolume();J.setVolume(0);var b=setTimeout(function(){throw new Error("YouTube Plugin Error: Initial play failed to trigger within 10 seconds")},1e4);q.addEventListener("pause",function b(){q.removeEventListener("pause",b),J.seekTo(p),J.setVolume(a),q.addEventListener("playing",E),i()}),q.addEventListener("play",function a(){q.removeEventListener("play",a),clearTimeout(b),setTimeout(function(){J.pauseVideo(),k.resolve()},500)}),J.playVideo()};e.getShowYouTubeAnnotations()&&(C=1);var J=new a.YT.Player(h,{width:n,height:o,videoId:d,playerVars:{wmode:"opaque",loop:0,autoplay:0,controls:0,disablekb:1,rel:0,showsearch:0,showinfo:0,iv_load_policy:C,playsinline:1,start:p,fs:0},events:{onReady:I,onStateChange:F,onPlaybackRateChange:G,onError:D}}),K=function(a,b){var c={type:a,target:q,data:b};if(r.hasOwnProperty(a))for(var d=r[a].slice(0),e=0;e<d.length;e++)d[e](c)},L=new g(this),M=function(){return{start:function(){return 0},end:function(){return t*u},length:1}};Object.defineProperty(this,"buffered",{get:M}),Object.defineProperty(this,"currentTime",{get:function(){return J.getCurrentTime()},set:function(a){K("seeking"),+a>q.buffered.end()?J.seekTo(+a,!0):J.seekTo(+a),K("seeked")}}),Object.defineProperty(this,"duration",{get:function(){return t}}),Object.defineProperty(this,"paused",{get:function(){return w===a.YT.PlayerState.PAUSED}}),Object.defineProperty(this,"playbackRate",{get:function(){return v},set:function(a){J.setPlaybackRate(+a)}}),Object.defineProperty(this,"played",{get:function(){return L}}),Object.defineProperty(this,"ended",{get:function(){return B}}),Object.defineProperty(this,"seekable",{get:function(){return{start:function(){return 0},end:function(){return t},length:1}}}),Object.defineProperty(this,"supportPlaybackRate",{get:function(){return x}}),Object.defineProperty(this,"validRateSettings",{get:function(){return A}}),Object.defineProperty(this,"volume",{get:function(){return y},set:function(a){var b=100*a;J.setVolume&&J.setVolume(b),y=a,K("volumechange",null)}}),Object.defineProperty(this,"muted",{get:function(){return z},set:function(a){z!==a&&(z=a,K("volumechange",null)),a?J.mute&&J.mute():J.unMute&&J.unMute()}}),this.play=function(){J.playVideo()},this.pause=function(){J.pauseVideo()},this.attr=function(a,c){var d=b.getElementById(h);d.setAttribute(a,c)},this.load=function(){};var N=function(){if("undefined"!=typeof J.getCurrentTime){var a=J.getCurrentTime();s!==a&&(s=a,K("timeupdate",a));var b=J.getVideoLoadedFraction;if("undefined"!=typeof b&&null!==b){var c=J.getVideoLoadedFraction();u!==c&&(u=c,K("progress"),u>.99&&K("canplaythrough"))}}};setInterval(N,100)};i.youTube.init=function(b,c,d,e,f,g,j,k){var m=h.getIdFromUrl(b);a.onYouTubeIframeAPIReady.ready?i.youTube.player=new l(m,c,d,e,f,g,j,k):a.onYouTubeIframeAPIReady.queued.push(function(){i.youTube.player=new l(m,c,d,e,f,g,j,k)})},i.youTube.addApi=function(){var a=c("script[src='"+j+"']").length;return a||c.getScript(j),!a}}(window,window.document,window.jQuery,window.Q,window.TSC.playerConfiguration,window.TSC.deviceInfo,window.TSC.playedTracker,window.TSC.youtubeIdParser),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.searchTool=b(c.textSanitizer)}(this,function(a){"use strict";var b=(new Date).getMilliseconds(),c="MJB_!_1_@__#_"+b,d="MJB_!_2_@__#_"+b,e=c+"$1"+d,f=new RegExp(c,"g"),g=new RegExp(d,"g"),h=/[.*+?^${}()|[\]\\]/g,i=function(b,c){var d=b.replace(c,e),h=a.htmlEncode(d);return h.replace(f,'<span class="found-search-text">').replace(g,"</span>")},j=function(a,b){var c=[];if(!b)return c;var d=new RegExp("("+b.replace(h,"\\$&")+")","gi");return a.forEach(function(a){var e=a.plainText||a.text||a.name||"";e.toLowerCase().indexOf(b)!==-1&&c.push({rawText:e,text:i(e,d),startTime:a.startTime,file:a.file,imageRef:a.image,imageRect:a.imageRectangle})}),c},k=function(a,b){b=b.toLowerCase();var c=a.tocItemArray.concat(a.captionItems).concat(a.screenTextItemArray);return a.captionItems.length<1&&a.speechTextItemArray.length>0&&(c=c.concat(a.speechTextItemArray)),j(c,b)};return{searchXmpForString:k}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.CaptionsView=b(a,a.$,c.localStorageWrapper,c.playerConfiguration,c.templates,c.localizationStrings,c.cssClasses,c.tabIndex,c.events)}(this,function(a,b,c,d,e,f,g,h,i){"use strict";var j="captionEnabled",k=function(a,k){var l=e.captions_view_template({accessBtnClosedCaption:f.strings.accessBtnClosedCaption,closedCaptionIndex:h.ClosedCaption});a.find(".caption-wrapper").html(l);var m=a.find("#controls"),n=a.find(".caption"),o=a.find(".caption > p"),p=a.find(".closed-caption-button"),q=a.find(".captions-aria-label"),r=c.getItem(j),s="true"===r,t=k.fontSize,u=1,v="under"===k.position||d.getCaptionsEnabled(),w=-1,x=function(){D(!v),c.setItem(j,v),H()},y=function(){p.attr("tabindex",h.Disabled)},z=function(){p.attr("tabindex",h.ClosedCaption)},A=function(){a.on(i.Controls.Disable,y),a.on(i.Controls.Enable,z),p.on("click",x)},B=function(){a.off(i.Controls.Disable,y),a.off(i.Controls.Enable,z),p.off("click",x)},C=function(){o.css({"font-family":k.fontEnclosedWithQuotes,color:k.textColor.toString(),background:k.backgroundColor.toString()}),"under"===k.position&&(n.css("background",k.backgroundColor.toHexString()),n.addClass("caption_under_video"),n.removeClass(g.hide))},D=function(a){a===!0?(n.removeClass(g.hide),p.attr("aria-pressed",!0)):(n.addClass(g.hide),p.attr("aria-pressed",!1)),v=a},E=function(a){u=a;var b=Math.round(k.fontSize*u);b=Math.min(Math.max(k.fontSizeMin,b),k.fontSizeMax),t=b,"under"===k.position&&n.css("height",k.height*u+"px"),o.css("font-size",t),C()},F=function(a){return"top"===a?"captionVAlignTop":"captionVAlignBottom"},G=function(a){switch(a){case"left":return"captionHAlignLeft";case"right":return"captionHAlignRight";default:return"captionHAlignCenter"}},H=function(){k.hasCaptions?("under"===k.position?(d.setAutoHideControls(!1),m.addClass("caption_under_video")):(p.removeClass(g.hide),v===!0?p.removeClass(g.closedCaptionButtonGlyph).addClass(g.closedCaptionButtonActiveGlyph):p.removeClass(g.closedCaptionButtonActiveGlyph).addClass(g.closedCaptionButtonGlyph)),C(),E(u)):p.addClass(g.hide)},I=function(c,d){if(!k.hasCaptions)return void o.html("");var e=-1;if(b.each(k.captionTrack.captionCollection.captions,function(a,b){void 0!==b.file&&b.file!==d||b.startTime<=c&&c<=b.endTime&&(e=a)}),e===-1)return o.html(""),q.text(""),void(w=-1);if(e!==w){w=e;var f=k.captionTrack.captionCollection.captions[e];if(!f||!f.markupText)return;n.removeClass("captionHAlignLeft captionHAlignCenter captionHAlignRight"),n.addClass(G(f.horizontalAlignment)),n.removeClass("captionVAlignTop captionVAlignBottom"),n.addClass(F(f.verticalAlignment)),q.text(f.plainText),o.html(f.markupText.replace("&para","&amp;para")),C(),a.trigger(i.Captions.Changed,f)}};return D(d.getIgnoreStoredCaptionVisibleSetting()||v||!s?v:!0),A(),Object.defineProperties({updateCaption:I,handleDisplayCaptions:H,destroy:B},{visible:{get:function(){return v},set:D},scale:{get:function(){return u},set:function(a){E(a)}}})};return{create:k}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.TocView=b(a,a.$,a.Q,c.templates,c.localizationStrings,c.playerConfiguration,c.deviceInfo,c.searchTool,c.events,c.keyCodes,c.tabIndex,c.cssClasses,c.textSanitizer,c.highlightDisabler)}(this,function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o=250,p=function(a,p){var q,r=!1,s=!1,t=!1,u=!1,v={},w=null,x=null,y=null,z=null,A=null,B=null,C=null,D=null,E=null,F=null,G=a.find(".toc-container"),H=p,I=null,J=null,K=function(){var b=d.toc_template({searchLabel:e.strings.search,msgSearch:e.strings.searchPlaceholder,msgSearchIsDisabledInFS:e.strings.searchDisabledFullScreen,accessBtnClearSearch:e.strings.accessBtnClearSearch,tocSearchIndex:k.TOCSearch,tocEraseIndex:k.TOCErase});G.html(b),w=G.find(".toc-head-container"),y=G.find(".toc-search-input"),z=G.find(".toc-media-title"),x=G.find(".toc-search-container"),A=G.find(".clear-search-button"),B=G.find(".toc-pip-image-container"),C=G.find(".toc-full-screen-search-alert"),D=G.find(".toc-content-scroll-container"),E=G.find(".toc-content-container");var c=d.toc_button_template({accessBtnTableOfContents:e.strings.accessBtnTableOfContents,tocIndex:k.TOC});a.find(".toc-button-wrapper").html(c),q=a.find(".toc-button");var f=function(){q.attr("tabindex",k.Disabled)},g=function(){q.attr("tabindex",k.TOC)};a.on(i.Controls.Disable,f),a.on(i.Controls.Enable,g)},L=function(a){a?G.stop(!0,!0).fadeIn(a):G.show(),q.removeClass(l.tocButtonGlyph).addClass(l.tocButtonActiveGlyph).attr("aria-expanded",!0),r=!0},M=function(a){a?G.stop(!0,!0).fadeOut(a):G.hide(),q.removeClass(l.tocButtonActiveGlyph).addClass(l.tocButtonGlyph).attr("aria-expanded",!1),r=!1},N=function(){s=!0,L()},O=function(){s=!1,M()},P=function(){y.blur()},Q=function(){var a=w.height();D.css("top",a+"px")},R=function(a,b){if("function"!=typeof b)throw Error("Toc View : addEventListener expects eventCallback to be a function.");v[a]=b},S=function(a){delete v[a]},T=function(){var a=c.defer();return J=new Image,J.onerror=function(){a.reject()},J.onload=function(){a.resolve()},J.src=H.tocImageSrc,a.promise},U=function(){var a,c,d=J.width,e=J.height,f=1,g=.6,h=20;e<=d?d>o-h?(f=(o-h)/d,a=o-h,c=e*f):(a=d,c=e):e>o-h?(f=(d*g-h)/e,c=o*g-h,a=d*f):(c=e,a=d);var i="background: url("+H.tocImageSrc+") no-repeat;width: "+a+"px;height: "+c+"px;margin-left: "+(o-a)/2+"px;margin-right:"+(o-a)/2+"px;",j=b("<div />",{class:"toc-pip-image-background",style:i});B.append(j),B.show()},V=function(a){var b=c.defer();return H.tocContainsThumbs?(I=new Image,I.onload=function(){b.resolve()},I.onerror=function(){I.onload=void 0,I.onerror=void 0,I=null,b.resolve()},I.src=a):b.resolve(),b.promise},W=function(){G.toggleClass("right","right"===f.getSidebarLocation())},X=function(){f.getIsSearchable()||x.hide()},Y=function(){H.tocImageSrc&&T().then(U).catch(function(){console.warn("Failed to load toc pip image ",H.tocImageSrc)}),z.text(H.title)},Z=function(){E.empty()},$=function(a,b){var c="#000",d=20,e=Number(b.x),f=Number(b.y),g=Number(b.width),h=Number(b.height),i=1;g>o/2-d&&(i=(o/2-d)/g,g=o/2-d);var j=a.getContext("2d");a.width=g*i,a.height=h*i,j.scale(i,i),I?j.drawImage(I,e,f,g,h,0,0,g,h):(j.fillStyle=c,j.fillRect(0,0,g,h))},_=function(a,c,e,f,g,h,i,j){var l="data-time="+e,m=f?"data-file="+f:"",n=!i,o=d.toc_item_template({dataTocTime:l,dataFileText:m,showThumbnail:j,centerContent:n,showText:i,tocItemText:a,tocItemRawText:c,tocItemIndex:k.TOCItem}),p=b(b.parseHTML(o));return j&&($(g,h),g.classList.add("toc-item-thumbnail"),p.find(".thumbnail-placeholder").replaceWith(g)),p},aa=function(){F=[];var a=H.tocItemArray;a.forEach(function(a){var b=a.imageRectangle?document.createElement("canvas"):void 0,c=!!b,d="imageOnly"!==H.tocCellLayoutType||!c;F.push(_(m.htmlEncode(a.name),a.name,a.startTime,a.file,b,a.imageRectangle,d,c))})},ba=function(){Z(),null===F&&aa(),E.append(F)},ca=function(){W(),X(),Y(),V(H.tocThumbImageSrc).then(ba),f.getSidebarEnabled()?(q.removeClass("toc_off_button_normal").addClass("toc-button-normal").attr("aria-expanded",!0),N(),a.trigger(i.Controls.ShowToc)):q.removeClass("toc-button-normal").addClass("toc_off_button_normal").attr("aria-expanded",!1),G.click(function(a){a.stopPropagation()})},da=function(a){if(a.stopImmediatePropagation(),a.preventDefault(),!g.isTouchInterface()||!u){var c=b(a.currentTarget),d=Number(c.attr("data-time"))/1e3,e=c.attr("data-file");v.clickTocItem&&v.clickTocItem(d,e)}},ea=function(){u=!1},fa=function(){g.isTouchIEInterface()||(u=!0)},ga=function(){if(""!==y.val()){Z();var a=h.searchXmpForString(H,y.val()),b=[];a.forEach(function(a){var c=a.imageRect?document.createElement("canvas"):void 0,d=!!c,e=!0;b.push(_(a.text,a.rawText,a.startTime,a.file,c,a.imageRect,e,d))}),E.append(b)}else ba()},ha=function(){y.val(""),ba()},ia=function(){x.hide(),C.show()},ja=function(){f.getIsSearchable()&&(x.show(),C.hide())},ka=function(){t=!0,v.searchFocusChange&&v.searchFocusChange()},la=function(){t=!1,v.searchFocusChange&&v.searchFocusChange()},ma=function(a){a.keyCode===j.space&&da(a)},na=function(a){a.keyCode===j.escape&&s&&((G.is(":focus")||G.has(a.target).length>0)&&q.focus(),qa(a))},oa=function(){E.on("pointerup",".toc-item",da),E.on("keyup",".toc-item",ma),E.on("pointerdown",".toc-item",ea),E.on("pointermove",".toc-item",fa),q.on("click",qa),a.on("keydown",na),f.getIsSearchable()&&(y.on("keyup",ga),y.on("focus",ka),y.on("blur",la),A.on("click",ha))},pa=function(){E.off("pointerup",".toc-item",da),E.off("keyup",".toc-item",ma),E.off("pointerdown",".toc-item",ea),E.off("pointermove",".toc-item",fa),q.off("click",qa),a.off("keydown",na),f.getIsSearchable()&&(y.off("keyup",ga),y.off("focus",ka),y.off("blur",la),A.off("click",ha))},qa=function(b){s?a.trigger(i.Controls.HideToc):(a.trigger(i.Controls.ShowToc),y.focus(),n.disableHighlightsOnMouseClick(y,b))};return K(),ca(),oa(),Object.defineProperties({open:N,close:O,show:L,hide:M,blurSearchInput:P,disableSearch:ia,enableSearch:ja,resize:Q,addEventListener:R,removeEventListener:S,destroy:pa},{isOpen:{get:function(){return s}},visible:{get:function(){return r}},searchIsFocused:{get:function(){return t}}})};return{create:p}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.HotspotViewModel=b(c.localizationStrings,c.timeFormatter)}(this,function(a,b){"use strict";var c=1e3,d=function(c){var d=a.strings.txtHotspot,e=a.strings.txtJumpToMedia,f=a.strings.txtJumpToTime,g=a.strings.txtOpenLink,h=a.strings.accessBtnPlay;return void 0!==c.jumpFile?d+": "+e+": "+c.jumpFile:void 0!==c.jumpTime&&""!==c.jumpTime?d+": "+f+": "+b.formatTime(Number(c.jumpTime)/1e3):void 0!==c.location&&""!==c.location?d+": "+g+": "+c.location:d+": "+h},e=function(a,b,c){var d=[];return a.boundingPoly.coordinates.forEach(function(a){var e={xOrig:Math.round(a.x),yOrig:Math.round(a.y),xScale:Math.round(a.x)/b,yScale:Math.round(a.y)/c};d.push(e)}),d},f=function(a,b,f,g){var h=b,i=!1,j=!1,k=e(a,f,g),l=d(a),m=function(a,b){var c=[];return k.forEach(function(d){c.push(d.xOrig>=0?Math.round(d.xScale*a):0),c.push(d.yOrig>=0?Math.round(d.yScale*b):0)}),c.join(",")},n=function(b){return a.startTime<b&&b<=a.endTime},o=function(a){return q(a)<=c},p=function(b){return a.pause===!0&&!j&&o(b)},q=function(b){return a.endTime-b};return Object.defineProperties({getCoordinates:m,isHotspotWithinTime:n,isTimeNearEndOfHotspot:o,shouldPauseAtTheEnd:p,getTimeLeftUntilEnd:q},{index:{get:function(){return h}},description:{get:function(){return l}},isActive:{get:function(){return i},set:function(a){i=a}},hasPausedAtEnd:{get:function(){return j},set:function(a){j=a}}})};return{create:f}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.HotspotView=b(a,a.$,c.localizationStrings)}(this,function(a,b,c){"use strict";var d=function(d,e,f,g,h){var i,j,k,l=function(){var a=f.getCoordinates(g,h);i=b("<area></area>",{shape:"poly",coords:a,hotspot_index:f.index,title:f.description,href:"#",role:"button","aria-label":f.description}),j=b('<div class="sr-only alert-only" role="alert">'+c.strings.txtHotspot+"</div>")},m=function(a,b){i.attr("coords",f.getCoordinates(a,b))},n=function(a){var c=null,d=e.find("area");return d.each(function(d,e){var f=b(e);a>Number(f.attr("hotspot_index"))&&(c=f)}),c},o=function(){var a=n(f.index);null!==a?a.before(i):e.append(i),e.after(j)},p=function(){i.remove(),j.remove()},q=function(a,b){var c=10/(30*b)*1e3;return f.getTimeLeftUntilEnd(a)/b-c},r=function(){k=null,f.hasPausedAtEnd=!0,d.pause()},s=function(b){a.clearTimeout(k),a.document.hidden?r():k=setTimeout(r,q(b,d.playbackRate))},t=function(a){return f.isHotspotWithinTime(a)?(f.isActive||(f.isActive=!0,o()),f.shouldPauseAtTheEnd(a)&&!d.paused&&s(a)):!f.isActive||k||d.paused||(f.isActive=!1,u(),p()),f.isActive},u=function(){f.hasPausedAtEnd=!1},v=function(){k&&a.clearTimeout(k),f.isActive&&(f.isActive=!1,p())};return l(),Object.defineProperties({resize:m,update:t,resetHasPaused:u,resetStatus:v},{})};return{create:d}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.HotspotsView=b(a,a.document,a.$,c.templates,c.keyCodes,c.localizationStrings,c.timeFormatter,c.events,c.HotspotViewModel,c.HotspotView)}(this,function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=function(a,b,f){var g,k,l,m=b,n=a,o=a.attr("id"),p=[o,"hotspots"].join("-"),q=m.hotspotItemArray,r=[],s=null,t=null,u=null,v=null,w=!1,x=16/9,y=x,z=function(){var a=d.hotspots_template({hotspotsContainerId:p});g=c(c.parseHTML(a)),k=g.find("map")},A=function(){g.on("click","area",F),g.on("touchend","area",F),g.on("keydown","area",function(a){a.keyCode===e.space&&F(a)})},B=function(a,b,c){y=x,l=c,s=a,t=b,w=!1,k.empty(),r=[],q.forEach(function(a,b){if(void 0===a.file||a.file===l){var c=i.create(a,b,s,t),d=j.create(f,k,c,s,t);r.push(d)}})},C=function(a){if(w!==a){w=a;var b=w?h.Hotspots.AreaActive:h.Hotspots.AreaInactive;n.trigger(b)}},D=function(a){var b=!1;r.forEach(function(c){var d=c.update(a);d&&(b=!0)}),C(b)},E=function(a,b,c){if(y=a,u=b,v=c,!(null===s||s<0)){var d=u,e=v,f=s*y,h=t*y,i=Math.max((d-f)/2,0),j=Math.max((e-h)/2,0);g.css({width:f,height:h,left:i,top:j}),r.forEach(function(a){a.resize(f,h)})}},F=function(a){a.preventDefault(),a.stopPropagation();var b=Number(c(a.target).attr("hotspot_index")),d=q[b],e={jumpFile:d.jumpFile,jumpTime:d.jumpTime,location:d.location,newWindow:d.newWindow};n.trigger(h.Controls.HotspotClicked,e)},G=function(){r.forEach(function(a){a.resetHasPaused()})},H=function(){C(!1),r.forEach(function(a){a.resetStatus()})};return z(),A(),Object.defineProperties({init:B,update:D,size:E,resetHasPaused:G,resetStatus:H},{$hotspots:{get:function(){return g}},oneOrMoreHotspotActive:{get:function(){return w}}})};return{create:k}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.PlayRewindControlsView=b(a.document,c.localizationStrings,c.viewHelper,c.templates,c.highlightDisabler,c.playerConfiguration,c.cssClasses,c.events,c.tabIndex)}(this,function(a,b,c,d,e,f,g,h,i){"use strict";var j=function(a,j){var k=d.play_rewind_controls_template({accessBtnRewind:b.strings.accessBtnRewind,accessBtnPlay:b.strings.accessBtnPlay,rewindIndex:i.Rewind,playIndex:i.Play});a.find(".play-rewind-controls").html(k);var l=!1,m=a.find(".play-control"),n=a.find(".rewind-control"),o=m.find(".play-button-glyph"),p=m.find(".pause-button-glyph"),q=function(){m.attr("tabindex",i.Disabled),n.attr("tabindex",i.Disabled),l=!0},r=function(){m.attr("tabindex",i.Play),n.attr("tabindex",i.Rewind),l=!1};a.on(h.Controls.Disable,q),a.on(h.Controls.Enable,r),j.addEventListener(h.Media.Play,function(){o.hide(),p.show(),m.attr("aria-pressed",!0)}),j.addEventListener(h.Media.Pause,function(){p.hide(),o.show(),m.attr("aria-pressed",!1)}),m.click(function(a){a.preventDefault(),s()});var s=function(){l||(j.paused?j.play():j.pause())},t=function(){c.elementOrChildHasFocus(a)&&(m.focus(),e.disableHighlights(m))};return f.getAllowRewind()!==-1?n.click(function(){j.play(Number(j.currentTime)-f.getAllowRewind())}):n.addClass(g.hide),{togglePlay:s,setInitialFocus:t}};return{create:j}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.PrevNextControlsView=b(c.localizationStrings,c.templates,c.cssClasses,c.events,c.tabIndex)}(this,function(a,b,c,d,e){"use strict";var f=function(f){var g=b.prev_next_controls_template({accessBtnPrevious:a.strings.accessBtnPrevious,accessBtnNext:a.strings.accessBtnNext,previousIndex:e.Previous,nextIndex:e.Next});f.find(".prev-next-controls").html(g);var h=f.find(".previous-control"),i=f.find(".next-control"),j=function(){h.attr("tabindex",e.Disabled),i.attr("tabindex",e.Disabled)},k=function(){h.attr("tabindex",e.Previous),i.attr("tabindex",e.Next)};f.on(d.Controls.Disable,j),f.on(d.Controls.Enable,k),h.click(function(){f.trigger(d.Controls.ClickPrev)}),i.click(function(){f.trigger(d.Controls.ClickNext)});var l=function(){h.addClass(c.hide),i.addClass(c.hide)},m=function(){h.removeClass(c.hide),i.removeClass(c.hide)},n=function(){h.addClass(c.disabled).attr("aria-disabled",!0)},o=function(){h.removeClass(c.disabled).attr("aria-disabled",!1)},p=function(){i.addClass(c.disabled).attr("aria-disabled",!0)},q=function(){i.removeClass(c.disabled).attr("aria-disabled",!1)};return{show:m,hide:l,disablePreviousButton:n,enablePreviousButton:o,disableNextButton:p,enableNextButton:q}};return{create:f}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.ProgressBarControlView=b(a,a.$,c.templates,c.events,c.localizationStrings,c.keyCodes,c.tabIndex,c.highlightDisabler,c.timeFormatter,c.quizController)}(this,function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=5,l=30,m=function(m,n,o){var p=c.progress_bar_control_template({progressIndex:g.Progress,accessBtnProgressBar:e.strings.accessBtnProgressBar});m.find(".progress-bar-control").html(p);var q,r,s=b(a.document),t=null,u=!1,v=0,w=!1,x=o,y=m.find(".progress-box"),z=m.find(".load-progress"),A=m.find(".play-progress"),B=m.find(".play-time"),C=m.find(".progress-scrubbar-track"),D=m.find(".markers"),E=[],F=!0,G=!1,H=!1,I=-1,J=-1,K=function(){return x&&j.quizEnabled},L=function(a){z.width(a)},M=function(a){a.preventDefault(),u||(q||ca(n.currentTime),s.on("pointermove touchmove",N),s.on("pointerup mouseup touchend mouseleave",O),n.paused?w=!1:(w=!0,n.pause()),Y(!0),J=-1,Q(P(a.originalEvent)))},N=function(a){u&&(n.paused||n.pause(),Q(P(a.originalEvent)))},O=function(){if(u){s.off("pointermove touchmove",N),s.off("pointerup mouseup touchend mouseleave",O);var a=Number(n.currentTime.toFixed(2))>=Number(n.duration.toFixed(2));w&&!a&&n.play(),Y(!1)}},P=function(a){return a.targetTouches&&a.targetTouches[0]&&a.targetTouches[0].pageX?a.targetTouches[0].pageX:a.pageX},Q=function(a){var b=a-y.offset().left,c=Math.max(Math.min(b/y.width(),1),0),d=n.duration*c;d<v&&ca(d),(q||0===q)&&q<d&&(d=q),v=d},R=function(){if(0!==n.duration)if(u){if(v===J||v<0)return;J=v,m.trigger(d.Media.SeekToTime,v),S(v)}else{if(n.seeking)return;S(n.currentTime)}},S=function(a){var b=100*a/n.duration;A.width(b+"%"),T(a)},T=function(a){var b=i.formatTime(a);if(b!==I||!G){I=b;var c=b,d=b;!G&&n.duration&&(G=!0,r=i.formatTime(n.duration),C.attr("aria-valuemax",n.duration)),G&&(c+=" of "+r,d+=" / "+r),B.html(d),C.attr("aria-valuetext",c)}},U=function(){var a=1e3*n.duration,b=0,c=0,d=D.width(),e=D.height();x.questionSetMarkerTimes.forEach(function(f,g){c=f.startTime/a,b=Math.round(d*c-e/2);var h=E[g];h&&h.css("left",b+"px")})},V=function(){K()&&(H||X(),W())},W=function(){x.questionSetMarkerTimes.forEach(function(a,b){if(a.completed){var c=E[b];c&&c.hide()}}),U()},X=function(){K()&&(H=!0,x.questionSetMarkerTimes.forEach(function(){E.push(b("<div>").addClass("quiz-marker"))}),D.append(E))},Y=function(a){u=a,u?m.trigger(d.Scrubbing.Started):m.trigger(d.Scrubbing.Ended)},Z=function(a){if(F){var b=a.shiftKey?l:k;a.which===f.rightArrow||a.which===f.upArrow?n.currentTime=da(n.currentTime+b):a.which===f.leftArrow||a.which===f.downArrow?n.currentTime=da(n.currentTime-b):a.which===f.space&&(n.paused?n.play():n.pause())}},$=function(a){a.which===f.leftMouse?M(a):h.disableHighlights(b(this))},_=function(){C.attr("tabindex",g.Disabled),F=!1},aa=function(){C.attr("tabindex",g.Progress),F=!0},ba=function(a){if(K())for(var b=null,c=0;c<x.questionSetMarkerTimes.length;c++)if(b=o.questionSetMarkerTimes[c],b.questionSetIndex===a){var d=b.startTime/(1e3*n.duration);return Math.round(D.width()*d)+y.offset().left}},ca=function(a){if(K()){var b=!1,c=1e3*a,d=null;x.questionSetMarkerTimes.forEach(function(a){a.canSeekPast=a.startTime<c,a.startTime>=c&&!a.canSeekPast&&!b&&(b=!0,d=a.startTime/1e3)}),q=d}},da=function(a){var b,c=1e3*a;if(K())for(var d=0;d<x.questionSetMarkerTimes.length;d++)if(b=x.questionSetMarkerTimes[d],!b.canSeekPast&&b.startTime<c)return b.startTime/1e3;return a<0?0:a>n.duration?n.duration:a},ea=function(){ca(n.currentTime)},fa=function(){C.attr("aria-valuemin",0),C.on("keydown",Z),y.on("touchstart",M),y.on("mousedown",$),m.on(d.Controls.Disable,_),m.on(d.Controls.Enable,aa),m.on(d.Quizzing.Complete,ea);var b=function(){R(),t=a.requestAnimationFrame(b)};t=a.requestAnimationFrame(b)},ga=function(){C.off("keydown",Z),y.off("touchstart",M),y.off("mousedown",$),m.off(d.Controls.Disable,_),m.off(d.Controls.Enable,aa),m.off(d.Quizzing.Complete,ea),null!==t&&a.cancelAnimationFrame(t)};return fa(),Object.defineProperties({getSafeSeekTime:da,getXPositionForQuestionSetMarker:ba,updateQuizMarkers:V,updateLoadProgress:L,allowSkipQuestionSetMarkersBeforeTime:ca,destroy:ga},{scrubbing:{get:function(){return u},set:Y},lastScrubTime:{get:function(){return v}}})};return{create:m}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.VolumeControlView=b(a.$,c.localStorageWrapper,c.localizationStrings,c.templates,c.deviceInfo,c.cssClasses,c.tabIndex,c.events,c.highlightDisabler)}(this,function(a,b,c,d,e,f,g,h,i){"use strict";var j="volume",k="muted",l=0,m=100,n=1e3,o=200,p=c.strings.accessBtnVolume,q=c.strings.accessTxtVolume,r={vertical:"vertical",horizontal:"horizontal"},s=function(a,c){var s=b.getItem(j),t=b.getItem(k),u=-1,v=d.volume_control_template({accessBtnVolume:p,volumeIndex:g.Volume}),w=a.find(".volume-wrapper");w.html(v);var x,y=w.find(".volume-slider"),z=w.find(".volume-slider-container"),A=w.find(".volume"),B=void 0===s||null===s?1:+s,C="true"===t;(e.getIOSSupportsInlineVideo()||e.isAndroid())&&A.remove();var D=function(a,b){a.slider({orientation:b,range:"min",min:l,max:m,step:2,value:c.volume*m,slide:function(a,b){J(!1),I(b.value/m)},stop:N})},E=function(){z.removeClass(f.hide)},F=function(){u!==-1&&G()},G=function(){u!==-1&&(clearTimeout(u),u=-1),z.addClass(f.hide)},H=function(){var a=c.muted?0:Math.round(c.volume*m);x.attr("aria-valuenow",a),x.attr("aria-valuetext",a+"% "+q),A.attr("aria-pressed",!!c.muted),y.slider("value",[a]),A.removeClass(f.volumeHighButtonGlyph),A.removeClass(f.volumeMediumButtonGlyph),A.removeClass(f.volumeLowButtonGlyph),A.removeClass(f.volumeMutedButtonGlyph),0===a?A.addClass(f.volumeMutedButtonGlyph):c.volume>.7?A.addClass(f.volumeHighButtonGlyph):c.volume>.3?A.addClass(f.volumeMediumButtonGlyph):A.addClass(f.volumeLowButtonGlyph);
},I=function(a){a>1?a=1:a<0&&(a=0),b.setItem(j,a),c.volume=a},J=function(a){c.muted=a,b.setItem(k,a)},K=function(){H()},L=function(a){u!==-1&&clearTimeout(u),u=setTimeout(function(){G(),u=-1},a)},M=function(a){return a.key||a.originalEvent&&a.originalEvent.keyCode},N=function(a){w.has(a.toElement).length||M(a)||L(n)},O=function(){u!==-1&&(clearTimeout(u),u=-1),E()},P=function(a){1!==a.buttons&&L(n)},Q=function(){L(o)},R=function(){c.muted||0!==c.volume?J(!c.muted):I(1)},S=function(){A.attr("tabindex",g.Disabled),x.attr("tabindex",g.Disabled)},T=function(){A.attr("tabindex",g.Volume),x.attr("tabindex",g.VolumeSlider)},U=function(){i.disableHighlights(x)},V=function(){z.hasClass(r.horizontal)?D(y,r.horizontal):D(y,r.vertical),x=w.find(".ui-slider-handle"),w.on("mousemove",O),w.on("mouseout",P),A.on("click",R),y.on("mousedown",U),x.on("focus",E),x.on("focusout",Q),x.attr("tabindex",g.VolumeSlider),x.attr("aria-valuemin",l),x.attr("aria-valuemax",m),x.attr("role","slider"),a.on(h.Controls.Disable,S),a.on(h.Controls.Enable,T)},W=function(){w.off("mousemove",O),w.off("mouseout",P),A.off("click",R),y.off("mousedown",U),x.off("focus",E),x.off("focusout",Q),a.off(h.Controls.Disable,S),a.off(h.Controls.Enable,T)};return V(),J(C),I(B),H(),Object.defineProperties({hideControls:F,onVolumeChanged:K,destroy:W},{volume:{get:function(){return c.volume},set:I},muted:{get:function(){return c.muted},set:J}})};return{create:s}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.BeforeAfterPlayControlsView=b(c.templates,c.events,c.localizationStrings,c.viewHelper,c.tabIndex,c.highlightDisabler)}(this,function(a,b,c,d,e,f){"use strict";var g=/\)/gi,h=/\(/gi,i=function(i){var j,k,l,m,n,o=function(a){p(),a.preventDefault(),i.trigger(b.Controls.LoadAndPlayControl)},p=function(){k.hide()},q=function(a){a?k.addClass("video-click-to-play-error"):k.removeClass("video-click-to-play-error")},r=function(){l.hide()},s=function(){l.show(),d.elementOrChildHasFocus(i)&&(n.focus(),f.disableHighlights(n))},t=function(a){a=a.replace(g,"\\)"),a=a.replace(h,"\\(");var b="url("+a+")";k.css("background-image",b),l.css("background-image",b)},u=function(){r(),i.trigger(b.Media.Replay)},v=function(){j=a.before_after_play_controls_template({playIndex:e.InitialPlay,replayIndex:e.EndReplay,playButtonIndex:e.Disabled,replayButtonIndex:e.Disabled,accessBtnClickToPlay:c.strings.accessBtnPlay,accessBtnClickToReplay:c.strings.accessBtnClickToReplayLink}),i.find(".before-after-play-controls").html(j),k=i.find(".video-click-to-play-link"),l=i.find(".video-click-to-replay-link"),m=i.find(".video-click-to-play"),n=i.find(".video-click-to-replay"),l.hide(),d.elementOrChildHasFocus(i)&&(m.focus(),f.disableHighlights(m))},w=function(){l.on("click",u),k.on("click",o)},x=function(){k.addClass("noClickToPlayEvents")},y=function(){l.off("click",u),k.off("click",o)};return v(),w(),{hideVideoClickToPlayLink:p,setVideoClickToPlayErrorState:q,hideVideoClickToReplayLink:r,showVideoClickToReplayLink:s,addVideoClickToPlayBackground:t,disableClickToPlayEvents:x,destroy:y}};return{create:i}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.ClickControlsView=b(a.$,c.events,c.keyCodes)}(this,function(a,b,c){"use strict";var d=300,e=function(b,e,f,g,h,i){var j=b.find(".click-controls"),k=b.find(".play-pause-state"),l=b.find(".play-pause-state-indicator"),m=0,n=null,o=!0,p=i||d,q=function(){e!==h.player&&0!==e.currentTime&&(e.play(),l.removeClass("pause-button-background-glyph").addClass("play-button-background-glyph"),k.show().fadeOut("slow"))},r=function(){e!==h.player&&e.currentTime!==e.duration&&(e.pause(),l.removeClass("play-button-background-glyph").addClass("pause-button-background-glyph"),k.show().fadeOut("slow"))};j.click(function(b){if(o&&b.which===c.leftMouse&&!a(b.target).is("area"))if(m++,clearTimeout(n),1===m){var d=e.paused;n=setTimeout(function(){m=0,e.paused!==d||g.scrubbing||(e.paused?q():r())},p)}else 2===m&&(f.onDoubleClick(),m=0)});var s=function(){o=!0},t=function(){o=!1};return{enable:s,disable:t}};return{create:e}}),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.playerView=b(a,a.jQuery,c.externalMessageController,c.deviceInfo,c.performanceWrapper,c.IoOverlayView,c.localizationStrings,c.templates,c.quizController,c.playerConfiguration,c.PlayerSettingsView,c.videoAnalytics,c.xmp,c.questionGrader,c.fathomService,c.quizMarker,c.youTube,c.iOSTextInputFix,c.RenderLibView,c.TocView,c.CaptionsView,c.HotspotsView,c.VolumeControlView,c.PlayRewindControlsView,c.PrevNextControlsView,c.FullscreenControlView,c.ClickControlsView,c.cssClasses,c.events,c.responsiveController,c.ProgressBarControlView,c.BeforeAfterPlayControlsView,c.tabIndex,c.highlightDisabler,c.mediaType,c.urlService,c.viewHelper,c.ieFullscreenDimensionsFix,c.reportType,c.log)}(this,function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N){"use strict";var O,P,Q=this,R=b("body"),S=null,T=null,U=null,V=null,W=!1,X=!1,Y=null,Z={},$=["VIDEO_START_INITIATED","VIDEO_START","MEDIA_READY","CAPTION_CHANGE","READY","VIDEO_PLAY"],_={},aa={},ba=null,ca=null,da=null,ea=null,fa=null,ga=null,ha=null,ia=null,ja=null,ka=null,la=null,ma=null,na=null,oa=null,pa=null,qa=null,ra=null,sa=null,ta=null,ua=null,va=null,wa=null,xa=300,ya=-1,za=-1,Aa=0,Ba=0,Ca=-1,Da=100,Ea=5,Fa={x:0,y:0},Ga=null,Ha=-1,Ia=5e3,Ja=-1,Ka=-1,La=0,Ma=10,Na=!1,Oa=!1,Pa=!1,Qa=!1,Ra=!1,Sa=!1,Ta=!1,Ua=!1,Va=!0,Wa="HTML5-Video",Xa=!1,Ya=!1,Za=1e4,$a=!1,_a=!0,ab=g,bb=!1;$.forEach(function(a){Z[a]=[]});var cb=function(b,c,d){j.getCustomEventTracking()&&j.getCustomEventCallback()&&(j.getAltEventCategoryAsFilename()?j.getCustomEventCallback().call(this,{category:j.getMediaFileName(),action:b,label:c,value:d}):j.getCustomEventCallback().call(this,{category:Wa,action:b,label:c,value:d})),j.getGoogleAnalyticsID()&&a._gaq.push(["_trackEvent",Wa,b,c])},db=function(){da.play()},eb=function(){da.pause()},fb=function(){S.trigger(C.Controls.Enable)},gb=function(){S.trigger(C.Controls.Disable)},hb=function(){if(!(void 0===ca||za<=0)){if("under"===ba.position){var a=za*((ea.height()-ga.height())/(za+parseFloat(ba.height)));fa.height(a)}ma.scale=kb()}},ib=function(){var a=S.offset().left,b=ra.getXPositionForQuestionSetMarker(Ja),c=b-a;i.pointViewAt(c)},jb=function(){D.manageResponsiveClasses();var a=ca&&da;a&&da.duration&&i.hasQuiz&&i.quizEnabled&&(ra.updateQuizMarkers(),i.viewIsOpen&&ib()),la&&la.isOpen&&la.resize(),hb(),na&&void 0!==ca&&na.size(kb(),fa.width(),fa.height())},kb=function(){var a=1;if(void 0!==ca&&ya>0&&ca.width()>0){var b=ca.width()/ya,c=ca.height()/za;a=Math.min(b,c)}return a},lb=function(){j.getDisableControls()?Tb(!0):Mb(),Rb(),Qb()},mb=function(){j.getDisableControls()||ga.show(),pa.setInitialFocus(),Qb(),va.hideView(),Z.MEDIA_READY.forEach(function(a){a.call(Q)}),S.on(C.Controls.Updated,lb)},nb=function(){eb()},ob=function(){ua.isFullScreen||(Oa=!0),jb()},pb=function(a){a.type===C.Hotspots.AreaActive?wa.disable():a.type===C.Hotspots.AreaInactive&&wa.enable()},qb=function(){var a;if(Sa=!0,ya=da.videoWidth,za=da.videoHeight,d.isIPhoneOrIPod()&&S.css("cursor","pointer"),Aa=0,Xa?mb():!i.hasQuiz||i.hasQuiz&&(!i.quizEnabled||i.quizReady)?mb():(eb(),va.displayMessage(i.getLastStatusMessage())),l.isEnabled()&&!l.isPercentWatchedInitialized()&&l.initPercentWatched(1e3*da.duration),a=!j.getReportScormComplete()&&(null===Ga||Ga.quizReportMethod!==M.SCORM&&Ga.quizReportMethod!==M.APIANDSCORM),ua.initializeFullScreenSupport(a),S.on(C.Controls.ExpandVideo,nb),S.on(C.Controls.FullScreenChange,ob),Oa=!0,na){var b=Y.isPlaylist?Y.currentMedia.media:void 0;na.init(ya,za,b),S.on(C.Controls.HotspotClicked,Bc),S.on(C.Hotspots.AreaActive,pb),S.on(C.Hotspots.AreaInactive,pb),ca.on("ratechange",function(){na.resetStatus(),na.update(Aa)},!1),ca.on("play",function(){na.resetStatus(),na.update(Aa)},!1)}jb()},rb=function(){!Na||0===da.duration||i.hasQuiz&&i.quizEnabled&&!i.quizReady||(Aa=da?da.currentTime>da.duration?da.duration:da.currentTime:0,isNaN(Aa)&&N.logMessage("Player view: Current time is now NaN (_mediaElement.currentTime="+da.currentTime+", _mediaElement.duration="+da.duration+")"),Ua=Number(da.currentTime.toFixed(2))>=Number(da.duration.toFixed(2)),Ba=1e3*Aa,l.isEnabled()&&ub(),!yb()&&i.hasQuiz&&i.quizEnabled&&tb(),na&&na.update(Ba),sb(),j.getReportScormComplete()&&1===l.getPercentageWatched()&&(j.setReportScormComplete(!1),b.isFunction(a.userSubmitVideoCompletedToLMS)&&a.userSubmitVideoCompletedToLMS()),yb()||Ja!==-1||!Ua||Ta||Cb())},sb=function(){var a=Y.isPlaylist?Y.currentMedia.media:null;ma.updateCaption(Ba,a)},tb=function(){var a=i.findQuestionSet(Ba);if(a.id<0)return void(Ja=-1);if(Ja!==a.id){if(K.saveActiveElement(),gb(),Rb(),Lb(),la&&la.isOpen&&la.hide(xa),Ja=a.id,Ka=a.markerTime/1e3,eb(),setTimeout(function(){Db(Ka)},100),i.displayConfirm(a.id),ib(),l.isEnabled()){!isNaN(a.markerTime)&&l.isPercentWatchedInitialized()?l.markTimeWatched(a.markerTime):N.logMessage("Player-view: videoAnalytics percent watched not initialized, or Quiz Marker time is NaN ("+a.markerTime+")");var b=l.getPercentageWatchedForVideoSegment(i.findPrevMarkerTimeForMarker(a.id),a.markerTime);i.updatePercentWatchedForQuestionSet(Ja,b)}Vb(!1)}},ub=function(){if(da.duration){l.isPercentWatchedInitialized()||l.initPercentWatched(1e3*da.duration);var b=Math.round(100*l.getPercentageWatched());isNaN(Ba)?N.logMessage("Player-view: currentTime is NaN ("+Aa+", "+Ba+")"):l.markTimeWatched(Ba),"function"==typeof a.onVideoWatchedPercentage&&a.onVideoWatchedPercentage(.01*b,l.getCurrentPlayTime()),j.getTrackEvents()&&b>=La+Ma&&(La+=Ma,La<b&&(La=Ma*Math.floor(b/Ma)+Ma),La>100&&(La=100),cb("Video_Percent_Viewed","Viewed: "+La+" Percent"))}},vb=function(a){a?(la.open(),la.resize(),Vb(!1)):(la.close(),Ra||Vb(!0))},wb=function(){ca.on("durationchange",function(){xb(),O&&a.clearInterval(O),O=a.setInterval(xb,1e3)})},xb=function(){var b;ca&&da&&(da.buffered&&da.buffered.length&&(b=Math.min(100,Math.ceil(100*da.buffered.end(da.buffered.length-1)/da.duration))),ra.updateLoadProgress((b||0)+"%"),100===b&&O&&a.clearInterval(O))},yb=function(){return!!ra&&ra.scrubbing},zb=function(a){ra.scrubbing=a},Ab=function(){document.body.focus(),document.onselectstart=function(){return!1}},Bb=function(){document.onselectstart=function(){return!0}},Cb=function(){Ta||(Ta=!0,ra.updateQuizMarkers(),eb(),Hb())},Db=function(a){return Pa?void(Ca=a):void(da.currentTime.toFixed(4)!==a.toFixed(4)&&(na&&(na.resetStatus(),na.resetHasPaused()),yb()||a!==da.duration?da.currentTime=a:Cb()))},Eb=function(a){ca&&da||j.setJumpToTime(a),Db(ra.getSafeSeekTime(a))},Fb=function(){na&&na.resetStatus(),la&&la.isOpen&&la.hide(xa),ga.hide(),oa.showVideoClickToReplayLink()},Gb=function(a,b){Ta=!1,oa.hideVideoClickToReplayLink(),ea.css("visibility","visible"),na&&na.resetStatus(),fb(),Y.isPlaylist||Db(a),b&&(Y.isPlaylist?(Y.currentMediaIndex=0,nc()):db()),la&&la.isOpen&&!Ra&&la.show(xa),Qb()||(Oa=!0,Mb())},Hb=function(){if(Y.isPlaylist&&!Y.onLastMedia)Oa=!0,Y.currentMediaIndex="next",nc();else{eb(),setTimeout(Wb,1e3);var b,c=!1,e=!0,f=!1,g=!0;if(void 0!==j.getEndActionType())switch(b=j.getEndActionParam(),j.getEndActionType().toLowerCase()){case"loop":c=!("true"!==b&&"1"!==b);break;case"stop":e=!("false"===b||"0"===b);break;case"jumptotime":f=!0;break;case"jumptotimeandstop":g=!1,f=!0;break;case"jumptourl":j.getTrackEvents()&&cb("Video_Finished_Action",b),d.isNuevoApp()?setTimeout(function(){a.open(""+b,"_parent")},500):a.open(""+b,"_parent");break;case"jumptourlnew":j.getTrackEvents()&&cb("Video_Finished_Action",b),a.open(""+b,"_blank")}c?Gb(0,!0):f?Gb(b/1e3,g):!$a&&e&&(ua.onVideoEnd(),Rb(),gb(),ta&&ta.close(),Tb(),Fb())}},Ib=function(){ca.on("ended",function(){yb()||(rb(),j.getTrackEvents()&&(j.getAltEventCategoryAsFilename()?cb("Video_Finished",Wa):cb("Video_Finished",Y.currentMedia.uri)))}),da.addEventListener(C.Media.Play,oc),S.on(C.Controls.ClickPrev,function(){Y.onFirstMedia||(Y.currentMediaIndex="previous",nc())}),S.on(C.Controls.ClickNext,function(){Y.onLastMedia||(Y.currentMediaIndex="next",nc())}),S.on(C.Media.SeekToTime,function(a,b){Ra&&Mb(),Db(b)}),S.on(C.Scrubbing.Started,function(){Ab(),Rb()}),S.on(C.Scrubbing.Ended,function(){Bb(),Yb(),Qb(),rb()}),wb();var b=function(a,b){if(void 0!==b){na&&na.resetStatus();var c=Y.getMediaIndexByUri(b);c===Y.currentMediaIndex?Db(a):(Y.currentMediaIndex=c,nc())}else Db(a)},c=function(a){ta=k.create(S,da,a),"undefined"!=typeof aa.playbackRate&&(ta.playbackRate=aa.playbackRate)};d.isAndroid()?k.hideButton(S):Xa?q.player.supportPlaybackRate?c(q.player.validRateSettings):k.hideButton(S):c(),Qa&&(la=t.create(S,Ga),la.addEventListener("clickTocItem",b),S.on(C.Controls.ShowToc,function(){vb(!0)}),S.on(C.Controls.HideToc,function(){vb(!1)})),(d.getIOSSupportsInlineVideo()||d.isAndroid())&&a.addEventListener("orientationchange",function(){ua.isFullFrame&&(la&&la.searchIsFocused?(la.blurSearchInput(),setTimeout(Kb,500)):Kb())}),fb(),j.getDisableControls()&&Tb()},Jb=function(a){Mb(),pa&&pa.setInitialFocus(),Gb(a,!0),j.getTrackEvents()&&(j.getAltEventCategoryAsFilename()?cb("Video_Replay",Wa):cb("Video_Replay",Y.currentMedia.uri))},Kb=function(){jb()},Lb=function(){Ub(!1)},Mb=function(){Ub(!0)},Nb=function(){P=(new Date).getTime(),Mb()},Ob=function(){(!P||(new Date).getTime()-P>Da)&&Sb()},Pb=function(a){var b=a.pageX,c=a.pageY;if(!b&&0!==b||!c&&0!==c)return void Mb();var d=Math.abs(b-Fa.x),e=Math.abs(c-Fa.y);d+e>Ea&&(Fa.x=b,Fa.y=c,Mb())},Qb=function(){return!(!j.getAutoHideControls()||Ga&&Ga.hasCaptionItems&&"under"===Ga.captionPosition)&&(S.on("mousemove",Pb),S.on("keydown",Mb),S.on("click",Nb),S.on("mouseleave",Ob),Yb(),!0)},Rb=function(){Xb(),S.off("mousemove",Pb),S.off("keydown",Mb),S.off("click",Nb),S.off("mouseleave",Ob)},Sb=function(a){Tb(a),Ra&&wa&&wa.disable()},Tb=function(a){Vb(!1);var b=yb()||ta&&ta.isOpen;!a&&b||(Ra=!0,ga.stop(!0,!0),ga.fadeTo(xa,0),la&&la.isOpen&&la.hide(xa),sa.hideControls(),Xa&&ja.removeClass(B.hide))},Ub=function(a){j.getDisableControls()||(ga.show(),Ra&&(Ra=!1,ga.stop(!0,!0),ga.fadeTo(xa,1),na&&na.oneOrMoreHotspotActive||(d.isTouchInterface()?setTimeout(wa.enable,xa):wa.enable()),la&&la.isOpen?la.show(xa):Vb(!0),Oa&&(Oa=!1,jb())),a&&Yb(),Xa&&ja.addClass(B.hide))},Vb=function(a){d.isNuevoApp()&&(a?document.location="nuevo://shownavbar":document.location="nuevo://hidenavbar")},Wb=function(){if(d.isNuevoApp()){var a=document.location;document.location="nuevo://hasPlayedToEnd?url="+a}},Xb=function(){a.clearTimeout(Ha)},Yb=function(){Xb(),j.getAutoHideControls()&&(Ha=a.setTimeout(Sb,Ia))},Zb=function(){$a=!0,oa.hideVideoClickToPlayLink(),oa.hideVideoClickToReplayLink()},$b=function(){l.isEnabled()&&(l.setVideoLoadEndTime((new Date).getTime()),j.getTrackEvents()&&(j.getAltEventCategoryAsFilename()?j.getAltLoadTimeAsSeconds()?cb("Video_Loading_Time_In_Seconds",Wa,l.getVideoLoadTime()/1e3):cb("Video_Loading_Time",Wa,l.getVideoLoadTime()):j.getAltLoadTimeAsSeconds()?cb("Video_Loading_Time_In_Seconds",Y.currentMedia.uri,l.getVideoLoadTime()/1e3):cb("Video_Loading_Time",Y.currentMedia.uri,l.getVideoLoadTime()))),Na=!0},_b=function(){Pa=!0},ac=function(){Pa=!1,Ca>-1&&(Db(Ca),Ca=-1)},bc=function(){if(na&&na.resetStatus(),ca.off("playing",bc),va.hideView(),j.getScormStartPt()){var a=j.getScormStartPt();a<da.duration&&Db(Number(a))}if(j.getJumpToTime()){var b=Cc(j.getJumpToTime());b<da.duration&&Db(Number(b))}Z.VIDEO_PLAY.forEach(function(a){a.call(Q)})},cc=function(){sa.onVolumeChanged()},dc=function(){ma=u.create(S,ba)},ec=function(){null!==Ga&&(Ga.hasHotspotItems&&(na=v.create(S,Ga,da),ha.replaceWith(na.$hotspots)),Ga.hasCaptionItems&&(ba.initFromXmp(Ga),ma.handleDisplayCaptions()))},fc=function(a,b,c){c||(c=!1);var e="<video";c&&j.getPosterImageSrc()&&(e+=' poster="'+j.getPosterImageSrc()+'"'),b&&(e+=" controls"),d.getIOSSupportsInlineVideo()&&(e+=" webkit-playsinline playsinline"),e+=">";for(var f=a.length,g=0;g<f;g++){var h=j.getUnicodeSafeString(a[g].media);e+='<source src="'+h+'" type="'+a[g].mimeType+'" />'}return e+=j.getUnableToDisplayContentString()+"</video>"},gc=function(){oa.hideVideoClickToPlayLink(),va.displayMessage(ab.strings.videoLoading)},hc=function(){return Xa?q.player:b("video")[0]},ic=function(){i.hasQuiz&&i.quizEnabled?jc():lc()},jc=function(){oa.hideVideoClickToPlayLink(),i.init(S,j.getEnforceLinearAssessment(),hc)},kc=function(a){xc(T,a.data,!1)},lc=function(){if(!bb){if(gc(),bb=!0,Xa)ca=q.player,da=q.player;else if(Y.isTscProj)ca=ka,da=ka.view;else{var a=fc(Y.mediaList,!1);b(".video-div").html(a),ca=b(T+" video"),ca.length>0&&(da=ca[0])}pa=x.create(S,da),qa=y.create(S),ra=E.create(S,da,i.quizModel),sa=w.create(S,da),ua=z.create(S),wa=A.create(S,da,ua,ra,q),"undefined"!=typeof aa.muted&&(sa.muted=aa.muted),"undefined"!=typeof aa.volume&&(sa.volume=aa.volume),Y.isPlaylist?qa.show():qa.hide(),Fc(),Z.VIDEO_START.forEach(function(a){a.call(Q)});var c={};c=Y.isTscProj?{playing:bc,seeking:_b,seeked:ac,timeupdate:rb,progress:xb,volumechange:cc}:{loadedmetadata:qb,playing:bc,canplay:$b,seeking:_b,seeked:ac,timeupdate:rb,progress:xb,volumechange:cc},ca.on(c),ea.removeClass(B.hide),S.on(C.Captions.Changed,Ac),dc(),ec(),Ib(),Oa=!0,jb(),ga.hide(),ca.metadataReady?ca.metadataReady.then(function(){return qb(),ca.canPlayReady.then(function(){$b(),nc()})}):nc()}},mc=function(){oa.setVideoClickToPlayErrorState(!0),va.displayMessage(ab.strings.mediaNotFound,!0),ca.on("timeupdate",function(a){0!==da.buffered.length&&(oa.setVideoClickToPlayErrorState(!1),va.hideView(),b(this).off(a))})},nc=function(){var c;d.isSafari()&&"8"===d.getSafariMajorVersion()&&(c=a.setTimeout(function(){0===da.buffered.length&&mc()},Za)),b("video, video source").off("error").on("error",function(){return i&&i.viewIsOpen?void setTimeout(function(){db(),(Ka||0===Ka)&&Db(Ka),eb()},300):(clearTimeout(c),void mc())}),Ta=!1,Y.isPlaylist&&(Y.onFirstMedia?qa.disablePreviousButton():qa.enablePreviousButton(),Y.onLastMedia?qa.disableNextButton():qa.enableNextButton(),l.isEnabled()&&(l.clearPercentWatched(),La=0),da.src=Y.currentMedia.media),_a&&(db(),d.isSafari()&&!d.isIOS()&&0===da.readyState&&da.addEventListener("canplay",function a(){da.currentTime=0,da.removeEventListener("canplay",a)}))},oc=function(){l.isEnabled()&&l.setVideoLoadStartTime((new Date).getTime()),j.getTrackEvents()&&Va&&(Va=!1,j.getAltEventCategoryAsFilename()?cb("Video_Started",Wa):cb("Video_Started",Y.currentMedia.uri),cb("Video_Percent_Viewed","Viewed: 0 Percent"))},pc=function(a,b){switch(a.type){case C.Quizzing.Complete:case C.Quizzing.Review:if(Ta)return;if(la&&la.isOpen?la.show(xa):Vb(!0),fb(),K.focusPreviousElement(),Qb(),ra.updateQuizMarkers(),a.type===C.Quizzing.Review&&j.getEnforceLinearAssessment()){var c=i.findPrevMarkerTimeForMarker(Ja);Ja=-1,Db(c/1e3),db()}else db();break;case C.Quizzing.SubmittingInstance:gc();break;case C.Quizzing.Begin:case C.Quizzing.Skip:ca?Sa&&i.quizReady&&(mb(),_a&&db(),Oa=!0,jb()):lc(),i.startTrackingProgress();break;case C.Quizzing.Error:ca||lc(),va&&va.hideView(),xc(".video-wrapper",g.strings.txtVideoQuizNetworkErrorMessage,!0);break;case C.Quizzing.Status:va.displayMessage(b.message);break;case C.Quizzing.HideLoadingMessage:case C.Quizzing.Submitted:va.hideView();break;case C.Quizzing.RationaleActionJumpToTime:var d=b.jumpToTime/1e3;ra.allowSkipQuestionSetMarkersBeforeTime(d),Eb(d)}},qc=function(a){return a.stopImmediatePropagation(),a.preventDefault(),!1},rc=function(a,c){T=a,U=T.replace(/^[#]/,""),V=[U,"video-div"].join("-"),Qa=c,Ya=d.requiresManualPreload()&&Xa;var e=h.html5_player_template({videoTagUniqueId:V,videoWrapperIndex:G.VideoWrapper});S.html(e),ga=S.find("#controls"),ha=S.find(".hotspots-container"),ea=S.find(".video-wrapper"),fa=S.find(".video-div"),ja=S.find(".youtube-pointer-event-workaround"),ia=S.find(".alert-dialog"),oa=F.create(S),va=f.create(S),Ya&&oa.disableClickToPlayEvents(),S.css("background-color",j.getBackgroundColor()),j.getPosterImageSrc()&&oa.addVideoClickToPlayBackground(j.getPosterImageSrc()),S.on("mousedown","*",function(){H.disableHighlights(b(this))}),S.on(C.Controls.LoadAndPlayControl,function(){sc()}),j.getDisableContextMenuForVideo()&&fa.on("contextmenu",qc),i.hasQuiz&&i.quizEnabled&&(i.setViewControlBarOffset(ga.height()),i.setViewContainer(ea),S.on(C.Quizzing.Complete,pc),S.on(C.Quizzing.Review,pc),S.on(C.Quizzing.Begin,pc),S.on(C.Quizzing.Skip,pc),S.on(C.Quizzing.Error,pc),S.on(C.Quizzing.Status,pc),S.on(C.Quizzing.SubmittingInstance,pc),S.on(C.Quizzing.Submitted,pc),S.on(C.Quizzing.RationaleActionJumpToTime,pc),S.on(C.Quizzing.HideLoadingMessage,pc),S.on(C.Quizzing.ShowSubmissionRetryMessage,tc),S.on(C.Quizzing.HideSubmissionRetryMessage,uc)),S.fadeIn(xa),jb(),S.resize(function(){Oa=!0,jb()}),D.monitorContainerSize(S),X=!0},sc=function(){Z.VIDEO_START_INITIATED.forEach(function(a){a.call(Q)}),gc();var a=function(){i.hasQuiz&&i.quizEnabled?jc():lc()};Xa?q.playbackReadyPromise.then(a):a()},tc=function(){xc(".tsc_overlay",g.strings.txtQuizErrorMessage,!1)},uc=function(){ia.hide()},vc=function(a){ba=a},wc=function(){(d.getIOSSupportsInlineVideo()&&!d.isNuevoApp()||d.isAndroid()||i.hasQuiz&&i.quizEnabled)&&!j.getMobileWebViewCanAutoPlay()&&j.setAutoPlayMedia(!1),j.getAutoPlayMedia()===!0&&void 0===j.getJumpToTime()?(gc(),Z.VIDEO_START_INITIATED.forEach(function(a){a.call(Q)}),setTimeout(lc,80)):"metadata"===j.getPreload()&&(Zb(),_a=!1,Z.VIDEO_START_INITIATED.forEach(function(a){a.call(Q)}),setTimeout(lc,80)),S.on(C.Media.Replay,function(){Jb(0)}),L.initialize(S),i.hasQuiz&&i.quizEnabled?(i.setViewControlBarOffset(ga.height()),i.setViewContainer(ea),(void 0!==j.getJumpToTime()||$a)&&setTimeout(jc,80)):void 0!==j.getJumpToTime()&&(gc(),setTimeout(lc,80)),(j.getTrackEvents()||j.getReportScormComplete()||i.hasQuiz&&i.quizEnabled)&&l.setEnabled(!0),W=!0,e.createMeasure(C.Timing.PlayerLoaded,C.Timing.PlayerLoaded),e.createMeasure(C.Timing.PlayerInitialized,C.Timing.PlayerInitialized);var a={rum:e.getRumEventData([C.Timing.PlayerLoaded,C.Timing.PlayerInitialized])};Z.READY.forEach(function(b){b.call(Q,a)})},xc=function(a,c,d){if(c="<span>"+c+"</span>",d&&(c+='<h4 style="cursor: pointer">'+ab.strings.clickToClose+"</h4>"),X)ia.html(c),ia.fadeIn(xa);else{var e=b(a);e.css({"background-color":j.getBackgroundColor(),height:"100%"}),e.html('<div role="alert" class="alert-dialog">'+c+"</div>"),e.fadeIn(xa),ia=b(".alert-dialog"),ia.show()}if(d){var f=ia.find("h4");f.on("click",function(){uc(),f.off("click")})}},yc=function(){var a="#000";j.getPosterImageSrc()&&(a+=" url("+j.getPosterImageSrc()+") center no-repeat"),b(".appplayer").css({background:a,position:"relative","background-size":"cover",height:"100%","z-index":"1"})},zc=function(c){var e,f=b(c);if(a.TSC.mediaPlayer.isNuevoAppCapableAndAvailable()&&(Ga&&Ga.hasAdvancedFeatures||j.getFathomId()||Y.currentMediaType===I.YOUTUBE||Y.currentMediaType===I.TSCPROJ)){e=j.getUseSlimAppSplashScreen()?h.ios_app_slim_splash_template({openWithSmartPlayer:ab.strings.openWithSmartPlayer,openSmartPlayerAppStore:ab.strings.openSmartPlayerAppStore}):h.ios_app_splash_template({playWithSmartPlayer:ab.strings.playWithSmartPlayer,playVideoOnly:ab.strings.playVideoOnly}),f.after(e),yc();var g=b(".appplayer");g.show(),f.hide(),j.getUseSlimAppSplashScreen()?(b(".openVideoSmartPlayerButton").click(function(){a.TSC.mediaPlayer.redirectToiPhoneApp()}),b(".openSmartPlayerAppStoreButton").click(function(){a.TSC.mediaPlayer.redirectToiPhoneAppDownload()})):(b(".externalLargePlayBtn").click(function(){g.hide(),f.show(),a.TSC.mediaPlayer.redirectToiPhoneApp()}),b(".appNativePlayBtn").click(function(){g.hide(),f.show(),ca=b("video"),db()}),b(".appstoreBtn").click(function(){a.TSC.mediaPlayer.redirectToiPhoneAppDownload()}))}else d.isIPhoneOrIPod()&&j.getPosterImageSrc()&&(b("video")[0].poster=j.getPosterImageSrc())},Ac=function(a,b){b&&Z.CAPTION_CHANGE.forEach(function(a){a.call(Q,b.plainText)})},Bc=function(a,b){if(void 0!==b.jumpFile)Y.currentMediaIndex=Y.getMediaIndexByUri(b.jumpFile),nc();else if(void 0!==b.jumpTime&&""!==b.jumpTime)Eb(Number(b.jumpTime)/1e3),db();else if(void 0!==b.location&&""!==b.location){j.getTrackEvents()&&cb("Hotspot_Action",b.location);var c="_parent";void 0!==b.newWindow&&b.newWindow===!0&&(c="_blank"),J.openUrl(b.location,c)}else db()},Cc=function(a){if(isNaN(a)){var b=0,c=0,d=0,e=a.toLowerCase(),f=new RegExp("(\\d+[h])","g"),g=new RegExp("(\\d+[m])","g"),h=new RegExp("(\\d+[s])","g"),i=new RegExp("\\d+","g"),j=e.match(f),k=e.match(g),l=e.match(h),m=e.match(i);return l||k||j?(j&&(b=60*Number(j[0].split("h").join(""))*60),k&&(c=60*Number(k[0].split("m").join(""))),l&&(d=Number(l[0].split("s").join(""))),Number(b+c+d)):m?d=Number(m[0]):0}return a<0&&(a=0),a},Dc=function(a,b){ca?ca.on(a,b):("object"!=typeof _[a]&&(_[a]=[]),_[a].push(b))},Ec=function(a,b){if(ca)ca.off(a,b);else{if("object"!=typeof _[a])return;for(;_[a].indexOf(b)!==-1;)_[a].splice(_[a].indexOf(b),1)}},Fc=function(){Object.keys(_).forEach(function(a){"object"==typeof _[a]&&_[a].forEach(function(b){ca.on(a,b)})}),_={}},Gc=function(){return Xa},Hc=function(){return ba.captionTrack.captionCollection},Ic=function(){return ba.captionTrack},Jc=function(a){ba.captionTrack=a,ma&&ma.handleDisplayCaptions()},Kc=function(){return ma?ma.visible:j.getCaptionsEnabled()},Lc=function(a){ma?(ma.visible=a,ma.handleDisplayCaptions(),sb()):j.setCaptionsEnabled(a)},Mc=function(){S&&S.off(),ca&&ca.off(),fa&&fa.off("contextmenu",qc),ra&&ra.destroy(),sa&&sa.destroy(),la&&la.destroy(),ma&&ma.destroy(),oa&&oa.destroy(),ta&&ta.destroy(),i.reset(),Xb(),D.forgetContainerSize(S),S=null,T=null,U=null,V=null,W=!1,X=!1,Y=null,Z={},_={},aa={},ba=null,ca=null,da=null,ea=null,fa=null,ga=null,ha=null,ia=null,ja=null,ka=null,la=null,ma=null,na=null,oa=null,pa=null,qa=null,ra=null,sa=null,ta=null,ua=null,va=null,wa=null,ya=-1,za=-1,Aa=0,Ba=0,Ca=-1,O=null,P=null,Da=100,Ea=5,Fa={x:0,y:0},Ga=null,Ha=-1,Ia=5e3,Ja=-1,Ka=-1,La=0,Ma=10,Na=!1,Oa=!1,Pa=!1,Qa=!1,Ra=!1,Sa=!1,Ta=!1,Ua=!1,Va=!0,Wa="HTML5-Video",Xa=!1,Ya=!1,Za=1e4,$a=!1,_a=!0,bb=!1,$.forEach(function(a){Z[a]=[]})};return{setupServices:vc,initHtml5View:function(a,c,d,e){Y=d,Ga=e,S=b(a),rc(a,c),wc(),cb("Content_Loaded",Wa,d.currentMedia.uri)},initSimpleHtml5View:function(c,d,e){Y=d,Ga=e;var f=b(c),g=f.find("ol");if(oa=F.create(f),Y.isPlaylist){for(var h=b(a).innerWidth()-20,i=Y.mediaList,j=i.length,k="<ol>",l="style='width: "+h+"px; height: 75px;'",m=0;m<j;m++)k+="<li "+l+" >"+fc([i[m]],!0,!0)+"</li>";k+="</ol>",f.html(k),f.css("background-color","#ffffff"),R.css("overflow","auto"),f.css("overflow","auto"),g.css({"list-style":"none",margin:"10px",padding:"0"})}else f.html(fc(Y.mediaList,!0,!0));zc(c),cb("Content_Loaded",Wa,Y.currentMedia.uri)},initTscProjView:function(a,c,d,e){Y=d,Ga=e,S=b(a);var f=Y.currentMedia.media;rc(a,c),ka=s.create(f.model,f.theme),ka.ready.then(function(){fa.append(ka.element),wc()})},initYouTubeView:function(a,c,d,e){Y=d,Ga=e,S=b(a);var f=Y.currentMedia.media;Xa=!0,rc(a,c);var g=j.getJumpToTime();g=void 0!==g?Cc(g):0,ea.css("height","calc(100% - "+ga.height()+"px)"),q.init(f,V,wc,ic,kc,S.width(),S.height(),g),cb("Content_Loaded",Wa,Y.currentMedia.uri)},destroy:Mc,jsSeekTime:function(a){if(W)if(ca)da.duration&&a<da.duration&&(Ua?Jb(a):(!i.hasQuiz||i.hasQuiz&&!i.viewIsOpen)&&Db(a));else{var b={};b.t=a,j.setURLParams(b),i.hasQuiz&&i.quizEnabled?i.viewIsOpen||setTimeout(jc,80):setTimeout(lc,80)}},jsPlay:function(){W&&(ca?Ua?Jb(0):db():i.hasQuiz&&i.quizEnabled?i.viewIsOpen||setTimeout(jc,80):setTimeout(lc,80))},play:db,pause:eb,getCurrentSrc:function(){return null!==da&&void 0!==da.currentSrc?da.currentSrc:j.getMediaSrc()},getCurrentTime:function(){return null!==da?da.currentTime:0},getDuration:function(){return null!==da?da.duration:0},getEnded:function(){return null!==da&&da.ended},getMuted:function(){return null!==sa&&sa.muted},getPaused:function(){return null!==da&&da.paused},getPlaybackRate:function(){return ta?ta.playbackRate:1},getBuffered:function(){return null!==da?da.buffered:[]},getPlayed:function(){return null!==da?da.played:[]},getSeekable:function(){return null!==da?da.seekable:[]},getSeeking:function(){return Pa},getVolume:function(){return null!==sa?sa.volume:0},setCurrentTime:Eb,setMuted:function(a){sa?sa.muted=a:aa.muted=a},setPlaybackRate:function(a){ta?ta.playbackRate=a:aa.playbackRate=a},setVolume:function(a){sa?sa.volume=a:aa.volume=a},displayMessagePanel:function(a,b,c){void 0===c&&(c=!0),xc(a,b,c)},addEventListener:function(a,b){$.indexOf(a)!==-1&&Z[a].push(b)},removeEventListener:function(a,b){if($.indexOf(a)!==-1)for(;Z[a].indexOf(b)!==-1;)Z[a].splice(Z[a].indexOf(b),1)},addMediaEventListener:Dc,removeMediaEventListener:Ec,getIsYouTube:Gc,getScrubbing:yb,setScrubbing:zb,getCaptionCollection:Hc,getCaptionTrack:Ic,setCaptionTrack:Jc,getCaptionsVisible:Kc,setCaptionsVisible:Lc}}),function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";a.TSC=a.TSC||{},a.TSC.imageView=function(){var m,n,o,p,q,r=!1,s=300,t=f.strings.accessBtnTakeQuiz,u=f.strings.accessBtnHideQuiz,v=f.strings.accessBtnShowQuiz,w=f.strings.accessBtnHideAnswer,x=f.strings.accessBtnShowAnswer,y=f.strings.mediaNotFound,z=c.image_view_template({clickToTakeTheQuiz:t}),A="Image",B=[],C=[],D=!1,E=!1,F=!1,G=!1,H=1,I=function(a,b){n.bind("error",function(){q.displayMessage(y,!0),n.hide()}),n.load(L),n.attr("src",a),P("Content_Loaded",A,a),b&&b()},J=function(){if(!h.isIOS())return d.getMediaRotation()},K=function(){var a=1,b=J();return 90!==b&&270!==b||(n.width()>n.height()?n.width()>p.height()&&(a=p.height()/n.width()):n.height()>p.width()&&(a=p.width()/n.height())),a},L=function(){G=!0,n.panzoom("resetDimensions");var a=this.naturalWidth/this.clientWidth;H=K(),n.panzoom({minScale:H,maxScale:200,rotate:J()}),n.panzoom("zoom",H,{animate:!1}),p.on("mousewheel.focal DOMMouseScroll",function(a){a.preventDefault();var b=a.delta||a.originalEvent.wheelDelta||a.originalEvent.detail*-1,c=b?b<0:a.originalEvent.deltaY>0||a.originalEvent.detail>0;a.clientX||(a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY),n.panzoom("zoom",c,{focal:a})}),n.on("panzoomzoom",function(a,b,c){n.panzoom("option","increment",.1*c),N()}),n.on("panzoomend",function(b,c,d,e){var f=this.naturalWidth/this.clientWidth;e||(1===f||d[0]>1?(n.panzoom("zoom",H,{focal:b,animate:!0}),n.css("cursor","zoom-in")):n.panzoom("zoom",a,{focal:b,animate:!0}))}),n.css("cursor","zoom-in"),m.on("resize",M)},M=function(){D?p.width("calc(100% - "+R()+"px)"):p.width("100%"),n.panzoom("resetDimensions"),n.panzoom("reset",{animate:!1}),H=K(),n.panzoom("zoom",H,{animate:!1}),j.manageResponsiveClasses()},N=function(){n.panzoom("getMatrix")[0]>1?n.css("cursor","zoom-out"):n.css("cursor","zoom-in")},O=function(a){m=a,m.html(z),m.fadeIn(s),b("body").css("background-color","transparent"),p=b("#imageWrapper"),n=b("#imageDiv"),o=b("#quizBar"),q=i.create(a),o.bind("click",Q),a.on("mousedown","*",function(a){var c=b(this);!c.is(":focus")&&!c.is(a.target)||c.is("input")||k.disableHighlights(c)}),j.monitorContainerSize(m),setTimeout(function(){g.elementOrChildHasFocus(m)&&(o.focus(),k.disableHighlights(o))},100)},P=function(b,c,e){d.getCustomEventTracking()&&d.getCustomEventCallback()&&(d.getAltEventCategoryAsFilename()?d.getCustomEventCallback().call(this,{category:d.getMediaFileName(),action:b,label:c,value:e}):d.getCustomEventCallback().call(this,{category:A,action:b,label:c,value:e})),d.getGoogleAnalyticsID()&&a._gaq.push(["_trackEvent",A,b,c])},Q=function(){!F&&G&&(r||(n.addClass("imageDiv-animation-style"),r=!0),E?D?(o.html(x),V()):(o.html(w),U()):D?(o.html(v),V()):(o.html(u),U()))},R=function(){return m.height()<=400?0:m.width()<=720?285:300},S=function(a,b,c,d){var e=Math.min(c/a,d/b);return{width:a*e,height:b*e}},T=function(a){var b=n.panzoom("getMatrix"),c=a?R()*-1:R();if(b[0]===H){var d=p.width()+c,e=p.height(),f=S(n.width(),n.height(),d,e);n[0].naturalWidth<=d&&n[0].naturalHeight<=e&&(f.width=n[0].naturalWidth,f.height=n[0].naturalHeight);var g=Math.min((d-f.width)/2),h=Math.min((e-f.height)/2);n.panzoom("pan",g,h)}p.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){
n.panzoom("resetDimensions"),b[0]===H&&(n.panzoom("reset",{animate:!1}),n.panzoom("zoom",H,{animate:!1}),n.css("cursor","zoom-in"))})},U=function(){T(!0),p.width("calc(100% - "+R()+"px)"),b.each(B,function(a,b){b()}),D=!0},V=function(){T(!1),p.width("100%"),b.each(C,function(a,b){b()}),D=!1},W=function(){o.html(""),F=!0,b("#quiz_content").hide(),b("#tsc_submitting").show()},X=function(){o.html(w),F=!1,E=!0};return{initView:function(a,b,c){e.mediaIsImage=!0,O(a),I(b,c)},showQuizBar:function(){p.height("calc(100% - 40px"),o.show()},initEvents:function(){this.addEventListener("SHOW_QUIZ",e.showQuiz),this.addEventListener("HIDE_QUIZ",e.hideQuiz),m.on(l.Quizzing.Status,W),m.on(l.Quizzing.TransitionImageQuizToAnswers,X),m.on(l.Quizzing.ShowQuizBar,this.showQuizBar),m.on(l.Quizzing.HideQuiz,Q)},addEventListener:function(a,b){if(!b||"function"!=typeof b)throw new Error("image-view.js: addEventListener() Listener argument was not a function");if("SHOW_QUIZ"===a)B.push(b);else{if("HIDE_QUIZ"!==a)throw new Error("image-view.js: addEventListener() Type argument was not SHOWQUIZ or HIDEQUIZ");C.push(b)}}}}()}(this,window.jQuery,window.TSC.templates,window.TSC.playerConfiguration,window.TSC.quizController,window.TSC.localizationStrings,window.TSC.viewHelper,window.TSC.deviceInfo,window.TSC.IoOverlayView,window.TSC.responsiveController,window.TSC.highlightDisabler,window.TSC.events);var _gaq=_gaq||[];!function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){"use strict";a.TSC=a.TSC||{},a.TSC.mediaPlayer=function(){var z="x.x.x",A="https://www.techsmith.com/redirect.asp?",B="target=nuevoappdata&product=camtasia&lang=enu&ver=1.0.0&os=mac",C="false",D="",E=null,F=null,G=!1,H=null,I=null,J=null,K=null,L=null,M=function(){s.displayMessagePanel(E,c.strings.mediaNotFound,!1)},N=function(){H===l.IMAGE?s.displayMessagePanel(".alertWindow",c.strings.txtImageQuizNetworkErrorMessage):f.isLocal()?s.displayMessagePanel(E,c.strings.xmpSecurity):s.displayMessagePanel(E,c.strings.xmpError)},O=function(){y.logMessage("Media-player: setupPlayer() attempted to load an image quiz that contained multiple question sets."),s.displayMessagePanel(".alertWindow",c.strings.txtBadImageQuiz)},P=function(){_gaq.push(["_setAccount",i.getGoogleAnalyticsID()]),i.getGAPageViewTracking()&&_gaq.push(["_trackPageview",i.getMediaFileName()]),function(){var a=document.createElement("script");a.setAttribute("data-tsc-app-name","tsc-smart-player"),a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()},Q=function(){S()},R=function(){ba(),s.setupServices(L),f.lookAtDevice(),g.strip(),!f.isNuevoApp()&&i.getPreRollSrc()?u.createView(i.getPreRollSrc(),Q):ga()||S()},S=function(){var a=i.getMediaSources();I=k.create(a),I.ready.then(W,M)},T=function(){if(f.isNuevoApp()&&J){var a=document.location,b=J.title,c=J.mediaDuration;document.location="nuevo://info?url="+a+"?title="+b+"?duration="+c}},U=function(){s.removeEventListener("VIDEO_START_INITIATED",U),u&&u.viewExists()&&u.destroyView()},V=function(){G||(H!==l.IMAGE&&s.removeEventListener("VIDEO_START",V),b(document).trigger("techsmith.cloud.viewedMedia"),G=!0)},W=function(){switch(H=m.getPlayerType(I)){case l.YOUTUBE:t.addApi(),Y();break;case l.HTML5_VIDEO:Y();break;case l.TSCPROJ:Y();break;case l.IMAGE:Y();break;case l.NOT_SUPPORTED:I.currentMediaType===j.WEBM?s.displayMessagePanel(E,c.strings.noWebMSupport):s.displayMessagePanel(E,c.strings.videoNotSupported)}},X=function(a){if(w.hasQuiz&&w.quizEnabled){w.setViewContainer(a);var b;b=i.getFathomId()?x.FATHOM:x.XMP,w.setQuestionGrader(b)}},Y=function(){i.getGoogleAnalyticsID()&&P(),_()},Z=function(a){a&&a.hasQuiz&&(K=o.create(a),w.quizModel=K)},$=function(a){i.getFathomId()?(q.addEventListener("GET_COMPLETE",function(b){Z(b),da(),"function"==typeof a&&a()}),q.addEventListener("ERROR",function(){da(),N()}),q.getFathom(i.getFathomId())):(Z(J),da())},_=function(){i.getXMPSrc()?(J=p.create(),"string"==typeof a.TSC.embedded_config_xml?J.parse(a.TSC.embedded_config_xml):J.load(i.getXMPSrc(),!1),J.ready.then(function(){i.configureFromXmp(J),c.configureFromXmp(J),$()}).catch(function(){$(),N()})):$()},aa=function(a){h.isInIframe()&&h.postMessage("CAPTION-CHANGED","*",a)},ba=function(){L=r.create()},ca=function(){F.addClass("tsc-smartplayer"),i.getFullViewPort()&&F.parents().each(function(a,c){var d=b(c);d.height("100%"),"body"===d.prop("tagName").toLowerCase()&&d.css({margin:0,padding:0,border:0,overflow:"hidden"})})},da=function(){var b=!1,d=!1;H===l.IMAGE?F.addClass("image-view"):F.addClass("video-view"),H===l.IMAGE?(v.initView(F,I.currentMedia.media,V),X(F),w.setSmartplayerElement(F),w.gatherSetupIfNeeded(),w.hasQuiz&&K.numberQuestionSets>0&&(w.hasMultipleQuestionSets()?O():v.initEvents()),w.simpleInit(),w.forceProgressUpdate(100,[0])):f.isIOS()&&!f.getIOSSupportsInlineVideo()?s.initSimpleHtml5View(E,I,J):(X(F),J&&((J.hasTocItems||J.hasSearchableItems&&i.getIsSearchable())&&(b=!0),J.hasCaptionItems&&h.isInIframe()&&h.postMessage("HAS-CAPTIONS","*"),T()),w.hasQuiz&&(f.isLocal()&&K.reportMethod!==n.NONE?(d=!0,K.reportMethod=n.NONE):K.useScorm&&0===K.totalNumberOfGradedQuestionSets&&i.setReportScormComplete(!0)),s.addEventListener("VIDEO_START_INITIATED",U),s.addEventListener("VIDEO_START",V),s.addEventListener("CAPTION_CHANGE",aa),m.getPlayerType(I)===a.TSC.playerType.YOUTUBE?s.initYouTubeView(E,b,I,J):m.getPlayerType(I)===a.TSC.playerType.TSCPROJ?s.initTscProjView(E,b,I,J):s.initHtml5View(E,b,I,J),d&&s.displayMessagePanel(E,c.strings.xmpSecurity))},ea=function(a){var b=document.createElement("script");b.setAttribute("type","text/javascript"),b.setAttribute("src",a),b.setAttribute("data-tsc-app-name","tsc-smart-player"),b.async=!0,b.onload=function(){S()},b.onerror=function(){S()},"undefined"!=typeof b&&document.getElementsByTagName("head")[0].appendChild(b)},fa=function(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++)if("tsc-smart-player"===a[b].getAttribute("data-tsc-app-name"))if(a[b].remove)a[b].remove();else{var c=a[b].parentNode;c.removeChild(a[b])}},ga=function(){return!!ia()&&(ea(A+B),!0)},ha=function(){return"true"===C},ia=function(){return!(!f.isRetinaDisplay()||f.isNuevoApp()||f.getIOSSupportsInlineVideo())},ja=function(a,b){F&&F.trigger(a,b)},ka=function(){F&&(fa(),s.removeEventListener("VIDEO_START_INITIATED",U),s.removeEventListener("VIDEO_START",V),s.removeEventListener("CAPTION_CHANGE",aa),s.destroy(),F.removeClass("tsc-smartplayer video-view image-view"),E=null,F=null,G=!1,H=null,I=null,J=null,K=null,L=null)};return{init:function(a){e.createMarker(d.Timing.PlayerInitialized),E=a,F=b(E),ca(),R()},getSmartPlayerRootElement:function(){return F},destroy:ka,getVersion:function(){return z},keyValueDataCallback:function(a){C=a.isAppReady,D=a.appDownloadURL},isNuevoAppCapableAndAvailable:function(){return ia()&&ha()},redirectToiPhoneAppDownload:function(){ia()&&a.open(D,"_top")},jsSeekTime:function(a){s.jsSeekTime(a)},jsPlay:function(){s.jsPlay()},jsDebugUI:function(){return"HTML5_VIDEO player does not support this method."},redirectToiPhoneApp:function(){if(ia()&&ha()){var b=a.location.href.split("?")[0],c="nuevo://import?url="+b,d=i.getPosterImageSrc();d&&(d.indexOf("?")!==-1&&(d=encodeURIComponent(d)),c+=b.indexOf("?")!==-1?"&posterImage="+d:"?posterImage="+d),c+=i.getAdditionalAppQueryString(),a.open(c,"_top")}},addEventListener:function(a,b){s.addEventListener(a,b)},removeEventListener:function(a,b){s.removeEventListener(a,b)},triggerEvent:ja}}()}(this,window.jQuery,window.TSC.localizationStrings,window.TSC.events,window.TSC.performanceWrapper,window.TSC.deviceInfo,window.TSC.queryParamsStripper,window.TSC.iFrameBridge,window.TSC.playerConfiguration,window.TSC.mediaType,window.TSC.MediaList,window.TSC.playerType,window.TSC.mediaPlayerController,window.TSC.reportType,window.TSC.Quiz,window.TSC.Xmp,window.TSC.fathomService,window.TSC.CaptionService,window.TSC.playerView,window.TSC.youTube,window.TSC.preRollController,window.TSC.imageView,window.TSC.quizController,window.TSC.questionGrader,window.TSC.log),function(a,b){"use strict";var c=a.TSC=a.TSC||{};c.mediaInterface=b(a,a.$,c.log,c.deviceInfo,c.quizService,c.fathomService,c.mediaPlayer,c.playerView,c.playerConfiguration,c.events)}(this,function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=["loadstart","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","play","pause","resize","error","volumechange","durationchange","ratechange","timeupdate","progress"],l=!1,m="live",n=!1,o="autohide",p={},q=null,r=function(a,b){k.indexOf(a)!==-1&&h.addMediaEventListener(a,b)},s=function(a,b){k.indexOf(a)!==-1&&h.removeMediaEventListener(a,b)},t=function(a){i.setAutoPlayMedia("true"===String(a).toLowerCase())},u=function(){return h.getCurrentTime()},v=function(){return o},w=function(a){"false"===String(a).toLowerCase()?(o=a,i.setDisableControls(!0),i.setAutoHideControls(!1)):"true"===String(a).toLowerCase()?(o=a,i.setDisableControls(!1),i.setAutoHideControls(!1)):(o="autohide",i.setDisableControls(!1),i.setAutoHideControls(!0)),g.triggerEvent(j.Controls.Updated,{newValue:a})},x=function(){var a=i.getEndActionParam();return"loop"===i.getEndActionType().toLowerCase()&&("true"===a||"1"===a)},y=function(a){"true"===String(a).toLowerCase()?(i.setEndActionType("loop"),i.setEndActionParam("true")):(i.setEndActionType("stop"),i.setEndActionParam("true"))},z=function(){return q},A=function(a){h.setMuted("true"===String(a).toLowerCase())},B=function(){return m},C=function(a){switch(String(a).toLowerCase()){case"0":case"local":m=0;break;case"1":case"dev":m=1;break;case"2":case"stage":m=2;break;case"3":case"live":default:m=3;break;case"4":case"te":case"test":m=4}f.setEnvironment(m),e.setEnvironment(m)},D=function(){return n},E=function(a){n="true"===String(a).toLowerCase(),i.setDebugHotspot(n),i.setDebugUIMode(n)},F=function(){return p},G=function(a){"object"==typeof a&&(p=b.extend(p,a))},H=function(a){i.addMediaSrc(a)},I=function(a){q=a.data},J=function(a){l||(d.lookAtDevice(),d.isIOS()&&!d.getIOSSupportsInlineVideo()&&(p.signInToken&&p.returnUrl?i.setAdditionalAppQueryParamsFromJson({sourceurl:encodeURIComponent(i.getMediaSrc()),signintoken:p.signInToken,returnUrl:encodeURIComponent(p.returnUrl)}):i.setAdditionalAppQueryParamsFromJson({sourceurl:encodeURIComponent(i.getMediaSrc())})),p.accessToken&&i.setTechSmithAccessToken(p.accessToken),i.setDisableFullframeMode(!0),i.setFullViewPort(!1),g.init("#"+a),r("error",I),l=!0)},K=function(){if(l){var a=g.getSmartPlayerRootElement();s("error",I),g.destroy(),a&&a.remove(),i.clearConfiguration(),l=!1,m="live",n=!1,o="autohide",p={},q=null}},L=function(){return i.getEndActionType()},M=function(a){i.setEndActionType(a)},N=function(){return i.getEndActionParam()},O=function(a){i.setEndActionParam(a)};return Object.defineProperties({play:h.play,pause:h.pause,addEventListener:r,removeEventListener:s,addSrc:H,run:J,destroy:K},{autoplay:{get:i.getAutoPlayMedia,set:t},buffered:{get:h.getBuffered},controls:{get:v,set:w},currentSrc:{get:h.getCurrentSrc},currentTime:{get:u,set:h.setCurrentTime},duration:{get:h.getDuration},error:{get:z},ended:{get:h.getEnded},loop:{get:x,set:y},muted:{get:h.getMuted,set:A},paused:{get:h.getPaused},playbackRate:{get:h.getPlaybackRate,set:h.setPlaybackRate},played:{get:h.getPlayed},preload:{get:i.getPreload,set:i.setPreload},seekable:{get:h.getSeekable},seeking:{get:h.getSeeking},volume:{get:h.getVolume,set:h.setVolume},src:{get:i.getMediaSrc,set:i.setMediaSrc},posterSrc:{get:i.getPosterImageSrc,set:i.setPosterImageSrc},xmpSrc:{get:i.getXMPSrc,set:i.setXMPSrc},tocSrc:{get:i.getTOCSpriteSrc,set:i.setTOCSpriteSrc},prerollSrc:{get:i.getPreRollSrc,set:i.setPreRollSrc},quizId:{get:i.getFathomId,set:i.setFathomId},background:{get:i.getBackgroundColor,set:i.setBackgroundColor},captions:{get:h.getCaptionCollection},captionTrack:{get:h.getCaptionTrack,set:h.setCaptionTrack},captionsVisible:{get:h.getCaptionsVisible,set:h.setCaptionsVisible},ignoreStoredCaptionVisible:{get:i.getIgnoreStoredCaptionVisibleSetting,set:i.setIgnoreStoredCaptionVisibleSetting},rotation:{get:i.getMediaRotation,set:i.setMediaRotation},scrubbing:{get:h.getScrubbing,set:h.setScrubbing},isYouTube:{get:h.getIsYouTube},authInfo:{get:F,set:G},environment:{get:B,set:C},debug:{get:D,set:E},endActionType:{get:L,set:M},endActionParam:{get:N,set:O}})});
//# sourceMappingURL=techsmith-smart-player.min.js.map